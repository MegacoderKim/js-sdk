<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>HyperTrack map</title>
    <!--<script src="../node_modules/whatwg-fetch/fetch.js"></script>-->
    <!--<srcipt src="../node_modules/leaflet/dist/leaflet.js"></srcipt>-->
    <script src="../node_modules/rxjs/bundles/Rx.min.js"></script>
    <script src="../node_modules/moment-mini/moment.min.js"></script>
    <script src="../node_modules/underscore/underscore-min.js"></script>
    <script src="../node_modules/ht-utility/dist/ht-utility_browser.js"></script>
    <script src="../node_modules/ht-data/dist/ht-data_browser.js"></script>
    <script src="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/markerclusterer.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBtboBD4lM6hMR02qtUjJHua9gFs6PFbQE&libraries=geometry"></script>
    <script src="../js-libs/richmarkers.js"></script>
    <script src="../node_modules/ht-maps/dist/ht-maps_browser.js"></script>
    <script src="../node_modules/ht-client/dist/ht-client_browser.js"></script>
    <link rel="stylesheet" href="../node_modules/ht-maps/dist/styles.css">
    <style>
        #map {
            height: 400px;
        }

        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
        }

    </style>
    <link rel="stylesheet" href="../node_modules/font-awesome/css/font-awesome.css">

</head>
<body>
<div id="map"></div>
<script>

    var token = "sk_55fc65eb64c0b10300c54ff79ea3f6ef22981793";

    var userId = "44e37638-0bd9-428a-9d74-556092ac712a";

    var mapClass = new htMaps.HtMapClass('google');

    mapClass.initMap(document.getElementById('map'));

    var client = new htClient.initClient(token);

    var users = htClient.usersClientFactory();

    users.listAll.setActive();

    mapClass.usersCluster.setData$(users.listAll.dataArray$);

</script>

</body>