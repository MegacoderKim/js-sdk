<div class="card-container">
  <div class="card clickable-card flex-column column-gap-10">
    <div class="bg card-content is-small flex-row row-gap-10">
      <div class="bg text-left flex flex-row row-gap-10">
        <ht-profile [url]="user.photo"></ht-profile>

        <div class="flex-column flex">
          <div class="flex-row"><span>{{user.name | nameCase | dot: 'Unknown name'}}</span></div>
          <div class="text-muted flex-row" *ngIf="user.display.last_updated_text && isToday">{{user.display.last_updated_text}}
          </div>
        </div>
      </div>
      <div class="bg text-right flex-column justify-center">
        <div *ngIf="isToday" [class.text-warning]="user.display.is_warning">{{user.display.status_text}}</div>
        <div class="flex-row row-gap-4 status text-right" style="justify-content: flex-end" *ngIf="!isToday">

          <ng-template [ngIf]="(user.total_distance || user.total_distance == 0)">
            <div>{{user.total_distance | distanceLocale: timezone}}</div>
            <span>&bull;</span>
          </ng-template>
          <div>{{user.total_duration / 60 | hmString: 1:false}}</div>
        </div>
        <!--<div class="text-muted" *ngIf="user.display.status_text && user.display.status_text != 'Unknown'">{{user.display.status_text}}</div>-->
      </div>
      <!--<ng-template #aggre>-->
        <!--<div class="text-right flex-column justify-center">-->
          <!--<div>{{user.total_distance | distanceLocale}} <span class="text-muted">Distance</span></div>-->
          <!--<div>{{user.total_duration / 60 | hmString: 1:false}} <span class="text-muted">Duration</span></div>-->
        <!--</div>-->
      <!--</ng-template>-->
    </div>
  </div>
  <a [@cardDetail] (click)="openLink($event)" [routerLink]="[baseUrl, {id: user.id} ]" queryParamsHandling="preserve" *ngIf="selected && !isWidget" class="card-action">
    <span>View Placeline</span>
  </a>
  <!--<div class="sub-status">-->
    <!--<div class="text-muted" *ngIf="user.display.sub_status_text">{{user.display.sub_status_text}}</div>-->
  <!--</div>-->
</div>
