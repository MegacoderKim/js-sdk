<div class="step-navigator">
  <div class="step-navigator-item step-navigator-install" [ngClass]="showTabContent('install') ? 'active': ''" (click)="onNextStep('install')">
    <div class="step-bar"></div>
    <div class="step-label">Install SDK</div>
  </div>
  <div class="step-navigator-item step-navigator-permissions" [ngClass]="showTabContent('permissions') ? 'active': ''" (click)="onNextStep('permissions')">
    <div class="step-bar"></div>
    <div class="step-label">Location permissions</div>
  </div>
  <div class="step-navigator-item step-navigator-communication" [ngClass]="showTabContent('communication') ? 'active': ''" (click)="onNextStep('communication')">
    <div class="step-bar"></div>
    <div class="step-label">Setup APNs</div>
  </div>
  <div class="step-navigator-item step-navigator-tracking" [ngClass]="showTabContent('tracking') ? 'active': ''" (click)="onNextStep('tracking')">
    <div class="step-bar"></div>
    <div class="step-label">Start tracking</div>
  </div>
</div>
<div class="language-switcher-container">
  <div class="language-switcher">
    <div class="code-language first"
         [ngClass]="codeLanguage === 'swift' ? 'selected': ''"
         (click)="selectLanguage('swift')"> Swift </div>
    <div class="code-language last"
         [ngClass]="codeLanguage === 'objectivec' ? 'selected': ''"
         (click)="selectLanguage('objectivec')"> Obj-C </div>
  </div>
</div>
<div class="ios-step-container sg-step-container" [ngClass]="showTabContent('install') ? 'active': ''">
  <div class="step-label" (click)="onNextStep('install')">
    <div class="step-label-title">Install our SDK with CocoaPods</div>
  </div>
  <div class="step-content">
    <div class="code-block-container">
      <app-code-block
        [codeContent]="createCodeContent('install', 0)"
        [publishableKey]="getPublishableKey()"
        [codeBlockKey]="'ios-install-0'"
        [troubleshootLink]="troubleshootLink"
      >
      </app-code-block>
    </div>
    <div class="code-block-container">
      <app-code-block
        [codeContent]="createCodeContent('install', 1)"
        [publishableKey]="getPublishableKey()"
        [codeBlockKey]="'ios-install-1'"
        [troubleshootLink]="troubleshootLink"
      >
      </app-code-block>
    </div>
    <div class="ob-button" (click)="onNextStep('permissions')">Next</div>
  </div>
</div>
<div class="ios-step-container sg-step-container" [ngClass]="showTabContent('permissions') ? 'active': ''">
  <div class="step-label" (click)="onNextStep('permissions')">
    <div class="step-label-title">Ask your users permission to access location</div>
  </div>
  <div class="step-content">
    <div class="code-block-container">
      <app-code-block
        [codeContent]="createCodeContent('permissions', 0)"
        [publishableKey]="getPublishableKey()"
        [codeBlockKey]="'ios-permissions-0'"
        [troubleshootLink]="troubleshootLink"
      >
      </app-code-block>
    </div>
    <div class="image-block-container">
      <div class="image-block" (click)="openDocsLink('ios-permissions-1')">
        <div class="image-icon-container">
          <div class="image-icon">
            <img [src]="images.settingsIcon" width="20px"/>
          </div>
          <div class="image-label">
            Add these settings in xcode
          </div>
        </div>
        <div class="image-container">
          <img [src]="images.iosBackgroundMode">
        </div>
      </div>
    </div>
    <div class="image-block-container">
      <div class="image-block" (click)="openDocsLink('ios-permissions-2')">
        <div class="image-icon-container">
          <div class="image-icon">
            <img [src]="images.settingsIcon" width="20px"/>
          </div>
          <div class="image-label">
            Info
          </div>
        </div>
        <div class="image-container">
          <img [src]="images.iosInfoPermissions">
        </div>
      </div>
    </div>
    <div class="ob-button" (click)="onNextStep('communication')">Next</div>
  </div>
</div>
<div class="ios-step-container sg-step-container" [ngClass]="showTabContent('communication') ? 'active': ''"  >
  <div class="step-label" (click)="onNextStep('communication')">
    <div class="step-label-title">Enable device to server communication</div>
  </div>
  <div class="step-content">
    <div class="step-description">
      Enable bidirectional communication between server and SDK using APNs. If you donâ€™t have APNs in your app, <a
      href="https://docs.moengage.com/v1.0/docs/apns-certificate-pem-file">follow this guide</a> for basic setup.
    </div>
    <div class="code-block-container">
      <app-code-block
        [codeContent]="createCodeContent('communication', 0)"
        [publishableKey]="getPublishableKey()"
        [codeBlockKey]="'ios-communication-0'"
        [troubleshootLink]="troubleshootLink"
      >
      </app-code-block>
    </div>
    <div class="custom-block-container">
      <div class="settings-block">
        <div class="settings-label">
          <i class="ion-gear-a"></i>Upload your certificates in settings
        </div>
        <div class="settings-detail">
          <div class="settings-detail-text">
            Upload your APNs development and distribution certificates (.pem files)
          </div>
          <a href="https://dashboard.hypertrack.com/settings" target="_blank">
            <div class="settings-detail-cta">
              Upload
            </div>
          </a>

        </div>
      </div>
    </div>
    <div class="button-container">
      <div class="ob-button obthickbutton next-button" (click)="onNextStep('tracking')">Next</div>
    </div>
  </div>
</div>
<div class="ios-step-container sg-step-container"[ngClass]="showTabContent('tracking') ? 'active': ''">
  <div class="step-label" (click)="onNextStep('tracking')">
    <div class="step-label-title">Create a HyperTrack user and start tracking!</div>
  </div>
  <div class="step-content">
    <div class="code-block-container">
      <app-code-block
        [codeContent]="createCodeContent('tracking', 0)"
        [publishableKey]="getPublishableKey()"
        [codeBlockKey]="'ios-tracking-0'"
        [troubleshootLink]="troubleshootLink"
      >
      </app-code-block>
    </div>
    <div class="ob-button" (click)="onNextStep('location')">Next</div>
  </div>
</div>
