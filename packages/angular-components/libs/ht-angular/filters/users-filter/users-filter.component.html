<div class="filter-container flex-column">
  <ht-entity-search (onSearchQuery)="onQuery($event)" *ngIf="options.showSearch"></ht-entity-search>
  <div class="dropdown" htDropdown *ngIf="options.showSorting">
    <button type="button" class="button dropdown-trigger flex-row row-gap-4">
      <span>Sorting</span>
      <ng-container *ngIf="ordering$ | async as ordering">
        <span>: {{ordering.string}}</span>
        <i [ngClass]="ordering.sign ? 'fa-arrow-up' : 'fa-arrow-down'" class="fa"></i>
      </ng-container>
      <!--<span *ngIf="ordering$ | async as ordering"></span>-->
      <!--<i class="fa fa-filter"></i>-->
    </button>
    <div class="dropdown-menu" role="menu" aria-labelledby="dropdown-keyboard-access">
      <div class="dropdown-content">
        <a class="dropdown-item" (click)="setOrdering(sort.value)" *ngFor="let sort of sortingLabels">{{sort.label}}</a>
      </div>
    </div>
  </div>
  <div class="dropdown is-hoverable" *ngIf="options.showFilter">
    <button id="dropdown-keyboard-access" type="button" class="button flex-row row-gap-4">
      <span>Filters</span> <i class="fa fa-filter"></i>
    </button>
    <div class="dropdown-menu" role="menu" aria-labelledby="dropdown-keyboard-access">
      <div class="dropdown-content">
        <a class="dropdown-item" (click)="onQuery({show_all: true})">Show all</a>
        <a class="dropdown-item" (click)="setStatus(filter.values.toString(), $event)" *ngFor="let filter of statusFiltes">{{filter.label}}</a>
      </div>

    </div>
  </div>
  <div class="flex flex-row row-gap-4" *ngIf="query$ && options.showQueries">
    <div class="" *ngFor="let query of query$ | async as queries">
      <div class="tags has-addons">
        <div class="tag is-medium is-primary">{{query.label}}</div>
        <a (click)="clearQuery(query.value)" class="tag is-medium is-primary is-delete"></a>
      </div>
    </div>
  </div>
  <ht-date-range *ngIf="options.showDatePicker" [isRight]="true"></ht-date-range>

</div>
<div class="card-overlay is-small card-content flex-row row-gap-20" [@filter]="(showFilter$ | async)">

  <div (click)="closeUser()"
       class="card-content-mid is-size-7 is-text-centered flex-row align-center">
    <span class="delete-container"> <a class="delete is-medium"></a></span>
  </div>
  <div class="flex flex-row">
    <ng-content></ng-content>
  </div>
</div>
<div class="loading-bar" *ngIf="loading$ | async">
  <ht-loading-bar></ht-loading-bar>
</div>

