<div class="flex-column column-gap-20" [@slide] *ngIf="userData$ | async as userData">
  <div ht-loading-dots *ngIf="loading$ | async; else placeline" class="is-size-1 text-center flex-row"></div>
  <ng-template #placeline>
    <ht-placeline
      [showUser]="showUserCard"
      [selectedSegmentId]="selectedSegmentId$ | async"
      (selectedSegment)="onSelectSegmentId($event)"
      (highlightedSegmentId)="onHighlightSegment($event)"
      [userPlaceline]="userData">
      <div class="user-detail flex-column column-gap-10">
        <div class="flex-row space-around wrap column-gap-20 collapsables-container">
          <ht-collapsable *ngIf="userData.actions.length">
            <button class="button is-rounded is-outlined auto action-open">Show {{userData.actions.length}} {{'action' | pluralize: userData.actions.length}}</button>
            <div class="flex-column ht-data">
              <ht-action-card [action]="action" *ngFor="let action of userData.actions"></ht-action-card>
            </div>
          </ht-collapsable>
          <ht-collapsable #c1 [class.data-full]="c1.open" [showClose]="false">
            <button class="button is-rounded is-outlined auto action-open">Show device info</button>
            <div class="flex-column ht-data">
              <div class="card-content is-small">
                <ht-user-device [userId]="userData.id"></ht-user-device>
              </div>
            </div>
          </ht-collapsable>
        </div>
      </div>
    </ht-placeline>
  </ng-template>

</div>
