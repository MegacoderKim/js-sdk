<ht-tracking-map [showSummary]="trackingMapService.actionCompleted">
  <ng-container *ngFor="let action of actionsData$ | async; trackBy: trackId">
    <ht-action-summary *ngIf="!trackingConfig.hideSummary && action.completed_at; else status" [action]="action"></ht-action-summary>
    <ng-template #status>
      <ht-action-status *ngIf="!trackingConfig.hideStatus" [action]="action"></ht-action-status>
    </ng-template>
  </ng-container>
</ht-tracking-map>
<div class="is-map-overlay has-warning" *ngIf="error$ | async">
  <div class="card is-warning">
    <div class="card-content is-small has-text-centered is-size-6">
      Network error
    </div>
  </div>
</div>
<div class="is-map-overlay has-warning" *ngIf="error$ | async">
  <div class="card is-warning">
    <div class="card-content is-small has-text-centered is-size-6">
      Network error
    </div>
  </div>
</div>
<ht-infobox [item]="item" *ngFor="let item of popups$ | async; trackBy: trackId">
  <ht-destination-popup [action]="item.data"></ht-destination-popup>
</ht-infobox>
<ht-infobox [item]="item" *ngFor="let item of userPopup$ | async; trackBy: trackId">
  <ht-user-popup [action]="item.data"></ht-user-popup>
</ht-infobox>
<ht-infobox [item]="item" *ngFor="let item of startPopup$ | async; trackBy: trackId">
  <ht-start-popup [action]="item.data"></ht-start-popup>
</ht-infobox>
<div class="is-overlay is-map-overlay has-loading" *ngIf="loading" [@fade]>
  <div id="root">
    <div class="loading-container">
      <div class="loading-section">
        <div class="loading-section-ht-logo-pale"></div>
        <div class="loading-section-ht-logo"></div>
      </div>
    </div>
  </div>
</div>
