!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("underscore"),require("ht-utility"),require("ht-data"),require("@angular/common"),require("@angular/router"),require("@angular/animations"),require("ht-maps"),require("ht-client"),require("rxjs/operators"),require("rxjs/BehaviorSubject"),require("rxjs/observable/combineLatest"),require("rxjs/observable/of"),require("rxjs/observable/merge"),require("rxjs/Subject"),require("date-fns"),require("rxjs/Observable"),require("frappe-charts/dist/frappe-charts.min.esm"),require("@angular/common/http")):"function"==typeof define&&define.amd?define(["exports","@angular/core","underscore","ht-utility","ht-data","@angular/common","@angular/router","@angular/animations","ht-maps","ht-client","rxjs/operators","rxjs/BehaviorSubject","rxjs/observable/combineLatest","rxjs/observable/of","rxjs/observable/merge","rxjs/Subject","date-fns","rxjs/Observable","frappe-charts/dist/frappe-charts.min.esm","@angular/common/http"],e):e(n["ht-angular"]={},n.ng.core,n._,n.htUtility,n.htData,n.ng.common,n.ng.router,n.ng.animations,n.htMaps,n.htClient,n.Rx.operators,n.Rx,n.Rx.Observable,n.Rx.Observable,n.Rx.Observable,n.Rx,n.dateFns,n.Rx,n.Chart,n.ng.common.http)}(this,function(n,e,t,i,o,a,r,s,l,c,p,d,u,g,x,f,m,b,h,y){"use strict";h=h&&h.hasOwnProperty("default")?h["default"]:h;var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t])};function w(n,e){function t(){this.constructor=n}v(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}function k(n,e){var t="function"==typeof Symbol&&n[Symbol.iterator];if(!t)return n;var i,o,a=t.call(n),r=[];try{for(;(void 0===e||e-- >0)&&!(i=a.next()).done;)r.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(t=a["return"])&&t.call(a)}finally{if(o)throw o.error}}return r}function S(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(k(arguments[e]));return n}var C=function(){function n(){this.selectedUserId=null,this.action="default",this.onAction=new e.EventEmitter,this.showStatus=!0,this.hovered=!1}return n.prototype.hoverIn=function(){this.hovered=!0},n.prototype.hoverOut=function(){this.hovered=!1},n.prototype.ngOnInit=function(){},n.prototype.getShowStatus=function(n){return n.segments?!!n.segments.length&&!t.last(n.segments).ended_at:!!n},n.prototype.fireAction=function(){this.onAction.next({user:this.user,action:this.action}),event.stopPropagation()},n.prototype.ngOnChanges=function(n){this.showStatus=n.user?this.getShowStatus(n.user.currentValue):this.showStatus},n.prototype.getActionText=function(){switch(this.action){case"close":return"Close";case"detail":return"";case"loading":return"loading";default:return"View on Map"}},n.prototype.debug=function(n){console.log(n)},n}();C.decorators=[{type:e.Component,args:[{selector:"ht-user-card",template:'<div class="ht-card-content flex-row flex">\n  <div class="text-left flex-row row-gap-10 flex">\n    <ht-profile [height]="35" [url]="user.photo"></ht-profile>\n    <div class="">\n      <div class="flex-row">\n        {{user.name | nameCase | dot: \'Unknown users\'}}\n      </div>\n      <ng-template [ngIf]="showStatus">\n        <div class="user-status-display" [ngClass]="user.status + \'-color\'">\n          <div [class.text-warning]="user.display.is_warning">{{user.display.status_text}}</div>\n        </div>\n        <div class="flex-row user-status">\n          <div>{{user.display.sub_status_text}}<span *ngIf="user.display.battery">&nbsp; &bull; &nbsp;</span></div>\n          <ht-battery-icon *ngIf="user.display.battery" [battery]="user.display.battery"></ht-battery-icon>\n        </div>\n      </ng-template>\n      <div class="flex-row" *ngIf="!user[\'segments\'] && user[\'total_distance\']">\n        <div>{{user[\'total_distance\'] | distanceLocale}}</div>\n        <div>&nbsp; &bull; &nbsp;</div>\n        <div>{{user[\'total_duration\'] | hmString:60}}</div>\n      </div>\n      <div class="">\n        {{user[\'phone\']}}\n      </div>\n    </div>\n  </div>\n  \x3c!--<div *ngIf="action !== \'loading\'; else loading" [@cardAction]="action == \'close\' ? \'active\' : \'inactive\'" class="flex-row">--\x3e\n    \x3c!--<button class="auto ht-btn ht-btn-card text-uppercase" (click)="fireAction()" *ngIf="getActionText()">--\x3e\n      \x3c!--{{getActionText()}}--\x3e\n    \x3c!--</button>--\x3e\n  \x3c!--</div>--\x3e\n  <ng-template #loading>\n    <div class="text-1 flex-row">\n      <ht-loading-dots class="auto"></ht-loading-dots>\n    </div>\n  </ng-template>\n</div>\n<ng-content></ng-content>\n\x3c!--<div class="card-quick-action" *ngIf="action == \'default\'">--\x3e\n  \x3c!--<div class="flex-row align-center">--\x3e\n    \x3c!--<span class="element">View on map &nbsp;</span>--\x3e\n    \x3c!--<i class="fa fa-map-o"></i>--\x3e\n  \x3c!--</div>--\x3e\n\x3c!--</div>--\x3e\n',styles:[".ht-card-content{\n  padding:5px 10px;\n}\n"],changeDetection:e.ChangeDetectionStrategy.OnPush}]}],C.ctorParameters=function(){return[]},C.propDecorators={user:[{type:e.Input}],selectedUserId:[{type:e.Input}],action:[{type:e.Input}],onAction:[{type:e.Output}],hoverIn:[{type:e.HostListener,args:["mouseenter"]}],hoverOut:[{type:e.HostListener,args:["mouseleave"]}]};var F=function(){function n(){this.height=30,this.defaultUrl=""}return n.prototype.ngOnInit=function(){},n}();F.decorators=[{type:e.Component,args:[{selector:"ht-profile",template:'<div [style.height.px]="height" [style.width.px]="height" class="profile-img" [ngStyle]="{ \'background-image\': \'url(\' + (url || defaultUrl) + \')\'}">\n</div>\n',styles:[":host .profile-img{\n  background-repeat:no-repeat;\n  background-size:cover;\n  background-position:center;\n  border-radius:50%;\n}\n"],changeDetection:e.ChangeDetectionStrategy.OnPush}]}],F.ctorParameters=function(){return[]},F.propDecorators={url:[{type:e.Input}],height:[{type:e.Input}]};var I=function(){function n(){this.battery=0,this.layout="row"}return n.prototype.ngOnInit=function(){},n.prototype.batteryClass=function(n){return n>90?"fa-battery-4":n>70?"fa-battery-3":n>25?"fa-battery-2":n>5?"fa-battery-1 text-red":"fa-battery-0 text-red"},n}();I.decorators=[{type:e.Component,args:[{selector:"ht-battery-icon",template:'<div *ngIf="battery" [ngClass]="layout == \'column\' ? \'flex-column column-gap-4 justify-center\' : \'flex-row row-gap-4 align-center\'" class="">\n  <div>\n    {{battery}}%\n  </div>\n  <i class="fa" [ngClass]="batteryClass(battery)"></i>\n</div>\n',styles:[".text-center{\n  text-align:center;\n}\n.text-muted{\n  color:#798E9B;\n}\n.text-right{\n  text-align:right;\n}\n.text-left{\n  text-align:left;\n}\n.text-1{\n  font-size:2em;\n}\n.text-4{\n  font-size:0.8em;\n}\n.text-capitalize{\n  text-transform:capitalize;\n}\n.text-uppercase{\n  text-transform:uppercase;\n}\n.text-ontime{\n  color:#58ae5b;\n}\n.text-late{\n  color:#E6413E;\n}\n.text-warning{\n  color:#E6413E !important;\n}\n.text-red{\n  color:#E6413E;\n}\n.text-blue{\n  color:#5496F8;\n}\n.truncate{\n  white-space:nowrap;\n  overflow:hidden;\n  text-overflow:ellipsis;\n}\n.flex-row{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:row;\n          flex-direction:row;\n}\n.flex-column{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n}\n.column-gap-4 > :not(:last-child){\n  margin-bottom:4px;\n}\n.row-gap-4 > :not(:last-child){\n  margin-right:4px;\n}\n.column-gap-7 > :not(:last-child){\n  margin-bottom:7px;\n}\n.row-gap-7 > :not(:last-child){\n  margin-right:7px;\n}\n.column-gap-10 > :not(:last-child){\n  margin-bottom:10px;\n}\n.row-gap-10 > :not(:last-child){\n  margin-right:10px;\n}\n.column-gap-20 > :not(:last-child){\n  margin-bottom:20px;\n}\n.row-gap-20 > :not(:last-child){\n  margin-right:20px;\n}\n.wrap{\n  -ms-flex-wrap:wrap;\n      flex-wrap:wrap;\n}\n.flex{\n  -webkit-box-flex:1;\n      -ms-flex:1;\n          flex:1;\n}\n.auto{\n  margin:auto;\n}\n.relative{\n  position:relative;\n}\n.space-between{\n  -webkit-box-pack:justify;\n      -ms-flex-pack:justify;\n          justify-content:space-between;\n}\n.space-around{\n  -ms-flex-pack:distribute;\n      justify-content:space-around;\n}\n.justify-center{\n  -webkit-box-pack:center;\n      -ms-flex-pack:center;\n          justify-content:center;\n}\n.flex-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.align-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.clickable{\n  cursor:pointer;\n}\n.round-icon{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  width:23px;\n  height:23px;\n  background:#315790;\n  border-radius:50%;\n}\n.flex-half{\n  -ms-flex-preferred-size:50%;\n      flex-basis:50%;\n}\n.link-unstyled{\n  color:inherit;\n}\n.link-unstyled:hover{\n  text-decoration:none;\n}\n.half{\n  width:50%;\n}\n.noselect{\n  -webkit-touch-callout:none;\n  -webkit-user-select:none;\n  -moz-user-select:none;\n  -ms-user-select:none;\n  user-select:none;\n}\n.hover-shadow:hover{\n  -webkit-box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n          box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n}\n.marker-transparent{\n  opacity:0.4;\n}\n.marker-fade{\n  -webkit-filter:contrast(16%) brightness(160%) blur(0.6px);\n          filter:contrast(16%) brightness(160%) blur(0.6px);\n}\n.tooltip-warning{\n  background:#e04745;\n  color:#fff;\n}\n.tooltip-warning-arrow{\n  border-right-color:#e04745 !important;\n}\n.tooltip-info{\n  background:#5496F8;\n  color:#fff;\n}\n.tooltip-info-arrow{\n  border-right-color:#5496F8 !important;\n}\na{\n  color:inherit;\n  text-decoration:none;\n}\na:hover{\n  color:inherit;\n  text-decoration:none;\n}\na:active{\n  color:inherit;\n  text-decoration:none;\n}\na:focus{\n  outline:none;\n  color:inherit;\n  text-decoration:none;\n}\n.spinner-wave{\n  margin:0 auto;\n  width:100px;\n  height:20px;\n  text-align:center;\n}\n.spinner-wave > div{\n  background-color:#5496F8;\n  height:100%;\n  width:6px;\n  display:inline-block;\n  -webkit-animation:wave 1.2s infinite ease-in-out;\n  animation:wave 1.2s infinite ease-in-out;\n}\n.spinner-wave div:nth-child(2){\n  -webkit-animation-delay:-1.1s;\n  animation-delay:-1.1s;\n}\n.spinner-wave div:nth-child(3){\n  -webkit-animation-delay:-1s;\n  animation-delay:-1s;\n}\n.spinner-wave div:nth-child(4){\n  -webkit-animation-delay:-0.9s;\n  animation-delay:-0.9s;\n}\n.spinner-wave div:nth-child(5){\n  -webkit-animation-delay:-0.8s;\n  animation-delay:-0.8s;\n}\n@-webkit-keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n  }\n}\n@keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n            transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n            transform:scaleY(1);\n  }\n}\n@media screen and (max-width: 480px){\n  .hide-xs{\n    display:none !important;\n  }\n}\n@media screen and (min-width: 480px){\n  .show-xs{\n    display:none !important;\n  }\n}\n.ht-btn{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n  padding:5px 13px;\n  border:0;\n  background:#ffffff;\n  color:#52616A;\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.ht-btn:focus{\n  background:#fcfcfc;\n  outline:0;\n}\n.ht-btn-card:hover{\n  background:#5496F8;\n  color:rgba(255, 255, 255, 0.96);\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.stopped-color{\n  color:#FFBB44;\n}\n.drive-color{\n  color:#5496F8;\n}\n.walk-color{\n  color:#5496F8;\n}\n.moving-color{\n  color:#5496F8;\n}\n.logged_off-color{\n  color:#A9BAC4;\n}\n.network_offline-color{\n  color:#d19191;\n}\n.location_disabled-color{\n  color:#d19191;\n}\n.location_low_accuracy-color{\n  color:#d19191;\n}\n.stopped-bg{\n  background:#FFBB44;\n}\n.drive-bg{\n  background:#5496F8;\n}\n.walk-bg{\n  background:#5496F8;\n}\n.moving-bg{\n  background:#5496F8;\n}\n.logged_off-bg{\n  background:#A9BAC4;\n}\n.network_offline-bg{\n  background:#d19191;\n}\n.location_disabled-bg{\n  background-color:#d19191;\n}\n.location_low_accuracy-bg{\n  background-color:#d19191;\n}\n"],changeDetection:e.ChangeDetectionStrategy.OnPush}]}],I.ctorParameters=function(){return[]},I.propDecorators={battery:[{type:e.Input}],layout:[{type:e.Input}]};var _=function(){function n(){}return n.prototype.transform=function(n,e){return i.TimeString(n,e)},n}();_.decorators=[{type:e.Pipe,args:[{name:"timeString"}]}],_.ctorParameters=function(){return[]};var D=function(){function n(){}return n.prototype.transform=function(n,e){return i.DateString(n,e)},n}();D.decorators=[{type:e.Pipe,args:[{name:"dateString"}]}],D.ctorParameters=function(){return[]};var A=function(){function n(){}return n.prototype.transform=function(n,e){return i.NameCase(n)},n}();A.decorators=[{type:e.Pipe,args:[{name:"nameCase"}]}],A.ctorParameters=function(){return[]};var P=function(){function n(){}return n.prototype.transform=function(n,e){return i.DotString(n,e)},n}();P.decorators=[{type:e.Pipe,args:[{name:"dot"}]}],P.ctorParameters=function(){return[]};var $=function(){function n(){this.show=!0}return n.prototype.ngOnInit=function(){},n}();$.decorators=[{type:e.Component,args:[{selector:"ht-loading-dots",template:'<ng-content></ng-content>\n<span [style.fontSize.px]="size || \'inherit\'" class="loading-dots"><span> &bull;</span><span> &bull;</span><span> &bull;</span></span>\n',styles:[".loading-dots{\n  font-size:inherit;\n  margin:auto;\n}\n.loading-dots span{\n  -webkit-animation-name:blink;\n          animation-name:blink;\n  -webkit-animation-duration:1.4s;\n          animation-duration:1.4s;\n  -webkit-animation-iteration-count:infinite;\n          animation-iteration-count:infinite;\n  -webkit-animation-fill-mode:both;\n          animation-fill-mode:both;\n}\n.loading-dots span:nth-child(2){\n  -webkit-animation-delay:.2s;\n          animation-delay:.2s;\n}\n.loading-dots span:nth-child(3){\n  -webkit-animation-delay:.4s;\n          animation-delay:.4s;\n}\n@-webkit-keyframes blink{\n  0%{\n    opacity:.2;\n  }\n  20%{\n    opacity:1;\n  }\n  100%{\n    opacity:.2;\n  }\n}\n@keyframes blink{\n  0%{\n    opacity:.2;\n  }\n  20%{\n    opacity:1;\n  }\n  100%{\n    opacity:.2;\n  }\n}\n"],changeDetection:e.ChangeDetectionStrategy.OnPush}]}],$.ctorParameters=function(){return[]},$.propDecorators={show:[{type:e.Input}],size:[{type:e.Input}]};var M=function(){function n(){this.message=""}return n.prototype.ngOnInit=function(){},n}();M.decorators=[{type:e.Component,args:[{selector:"ht-loading-data",template:"<div [style.fontSize.px]=\"size || 'inherit'\" loading-dots><span>{{customMessage || message}}</span></div>\n",styles:[":host{\n  color:#798E9B;\n  text-align:center;\n}\n"],changeDetection:e.ChangeDetectionStrategy.OnPush}]}],M.ctorParameters=function(){return[]},M.propDecorators={size:[{type:e.Input}],message:[{type:e.Input}],customMessage:[{type:e.Input}]};var E=function(){function n(){}return n.prototype.transform=function(n,e){return i.DateHumanize(n)},n}();E.decorators=[{type:e.Pipe,args:[{name:"dateHumanize"}]}],E.ctorParameters=function(){return[]};var z=function(){function n(){}return n.prototype.transform=function(n,e){return i.DistanceLocale(n)},n}();z.decorators=[{type:e.Pipe,args:[{name:"distanceLocale"}]}],z.ctorParameters=function(){return[]};var R=function(){function n(){}return n.prototype.transform=function(n,e,t){return i.HMString(n,e)},n}();R.decorators=[{type:e.Pipe,args:[{name:"hmString"}]}],R.ctorParameters=function(){return[]};var j=function(){function n(){}return n.prototype.transform=function(n,e){if(4===status.split(",").length)return"Fit to map"},n}();j.decorators=[{type:e.Pipe,args:[{name:"usersStatusString"}]}],j.ctorParameters=function(){return[]};var B=function(){function n(){}return n.prototype.transform=function(n,e){return o.htAction().getFilterString(n)},n}();B.decorators=[{type:e.Pipe,args:[{name:"actionStatusString"}]}],B.ctorParameters=function(){return[]};var O=function(){function n(){}return n.prototype.transform=function(n,e){return n},n}();O.decorators=[{type:e.Pipe,args:[{name:"userSortingString"}]}],O.ctorParameters=function(){return[]};var T=function(){function n(){}return n.prototype.transform=function(n,e){return o.htAction().getSortingString(n)},n}();T.decorators=[{type:e.Pipe,args:[{name:"actionSortingString"}]}],T.ctorParameters=function(){return[]};var U=function(){function n(){}return n.prototype.transform=function(n,e){},n}();U.decorators=[{type:e.Pipe,args:[{name:"safeUrl"}]}],U.ctorParameters=function(){return[]};var Y=function(){function n(){}return n.prototype.transform=function(n,e,t,i){return void 0===t&&(t="s"),void 0===i&&(i=""),e&&"number"==typeof e?e>1?n+t:n+i:n},n}();Y.decorators=[{type:e.Pipe,args:[{name:"pluralize"}]}],Y.ctorParameters=function(){return[]};var L=function(){function n(){}return n.prototype.ngOnInit=function(){},n}();L.decorators=[{type:e.Component,args:[{selector:"ht-button",template:"<p>\n  button works!\n</p>\n",styles:[""]}]}],L.ctorParameters=function(){return[]};var q=function(){function n(){}return n.prototype.ngOnInit=function(){},n}();q.decorators=[{type:e.Component,args:[{selector:"ht-loading-bar",template:'<div class="relative">\n  <div class="load-bar">\n    <div class="bar"></div>\n    <div class="bar"></div>\n    <div class="bar"></div>\n  </div>\n</div>\n',styles:['.text-center{\n  text-align:center;\n}\n.text-muted{\n  color:#798E9B;\n}\n.text-right{\n  text-align:right;\n}\n.text-left{\n  text-align:left;\n}\n.text-1{\n  font-size:2em;\n}\n.text-4{\n  font-size:0.8em;\n}\n.text-capitalize{\n  text-transform:capitalize;\n}\n.text-uppercase{\n  text-transform:uppercase;\n}\n.text-ontime{\n  color:#58ae5b;\n}\n.text-late{\n  color:#E6413E;\n}\n.text-warning{\n  color:#E6413E !important;\n}\n.text-red{\n  color:#E6413E;\n}\n.text-blue{\n  color:#5496F8;\n}\n.truncate{\n  white-space:nowrap;\n  overflow:hidden;\n  text-overflow:ellipsis;\n}\n.flex-row{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:row;\n          flex-direction:row;\n}\n.flex-column{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n}\n.column-gap-4 > :not(:last-child){\n  margin-bottom:4px;\n}\n.row-gap-4 > :not(:last-child){\n  margin-right:4px;\n}\n.column-gap-7 > :not(:last-child){\n  margin-bottom:7px;\n}\n.row-gap-7 > :not(:last-child){\n  margin-right:7px;\n}\n.column-gap-10 > :not(:last-child){\n  margin-bottom:10px;\n}\n.row-gap-10 > :not(:last-child){\n  margin-right:10px;\n}\n.column-gap-20 > :not(:last-child){\n  margin-bottom:20px;\n}\n.row-gap-20 > :not(:last-child){\n  margin-right:20px;\n}\n.wrap{\n  -ms-flex-wrap:wrap;\n      flex-wrap:wrap;\n}\n.flex{\n  -webkit-box-flex:1;\n      -ms-flex:1;\n          flex:1;\n}\n.auto{\n  margin:auto;\n}\n.relative{\n  position:relative;\n}\n.space-between{\n  -webkit-box-pack:justify;\n      -ms-flex-pack:justify;\n          justify-content:space-between;\n}\n.space-around{\n  -ms-flex-pack:distribute;\n      justify-content:space-around;\n}\n.justify-center{\n  -webkit-box-pack:center;\n      -ms-flex-pack:center;\n          justify-content:center;\n}\n.flex-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.align-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.clickable{\n  cursor:pointer;\n}\n.round-icon{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  width:23px;\n  height:23px;\n  background:#315790;\n  border-radius:50%;\n}\n.flex-half{\n  -ms-flex-preferred-size:50%;\n      flex-basis:50%;\n}\n.link-unstyled{\n  color:inherit;\n}\n.link-unstyled:hover{\n  text-decoration:none;\n}\n.half{\n  width:50%;\n}\n.noselect{\n  -webkit-touch-callout:none;\n  -webkit-user-select:none;\n  -moz-user-select:none;\n  -ms-user-select:none;\n  user-select:none;\n}\n.hover-shadow:hover{\n  -webkit-box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n          box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n}\n.marker-transparent{\n  opacity:0.4;\n}\n.marker-fade{\n  -webkit-filter:contrast(16%) brightness(160%) blur(0.6px);\n          filter:contrast(16%) brightness(160%) blur(0.6px);\n}\n.tooltip-warning{\n  background:#e04745;\n  color:#fff;\n}\n.tooltip-warning-arrow{\n  border-right-color:#e04745 !important;\n}\n.tooltip-info{\n  background:#5496F8;\n  color:#fff;\n}\n.tooltip-info-arrow{\n  border-right-color:#5496F8 !important;\n}\na{\n  color:inherit;\n  text-decoration:none;\n}\na:hover{\n  color:inherit;\n  text-decoration:none;\n}\na:active{\n  color:inherit;\n  text-decoration:none;\n}\na:focus{\n  outline:none;\n  color:inherit;\n  text-decoration:none;\n}\n.spinner-wave{\n  margin:0 auto;\n  width:100px;\n  height:20px;\n  text-align:center;\n}\n.spinner-wave > div{\n  background-color:#5496F8;\n  height:100%;\n  width:6px;\n  display:inline-block;\n  -webkit-animation:wave 1.2s infinite ease-in-out;\n  animation:wave 1.2s infinite ease-in-out;\n}\n.spinner-wave div:nth-child(2){\n  -webkit-animation-delay:-1.1s;\n  animation-delay:-1.1s;\n}\n.spinner-wave div:nth-child(3){\n  -webkit-animation-delay:-1s;\n  animation-delay:-1s;\n}\n.spinner-wave div:nth-child(4){\n  -webkit-animation-delay:-0.9s;\n  animation-delay:-0.9s;\n}\n.spinner-wave div:nth-child(5){\n  -webkit-animation-delay:-0.8s;\n  animation-delay:-0.8s;\n}\n@-webkit-keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n  }\n}\n@keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n            transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n            transform:scaleY(1);\n  }\n}\n@media screen and (max-width: 480px){\n  .hide-xs{\n    display:none !important;\n  }\n}\n@media screen and (min-width: 480px){\n  .show-xs{\n    display:none !important;\n  }\n}\n.ht-btn{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n  padding:5px 13px;\n  border:0;\n  background:#ffffff;\n  color:#52616A;\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.ht-btn:focus{\n  background:#fcfcfc;\n  outline:0;\n}\n.ht-btn-card:hover{\n  background:#5496F8;\n  color:rgba(255, 255, 255, 0.96);\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.stopped-color{\n  color:#FFBB44;\n}\n.drive-color{\n  color:#5496F8;\n}\n.walk-color{\n  color:#5496F8;\n}\n.moving-color{\n  color:#5496F8;\n}\n.logged_off-color{\n  color:#A9BAC4;\n}\n.network_offline-color{\n  color:#d19191;\n}\n.location_disabled-color{\n  color:#d19191;\n}\n.location_low_accuracy-color{\n  color:#d19191;\n}\n.stopped-bg{\n  background:#FFBB44;\n}\n.drive-bg{\n  background:#5496F8;\n}\n.walk-bg{\n  background:#5496F8;\n}\n.moving-bg{\n  background:#5496F8;\n}\n.logged_off-bg{\n  background:#A9BAC4;\n}\n.network_offline-bg{\n  background:#d19191;\n}\n.location_disabled-bg{\n  background-color:#d19191;\n}\n.location_low_accuracy-bg{\n  background-color:#d19191;\n}\n.load-bar{\n  position:absolute;\n  width:100%;\n  height:3px;\n  top:0;\n  background-color:#fdba2c;\n  z-index:10000;\n}\n.bar{\n  content:"";\n  display:inline;\n  position:absolute;\n  width:0;\n  height:100%;\n  left:50%;\n  text-align:center;\n}\n.bar:nth-child(1){\n  background-color:#da4733;\n  -webkit-animation:loading 3s linear infinite;\n          animation:loading 3s linear infinite;\n}\n.bar:nth-child(2){\n  background-color:#3b78e7;\n  -webkit-animation:loading 3s linear 1s infinite;\n          animation:loading 3s linear 1s infinite;\n}\n.bar:nth-child(3){\n  background-color:#fdba2c;\n  -webkit-animation:loading 3s linear 2s infinite;\n          animation:loading 3s linear 2s infinite;\n}\n@-webkit-keyframes loading{\n  from{\n    left:50%;\n    width:0;\n    z-index:100;\n  }\n  33.3333%{\n    left:0;\n    width:100%;\n    z-index:10;\n  }\n  to{\n    left:0;\n    width:100%;\n  }\n}\n@keyframes loading{\n  from{\n    left:50%;\n    width:0;\n    z-index:100;\n  }\n  33.3333%{\n    left:0;\n    width:100%;\n    z-index:10;\n  }\n  to{\n    left:0;\n    width:100%;\n  }\n}\n']}]}],q.ctorParameters=function(){return[]};var N=function(){function n(){this.show=!1,this.appDropdown="onHover"}return n.prototype.onMouseEnter=function(n){this.appDropdown&&"onHover"!==this.appDropdown||(this.show=!0)},n.prototype.onMouseLeave=function(n){this.appDropdown&&"onHover"!==this.appDropdown||(this.show=!1)},n.prototype.onClick=function(n){"onClick"==this.appDropdown&&(this.show=!this.show)},n.prototype.ngOnInit=function(){},n}();N.decorators=[{type:e.Directive,args:[{selector:"[htDropdown]"}]}],N.ctorParameters=function(){return[]},N.propDecorators={show:[{type:e.HostBinding,args:["class.is-active"]}],appDropdown:[{type:e.Input}],hover:[{type:e.Input}],onMouseEnter:[{type:e.HostListener,args:["mouseenter",["$event"]]}],onMouseLeave:[{type:e.HostListener,args:["mouseleave",["$event"]]}],onClick:[{type:e.HostListener,args:["click",["$event"]]}]};var H=function(){return function(){}}();H.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule,r.RouterModule],declarations:[F,I,D,_,P,A,$,M,E,z,R,j,B,U,O,T,Y,L,q,N],exports:[F,I,D,_,P,A,$,M,E,z,R,j,B,U,O,T,Y,q,N]}]}],H.ctorParameters=function(){return[]};var G=function(){return function(){}}();G.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule,H],declarations:[C],exports:[C]}]}],G.ctorParameters=function(){return[]};var Q=function(){function n(){this.hasMap=!1,this.showExtraBtn=!0,this.onSelectUser=new e.EventEmitter,this.onAction=new e.EventEmitter,this.onHover=new e.EventEmitter}return n.prototype.ngOnInit=function(){},n.prototype.getAction=function(n){var e=n.id;return this.hasMap?this.selectedUserId===n.id?"close":e!==this.loadingUserDataId||this.selectedUserId&&n.segments?this.selectedUserDataId===n.id?"detail":"default":"loading":"detail"},n.prototype.indexId=function(n,e){return e.id},n.prototype.selectUser=function(n){this.onSelectUser.next(n)},n.prototype.hover=function(n){this.onHover.next(n)},n.prototype.ngOnDestroy=function(){},n}();Q.decorators=[{type:e.Component,args:[{selector:"ht-users",template:'<div class="card-stack" *ngIf="users" [@cardStack]="users.length">\n  <ht-user-card\n    [@sort]="i"\n    class="flex-row card card-clickable is-marginless"\n    [class.card-selected]="selectedUserDataId == user.id"\n    (mouseenter)="hover(user.id)"\n    (mouseleave)="hover(null)"\n    (click)="selectUser(user)"\n    [user]="user" *ngFor="let user of users; let i = index; trackBy:indexId">\n    <div *ngIf="selectedUserId" class="card-content-mid card-action flex-row align-center" (click)="onAction.next({event: $event, action: \'close\'})">\n      <a class="delete is-medium"></a>\n    </div>\n    <ht-loading-dots\n      *ngIf="user.id === loadingUserDataId && !selectedUserId" class="card-content-mid text-1 card-action flex-row align-center">\n    </ht-loading-dots>\n  </ht-user-card>\n</div>\n',styles:[".card-action-clicked{\n  color:white;\n}\n.card-action{\n  font-size:1.3em;\n  font-weight:bold;\n  min-width:46px;\n}\n.card-action.clickable:hover{\n  background:#e6e6e6;\n}\n"],changeDetection:e.ChangeDetectionStrategy.OnPush,animations:[s.trigger("card",[s.transition(":enter",[s.style({transform:"translateX(-100px)",height:0,opacity:0}),s.animate("0.3s ease-out")]),s.transition(":leave",[s.style({transform:"translateX(0px)",height:"*",opacity:1}),s.animate("0.3s ease-in",s.style({transform:"translateX(-100px)",height:0,opacity:0}))])]),s.trigger("image",[]),s.trigger("sort",[s.transition("* => *",s.animate(500,s.keyframes([s.style("*"),s.style({opacity:.1}),s.style("*")])))]),s.trigger("cardStack",[s.transition("* => *",[s.query(".card:enter",[s.style({transform:"translateX(-100px)",height:0,opacity:0}),s.animate("0.3s ease-out")],{optional:!0}),s.query(".card:leave",[s.style({transform:"translateX(0px)",height:"*",opacity:1}),s.animate("0.3s ease-in",s.style({transform:"translateX(-100px)",height:0,opacity:0}))],{optional:!0})])])]}]}],Q.ctorParameters=function(){return[]},Q.propDecorators={users:[{type:e.Input}],selectedUserId:[{type:e.Input}],selectedUserDataId:[{type:e.Input}],loadingUserDataId:[{type:e.Input}],hasMap:[{type:e.Input}],showExtraBtn:[{type:e.Input}],onSelectUser:[{type:e.Output}],onAction:[{type:e.Output}],onHover:[{type:e.Output}]};var K=function(){return function(){}}();K.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule,H,G],declarations:[Q],exports:[Q]}]}],K.ctorParameters=function(){return[]};var V=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return w(e,n),e}(l.HtMapClass),W=new e.InjectionToken("app.mapType"),X=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return w(e,n),e}(c.HtUsersClient),Z=function(){function n(n,e){this.userService=n,this.mapService=e,this.hasPlaceline=!0,this.hasMap=!1,this.showStatusSummary=!0,this.showActiveSummary=!0,this.apiType=c.ApiType.analytics,this.showAll=!1,this._queryMap=[{label:"Logged in",values:["stopped","on_trip","network_offline"],color:i.Color.blue},{label:"Logged off",values:["logged_off"],color:"#a8a8a8"},{label:"Location disabled",values:["location_disabled"],color:i.Color.red}]}return n.prototype.ngOnInit=function(){var n=this;if(this.userService.list.setActive(),this.hasPlaceline){var e=o.listwithSelectedId$(this.userService.list.data$,this.userService.list.id$);this.user$=this.userService.placeline.data$,this.usersPage$=o.listWithItem$(e,this.user$),this.mapService.usersCluster.onClick=function(e){n.selectUserCard(e.data)}}else this.usersPage$=this.userService.list.data$;this.users$=this.usersPage$.pipe(p.map(function(n){return n?n.results:n})),this.loadingUsers$=this.userService.getLoading$(),this.loadingUserDataId$=this.userService.placeline.loading$.pipe(p.map(function(n){return!!n}),p.distinctUntilChanged()),this.selectedUserDataId$=this.userService.placeline.id$,this.selectedUserId$=this.userService.list.id$,this.showSummary$=this.selectedUserId$.pipe(p.map(function(n){return!n}),p.distinctUntilChanged())},Object.defineProperty(n.prototype,"queryMap",{get:function(){var n=this.userService.filterClass.showAllQueryArray;return this.showAll?S(this._queryMap,n):this._queryMap},enumerable:!0,configurable:!0}),n.prototype.clear=function(){this.mapService.segmentTrace.trace(null)},n.prototype.selectUserMarker=function(n){this.mapService.usersCluster.highlight(n)},n.prototype.onAction=function(n){switch(n.action){case"close":this.closeUser(n.event);break;case"detail":this.selectUserCard(n.user);break;case"default":this.selectUserCardAction(n.user,n.event)}},n.prototype.selectUserCard=function(n){this.hasPlaceline?this.selectUser(n):this.selectUserMarker(n)},n.prototype.selectUserCardAction=function(n,e){this.hasPlaceline?this.selectUserData(n,e):this.selectUserMarker(n)},n.prototype.closeUser=function(n){n.stopPropagation(),this.userService.list.setId(null),this.userService.placeline.setId(null)},n.prototype.selectUser=function(n){var e=n.id;this.userService.list.toggleId(e),this.userService.placeline.toggleId(e)},n.prototype.selectUserData=function(n,e){var t=n.id;e.stopPropagation(),this.userService.placeline.toggleId(t)},n.prototype.fetchPage=function(n){this.userService.list.addQuery({page:n})},n.prototype.hoverUser=function(n){this.mapService.usersCluster.setPopup(n)},n.prototype.closeHoverUser=function(){this.hoverUser(null)},n.prototype.ngOnDestroy=function(){this.userService.list.clearData(),this.userService.list.setId(null)},n}();Z.decorators=[{type:e.Component,args:[{selector:"ht-users-container",template:'<div class="flex-column relative">\n  <ng-container *ngIf="showSummary$ | async">\n    <ht-users-summary-container *ngIf="showStatusSummary" [selectable]="true"></ht-users-summary-container>\n    <ht-users-summary-container *ngIf="showActiveSummary" [selectable]="true" [hideTotal]="true" [queryLabels]="queryMap"></ht-users-summary-container>\n  </ng-container>\n  <ht-users\n    [selectedUserDataId]="selectedUserDataId$ | async"\n    [selectedUserId]="selectedUserId$ | async"\n    [loadingUserDataId]="loadingUserDataId$ | async"\n    [hasMap]="hasMap"\n    (onHover)="hoverUser($event)"\n    (onAction)="onAction($event)"\n    (onSelectUser)="selectUserCard($event)"\n    [showExtraBtn]="hasPlaceline"\n    [users]="users$ | async"></ht-users>\n  <ht-placeline-container [showUserCard]="false" *ngIf="(selectedUserId$ | async)"></ht-placeline-container>\n  \x3c!--<div *ngIf="(selectedUserId$ | async) && user$ | async as userData">--\x3e\n    \x3c!--&lt;!&ndash;<ht-user-card [user]="userData"></ht-user-card>&ndash;&gt;--\x3e\n    \x3c!--<ht-placeline [userData]="userData"></ht-placeline>--\x3e\n  \x3c!--</div>--\x3e\n  <div class="loading-box" *ngIf="loadingUsers$ | async"></div>\n  <ng-container *ngIf="usersPage$ | async as usersPage">\n    <ht-pagination (fetchPage)="fetchPage($event)" [pageDate]="usersPage"></ht-pagination>\n  </ng-container>\n</div>\n',styles:[".text-center{\n  text-align:center;\n}\n.text-muted{\n  color:#798E9B;\n}\n.text-right{\n  text-align:right;\n}\n.text-left{\n  text-align:left;\n}\n.text-1{\n  font-size:2em;\n}\n.text-4{\n  font-size:0.8em;\n}\n.text-capitalize{\n  text-transform:capitalize;\n}\n.text-uppercase{\n  text-transform:uppercase;\n}\n.text-ontime{\n  color:#58ae5b;\n}\n.text-late{\n  color:#E6413E;\n}\n.text-warning{\n  color:#E6413E !important;\n}\n.text-red{\n  color:#E6413E;\n}\n.text-blue{\n  color:#5496F8;\n}\n.truncate{\n  white-space:nowrap;\n  overflow:hidden;\n  text-overflow:ellipsis;\n}\n.flex-row{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:row;\n          flex-direction:row;\n}\n.flex-column{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n}\n.column-gap-4 > :not(:last-child){\n  margin-bottom:4px;\n}\n.row-gap-4 > :not(:last-child){\n  margin-right:4px;\n}\n.column-gap-7 > :not(:last-child){\n  margin-bottom:7px;\n}\n.row-gap-7 > :not(:last-child){\n  margin-right:7px;\n}\n.column-gap-10 > :not(:last-child){\n  margin-bottom:10px;\n}\n.row-gap-10 > :not(:last-child){\n  margin-right:10px;\n}\n.column-gap-20 > :not(:last-child){\n  margin-bottom:20px;\n}\n.row-gap-20 > :not(:last-child){\n  margin-right:20px;\n}\n.wrap{\n  -ms-flex-wrap:wrap;\n      flex-wrap:wrap;\n}\n.flex{\n  -webkit-box-flex:1;\n      -ms-flex:1;\n          flex:1;\n}\n.auto{\n  margin:auto;\n}\n.relative{\n  position:relative;\n}\n.space-between{\n  -webkit-box-pack:justify;\n      -ms-flex-pack:justify;\n          justify-content:space-between;\n}\n.space-around{\n  -ms-flex-pack:distribute;\n      justify-content:space-around;\n}\n.justify-center{\n  -webkit-box-pack:center;\n      -ms-flex-pack:center;\n          justify-content:center;\n}\n.flex-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.align-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.clickable{\n  cursor:pointer;\n}\n.round-icon{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  width:23px;\n  height:23px;\n  background:#315790;\n  border-radius:50%;\n}\n.flex-half{\n  -ms-flex-preferred-size:50%;\n      flex-basis:50%;\n}\n.link-unstyled{\n  color:inherit;\n}\n.link-unstyled:hover{\n  text-decoration:none;\n}\n.half{\n  width:50%;\n}\n.noselect{\n  -webkit-touch-callout:none;\n  -webkit-user-select:none;\n  -moz-user-select:none;\n  -ms-user-select:none;\n  user-select:none;\n}\n.hover-shadow:hover{\n  -webkit-box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n          box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n}\n.marker-transparent{\n  opacity:0.4;\n}\n.marker-fade{\n  -webkit-filter:contrast(16%) brightness(160%) blur(0.6px);\n          filter:contrast(16%) brightness(160%) blur(0.6px);\n}\n.tooltip-warning{\n  background:#e04745;\n  color:#fff;\n}\n.tooltip-warning-arrow{\n  border-right-color:#e04745 !important;\n}\n.tooltip-info{\n  background:#5496F8;\n  color:#fff;\n}\n.tooltip-info-arrow{\n  border-right-color:#5496F8 !important;\n}\na{\n  color:inherit;\n  text-decoration:none;\n}\na:hover{\n  color:inherit;\n  text-decoration:none;\n}\na:active{\n  color:inherit;\n  text-decoration:none;\n}\na:focus{\n  outline:none;\n  color:inherit;\n  text-decoration:none;\n}\n.spinner-wave{\n  margin:0 auto;\n  width:100px;\n  height:20px;\n  text-align:center;\n}\n.spinner-wave > div{\n  background-color:#5496F8;\n  height:100%;\n  width:6px;\n  display:inline-block;\n  -webkit-animation:wave 1.2s infinite ease-in-out;\n  animation:wave 1.2s infinite ease-in-out;\n}\n.spinner-wave div:nth-child(2){\n  -webkit-animation-delay:-1.1s;\n  animation-delay:-1.1s;\n}\n.spinner-wave div:nth-child(3){\n  -webkit-animation-delay:-1s;\n  animation-delay:-1s;\n}\n.spinner-wave div:nth-child(4){\n  -webkit-animation-delay:-0.9s;\n  animation-delay:-0.9s;\n}\n.spinner-wave div:nth-child(5){\n  -webkit-animation-delay:-0.8s;\n  animation-delay:-0.8s;\n}\n@-webkit-keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n  }\n}\n@keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n            transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n            transform:scaleY(1);\n  }\n}\n@media screen and (max-width: 480px){\n  .hide-xs{\n    display:none !important;\n  }\n}\n@media screen and (min-width: 480px){\n  .show-xs{\n    display:none !important;\n  }\n}\n.ht-btn{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n  padding:5px 13px;\n  border:0;\n  background:#ffffff;\n  color:#52616A;\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.ht-btn:focus{\n  background:#fcfcfc;\n  outline:0;\n}\n.ht-btn-card:hover{\n  background:#5496F8;\n  color:rgba(255, 255, 255, 0.96);\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.stopped-color{\n  color:#FFBB44;\n}\n.drive-color{\n  color:#5496F8;\n}\n.walk-color{\n  color:#5496F8;\n}\n.moving-color{\n  color:#5496F8;\n}\n.logged_off-color{\n  color:#A9BAC4;\n}\n.network_offline-color{\n  color:#d19191;\n}\n.location_disabled-color{\n  color:#d19191;\n}\n.location_low_accuracy-color{\n  color:#d19191;\n}\n.stopped-bg{\n  background:#FFBB44;\n}\n.drive-bg{\n  background:#5496F8;\n}\n.walk-bg{\n  background:#5496F8;\n}\n.moving-bg{\n  background:#5496F8;\n}\n.logged_off-bg{\n  background:#A9BAC4;\n}\n.network_offline-bg{\n  background:#d19191;\n}\n.location_disabled-bg{\n  background-color:#d19191;\n}\n.location_low_accuracy-bg{\n  background-color:#d19191;\n}\n.loading-box{\n  position:absolute;\n  background:rgba(255, 255, 255, 0.7);\n  top:0;\n  left:0;\n  width:100%;\n  height:100%;\n  -webkit-transition:background 0.5s;\n  transition:background 0.5s;\n  pointer-events:none;\n}\n.loading-box-active{\n  background:rgba(255, 255, 255, 0.7);\n}\n"]}]}],Z.ctorParameters=function(){return[{type:X},{type:V}]},Z.propDecorators={hasPlaceline:[{type:e.Input}],hasMap:[{type:e.Input}],showStatusSummary:[{type:e.Input}],showActiveSummary:[{type:e.Input}],apiType:[{type:e.Input}],showAll:[{type:e.Input}]};var J=function(){function n(n){this.ref=n,this.highlightedSegmentId=new e.EventEmitter,this.hoveredAction=new e.EventEmitter,this.selectedSegment=new e.EventEmitter,this.selectedSegmentId="__",this.isMobile=!1,this.selectedAction=null,this.selectedActivity="",this.hardSelectedActivity="",this.actionMap={}}return n.prototype.selectInUserData=function(n,e){if(!n||"trip"!==n.type&&"stop"!==n.type)this.hardSelectedActivity="",this.selectedSegment.next(null),e&&e.stopPropagation();else{var t=n.id,i=this.selectedSegmentId===t?null:n.id;this.selectedSegment.next(i)}},n.prototype.selectSegment=function(n,e){if(void 0===e&&(e=!0),n.actionText){var t=e?n.action_id:null;this.selectAction(t)}else{var i=e?n.id:null;this.highlightActivity(i)}},n.prototype.hoverActivity=function(n){this.selectedActivity=n,this.ref.detectChanges()},n.prototype.highlightActivity=function(n){if(this.selectedSegmentId)return!1;this.highlightedSegmentId.next(n),this.hoverActivity(n)},n.prototype.selectAction=function(n){this.selectedAction=n,this.hoveredAction.next(n),this.ref.detectChanges()},Object.defineProperty(n.prototype,"placelineMod",{get:function(){var n=this,e=this.userData;if(0===this.userData.segments.length)return[];var i=e.actions;this.actionMap={};var o=this.currentExpActions(i),a=o.currentActions,r=o.expActions,s=this.userData.events,l=t.reduce(this.userData.segments,function(e,i){var o=i.started_at,a=n.getActivityText(i),r=n.getActivityClass(i),s=n.getActivityPlaceAddress(i),l=i,c=n.getGapSegment(i,e.lastSeg),p=Object.assign({},i,{time:o,events:[]},n.getSegmentStyle(r),{activityText:a,placeAddress:s}),d=t.reject(e.events,function(e){if(n.isEventInSegment(i,e)){var t=n.getEventDisplay(e);return t&&p.events.push(Object.assign({},e,t)),!0}return!1});return{activitySegments:S(e.activitySegments,c,[p]),events:d,lastSeg:l}},{activitySegments:[],events:s,lastSeg:null}).activitySegments,c=this.lastSeg(e),p=t.reduce(S(l,[c]),function(e,i,o,a){l=e.activitySegments;var r=i,s=e.lastSeg?e.lastSeg.activityClass:"no-info",c=e.actionSegments,p=t.reject(e.actionEvents,function(t){if(n.getMinute(t.actionTime)==n.getMinute(i.time)&&!i.ended&&!i.actionText){var o=n.createActionSegment(t,s,e.lastSeg);return i=Object.assign({},o,i),!0}if(t.actionTime<=i.time){o=n.createActionSegment(t,s,e.lastSeg);return c.push(o),!0}return!1});return i.ended&&!i.actionText||(i.ended?l.push(Object.assign({},i,{ended:!1})):l.push(i)),{activitySegments:l,actionEvents:p,lastSeg:r,actionSegments:c}},{activitySegments:[],actionEvents:a,lastSeg:null,actionSegments:[]}),d=p.actionSegments,u=p.actionEvents,g=S(l,d),x=t.sortBy(g,function(n){return n.time}),f=t.map(u,function(e,t){return c.activityBorder="no-info-border",c.activityText="No information",n.createActionSegment(e,"no-info")}),m=t.map(r,function(e,t,i){0===u.length&&(c.activityBorder="line-border");var o=t<i.length-2?"line":"";return n.createActionSegment(e,o)});return c.time?S(x,[c],f,m):S(x,m)},enumerable:!0,configurable:!0}),n.prototype.createActionSegment=function(n,e,t){void 0===e&&(e="no-info"),void 0===t&&(t={});var i=t?t.id:"";return Object.assign({},n,{time:n.actionTime},this.getSegmentStyle(e),{ended:!1,isLive:!1,id:i})},n.prototype.getSegmentStyle=function(n){return void 0===n&&(n="no-info"),n?{activityBg:n+"-bg",activityBorder:n+"-border",activityClass:n,activityColor:n+"-color"}:{}},n.prototype.isEventInSegment=function(n,e){if(n.ended_at&&e.recorded_at){var t=this.getMinute(e.recorded_at),i=this.getMinute(n.ended_at);return t>=this.getMinute(n.started_at)&&t<=i}return!1},n.prototype.getMinute=function(n){var e=new Date(n).getTime();return Math.round(e-e%6e4)},n.prototype.currentExpActions=function(n){var e=this;return t.reduce(n,function(n,t){var o=[];e.actionMap=e.setActionMap(t);var a=Object.assign({actionText:i.NameCase(t.type)+" assigned",actionTime:t.assigned_at,actionD:i.NameCase(t.type[0])+e.actionMap[t.id],action_id:t.id,actionLookupId:t.lookup_id},t),r=a.actionTime?S(n.currentActions,[a]):n.currentActions;if(t.display.ended_at){r=S(r,[s=Object.assign({actionText:i.NameCase(t.type)+" "+t.status,actionTime:t.display.ended_at,actionD:i.NameCase(t.type[0])+e.actionMap[t.id],actionEnd:!0,action_id:t.id,action_distance:t.distance,action_duration:t.duration,actionEnded:!0,actionLookupId:t.lookup_id},t)])}else{var s=Object.assign({actionText:i.NameCase(t.type)+" scheduled",actionTime:t.eta||null,actionD:i.NameCase(t.type[0])+e.actionMap[t.id],actionEnd:!0,action_id:t.id,action_distance:t.distance,action_duration:t.duration,actionLookupId:t.lookup_id},t);o.push(s)}return{currentActions:r,expActions:o}},{currentActions:[],expActions:[]})},n.prototype.lastSeg=function(n){var e=t.last(n.segments);if(!e)return{};var i,a=(new o.HtPlaceline).isLive(n);return a?(a=!0,i=n.last_heartbeat_at):i=e.ended_at,{time:i,pipeClass:"",id:"..",lastSeg:!0,isLive:a,ended:!0,activityClass:this.getActivityClass(e),activityBg:this.getActivityClass(e)+"-bg"}},n.prototype.isSegmentLive=function(n){var e=n.display.seconds_elapsed_since_last_heartbeat;return"Logged off"!==n.display.status_text&&e<900},n.prototype.getActivityClass=function(n){var e=n.type;return"location_void"===e?"warning":"stop"===e?"stop":"trip"},n.prototype.getPipeClass=function(n){return"stop"===n?"stop solid":"trip solid"},n.prototype.getActivityText=function(n){return n.activity?n.activity:"stop"===n.type?"Stop":n.reason?this.getLocationVoidText(n):i.NameCase(n.type)},n.prototype.getActivityPlaceAddress=function(n){return"stop"===n.type&&n.place&&n.place.locality?n.place.locality:""},n.prototype.getLocationVoidText=function(n){switch(n.reason){case"disabled":return"Location disabled";case"no_permission":return"Location permission unavailable";case"unknown":return"Location unavailable";case"sdk_inactive":return"SDK inactive";case"no_activity_permission":return"No activity permission";case"device_off":return"Device off";default:return"Location unavailable"}},n.prototype.getEventDisplay=function(n){switch(n.type){case"tracking.started":return{text:"Tracking started",subtext:""};case"tracking.ended":return{text:"Tracking ended",subtext:""};case"device.secondary.ignored":return{text:"Secondary device ignored",subtext:""}}},n.prototype.getGapSegment=function(n,e){var t=[];if(!e)return[];if(n.started_at&&e.ended_at){var i=this.getMinute(n.started_at),o=this.getMinute(e.ended_at),a=(new Date(n.started_at).getTime()-new Date(e.ended_at).getTime())/1e3;if(i!==o&&o<i){var r=Object.assign({},this.getSegmentStyle("no-info"),{time:e.ended_at,activityText:"No information",events:[],id:"...",duration:a});t.push(r)}}return t},n.prototype.setActionMap=function(n){var e=this.actionMap,t=n.type,i=n.id,o=this.actionMap[t],a=this.actionMap[i];return o?a||(e[t]=this.actionMap[t]+1,e[i]=""+this.actionMap[t]):(e[t]=1,e[i]=""),Object.assign({},e)},n.prototype.indexId=function(n,e){return e.id},n.prototype.indexPlaceline=function(n,e){return e.time||""},n.prototype.log=function(n){console.log(n)},n.prototype.ngOnInit=function(){},n}();J.decorators=[{type:e.Component,args:[{selector:"ht-placeline",template:'<div class="flex-column">\n  <div\n    class="flex-row segment"\n    (click)="selectInUserData(segment)"\n    [class.active-segment]="(selectedActivity == segment.id && segment.activityBorder && !selectedSegmentId) || selectedSegmentId === segment.id"\n    (mouseenter)="highlightActivity(segment.id)"\n    (mouseleave)="highlightActivity(null)"\n    *ngFor="let segment of placelineMod; trackBy:indexPlaceline; let last = last">\n    <div class="time-container action-time">\n      <div class="target-status text-muted">\n      </div>\n      <div class="timestamp">\n        {{segment.time | timeString | dot: \'Unknown ETA\'}}\n      </div>\n      <div class="text-muted">\n        {{segment.time | dateString: \'short\'}}\n      </div>\n      \x3c!--<div class="time-container-mid text-muted" *ngIf="!segment.actionD">--\x3e\n        \x3c!--<span>{{segment.duration / 60 | hmString}}</span>--\x3e\n      \x3c!--</div>--\x3e\n    </div>\n    <div class="pipe">\n      <div class="bar" *ngIf="!last" [class.big]="(selectedActivity == segment.id && segment.activityBorder && !selectedSegmentId) || selectedSegmentId === segment.id" [class.solid]="segment.activityBorder" [ngClass]="segment.activityBorder"></div>\n    </div>\n    <div class="flex-column flex timeline-detail">\n      <div class="activity-dot segment-dot" [class.activity-dot-ended]="segment.actionEnded" *ngIf="segment.actionD"><div class="auto">{{segment.actionD}} </div></div>\n      <div *ngIf="segment.isLive" [ngClass]="segment.activityBg" class="segment-dot"><div *ngIf="segment.isLive" [ngClass]="segment.activityBg" class="pulse"></div></div>\n      <div *ngIf="!segment.isLive && !segment.actionD" class="a-dot" [ngClass]="segment.activityBorder"></div>\n      <div class="flex-column column-gap-10">\n        <div (mouseenter)="selectAction(segment.action_id)" (mouseleave)="selectAction(null)" class="action-card" *ngIf="segment.actionText">\n          <div class="flex-column column-gap-4">\n            <div class="title">\n              {{segment.actionText}}\n            </div>\n            <div class="lookup" *ngIf="segment.actionLookupId">{{segment.actionLookupId}}</div>\n            <div *ngIf="segment.expected_at && segment.actionEnd">Scheduled at {{segment.expected_at | timeString}}</div>\n            <div *ngIf="segment.action_duration" class="flex-row row-gap-4">\n              <span>{{segment.action_duration / 60 | hmString}}</span>\n              <ng-template [ngIf]="(segment.action_distance || segment.action_distance == 0)">\n                <span>&bull;</span>\n                <span>{{segment.action_distance | distanceLocale}}</span>\n              </ng-template>\n            </div>\n          </div>\n        </div>\n        \x3c!--<pre>--\x3e\n        \x3c!--{{segment | json}}--\x3e\n        \x3c!--</pre>--\x3e\n        <div class="activity-card flex-column" *ngIf="segment.activityText">\n          <div [ngClass]="segment.activityColor">\n            {{segment.activityText | nameCase}}\n          </div>\n          <div class="flex-row row-gap-4 activity-stats align-center" *ngIf="segment.duration">\n            <span>{{segment.duration / 60 | hmString}}</span>\n            <ng-template [ngIf]="(segment.distance || segment.distance == 0) && segment.type == \'trip\'">\n              <span>&bull;</span>\n              <span>{{segment.distance | distanceLocale}}</span>\n            </ng-template>\n          </div>\n          <div>\n            {{segment.placeAddress}}\n          </div>\n          <table class="table table-bordered table-condensed" *ngIf="segment.events && segment.events.length">\n            <tbody>\n            <tr *ngFor="let event of segment.events; trackBy:indexId">\n              <td>{{event.recorded_at | timeString}}</td>\n              <td>{{event.text}}</td>\n            </tr>\n            </tbody>\n          </table>\n          <div class="text-muted" *ngIf="selectedSegmentId == segment.id && segment.place">\n            {{segment.place.address}}\n          </div>\n          <div class="close-card" *ngIf="selectedSegmentId == segment.id && !isMobile" (click)="selectInUserData(null, $event)">\n            <i class="fa fa-times-circle fa-2x"></i>\n          </div>\n        </div>\n        <div *ngIf="segment.isLive" class="text-muted heatbeat">\n          Last heartbeat\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="card" *ngIf="placelineMod && placelineMod.length == 0">\n  <div class="card-content-mid text-center"><strong>No Placeline</strong></div>\n</div>\n',styles:[".text-center{\n  text-align:center;\n}\n.text-muted{\n  color:#798E9B;\n}\n.text-right{\n  text-align:right;\n}\n.text-left{\n  text-align:left;\n}\n.text-1{\n  font-size:2em;\n}\n.text-4{\n  font-size:0.8em;\n}\n.text-capitalize{\n  text-transform:capitalize;\n}\n.text-uppercase{\n  text-transform:uppercase;\n}\n.text-ontime{\n  color:#58ae5b;\n}\n.text-late{\n  color:#E6413E;\n}\n.text-warning{\n  color:#E6413E !important;\n}\n.text-red{\n  color:#E6413E;\n}\n.text-blue{\n  color:#5496F8;\n}\n.truncate{\n  white-space:nowrap;\n  overflow:hidden;\n  text-overflow:ellipsis;\n}\n.flex-row{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:row;\n          flex-direction:row;\n}\n.flex-column{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n}\n.column-gap-4 > :not(:last-child){\n  margin-bottom:4px;\n}\n.row-gap-4 > :not(:last-child){\n  margin-right:4px;\n}\n.column-gap-7 > :not(:last-child){\n  margin-bottom:7px;\n}\n.row-gap-7 > :not(:last-child){\n  margin-right:7px;\n}\n.column-gap-10 > :not(:last-child){\n  margin-bottom:10px;\n}\n.row-gap-10 > :not(:last-child){\n  margin-right:10px;\n}\n.column-gap-20 > :not(:last-child){\n  margin-bottom:20px;\n}\n.row-gap-20 > :not(:last-child){\n  margin-right:20px;\n}\n.wrap{\n  -ms-flex-wrap:wrap;\n      flex-wrap:wrap;\n}\n.flex{\n  -webkit-box-flex:1;\n      -ms-flex:1;\n          flex:1;\n}\n.auto{\n  margin:auto;\n}\n.relative{\n  position:relative;\n}\n.space-between{\n  -webkit-box-pack:justify;\n      -ms-flex-pack:justify;\n          justify-content:space-between;\n}\n.space-around{\n  -ms-flex-pack:distribute;\n      justify-content:space-around;\n}\n.justify-center{\n  -webkit-box-pack:center;\n      -ms-flex-pack:center;\n          justify-content:center;\n}\n.flex-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.align-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.clickable{\n  cursor:pointer;\n}\n.round-icon{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  width:23px;\n  height:23px;\n  background:#315790;\n  border-radius:50%;\n}\n.flex-half{\n  -ms-flex-preferred-size:50%;\n      flex-basis:50%;\n}\n.link-unstyled{\n  color:inherit;\n}\n.link-unstyled:hover{\n  text-decoration:none;\n}\n.half{\n  width:50%;\n}\n.noselect{\n  -webkit-touch-callout:none;\n  -webkit-user-select:none;\n  -moz-user-select:none;\n  -ms-user-select:none;\n  user-select:none;\n}\n.hover-shadow:hover{\n  -webkit-box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n          box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n}\n.marker-transparent{\n  opacity:0.4;\n}\n.marker-fade{\n  -webkit-filter:contrast(16%) brightness(160%) blur(0.6px);\n          filter:contrast(16%) brightness(160%) blur(0.6px);\n}\n.tooltip-warning{\n  background:#e04745;\n  color:#fff;\n}\n.tooltip-warning-arrow{\n  border-right-color:#e04745 !important;\n}\n.tooltip-info{\n  background:#5496F8;\n  color:#fff;\n}\n.tooltip-info-arrow{\n  border-right-color:#5496F8 !important;\n}\na{\n  color:inherit;\n  text-decoration:none;\n}\na:hover{\n  color:inherit;\n  text-decoration:none;\n}\na:active{\n  color:inherit;\n  text-decoration:none;\n}\na:focus{\n  outline:none;\n  color:inherit;\n  text-decoration:none;\n}\n.spinner-wave{\n  margin:0 auto;\n  width:100px;\n  height:20px;\n  text-align:center;\n}\n.spinner-wave > div{\n  background-color:#5496F8;\n  height:100%;\n  width:6px;\n  display:inline-block;\n  -webkit-animation:wave 1.2s infinite ease-in-out;\n  animation:wave 1.2s infinite ease-in-out;\n}\n.spinner-wave div:nth-child(2){\n  -webkit-animation-delay:-1.1s;\n  animation-delay:-1.1s;\n}\n.spinner-wave div:nth-child(3){\n  -webkit-animation-delay:-1s;\n  animation-delay:-1s;\n}\n.spinner-wave div:nth-child(4){\n  -webkit-animation-delay:-0.9s;\n  animation-delay:-0.9s;\n}\n.spinner-wave div:nth-child(5){\n  -webkit-animation-delay:-0.8s;\n  animation-delay:-0.8s;\n}\n@-webkit-keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n  }\n}\n@keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n            transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n            transform:scaleY(1);\n  }\n}\n@media screen and (max-width: 480px){\n  .hide-xs{\n    display:none !important;\n  }\n}\n@media screen and (min-width: 480px){\n  .show-xs{\n    display:none !important;\n  }\n}\n.ht-btn{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n  padding:5px 13px;\n  border:0;\n  background:#ffffff;\n  color:#52616A;\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.ht-btn:focus{\n  background:#fcfcfc;\n  outline:0;\n}\n.ht-btn-card:hover{\n  background:#5496F8;\n  color:rgba(255, 255, 255, 0.96);\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.stopped-color{\n  color:#FFBB44;\n}\n.drive-color{\n  color:#5496F8;\n}\n.walk-color{\n  color:#5496F8;\n}\n.moving-color{\n  color:#5496F8;\n}\n.logged_off-color{\n  color:#A9BAC4;\n}\n.network_offline-color{\n  color:#d19191;\n}\n.location_disabled-color{\n  color:#d19191;\n}\n.location_low_accuracy-color{\n  color:#d19191;\n}\n.stopped-bg{\n  background:#FFBB44;\n}\n.drive-bg{\n  background:#5496F8;\n}\n.walk-bg{\n  background:#5496F8;\n}\n.moving-bg{\n  background:#5496F8;\n}\n.logged_off-bg{\n  background:#A9BAC4;\n}\n.network_offline-bg{\n  background:#d19191;\n}\n.location_disabled-bg{\n  background-color:#d19191;\n}\n.location_low_accuracy-bg{\n  background-color:#d19191;\n}\n:host{\n  margin:30px 0;\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n}\n.segment{\n  border-radius:4px;\n  padding-right:18px;\n}\n.active-segment{\n  background:rgba(255, 255, 255, 0.75);\n}\n.trip-status{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n  text-align:center;\n  color:#52616A;\n  margin-bottom:20px;\n  position:relative;\n}\n.trip-status .status-main{\n  font-size:31px;\n  font-weight:600;\n}\n.trip-status .status-sub{\n  color:#798E9B;\n  font-size:12px;\n}\n.ht-breadcrumb{\n  padding-bottom:19px;\n}\n.card{\n  margin-bottom:9px;\n}\n.card .action-img{\n  margin:0 auto;\n}\n.card .content-right{\n  -ms-flex-pack:distribute;\n      justify-content:space-around;\n  position:relative;\n  text-align:center;\n}\n.driver-container{\n  margin-bottom:20px;\n  border-bottom:1px solid #C9D6DE;\n  padding-bottom:16px;\n}\n.driver-container .text-muted{\n  color:#A9BAC4;\n}\n.task-status{\n  padding-bottom:20px;\n  text-align:center;\n  color:#52616A;\n}\n.time-container{\n  width:84px;\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n  text-align:right;\n  padding-right:20px;\n  padding-bottom:16px;\n  z-index:5;\n  color:#52616A;\n}\n.time-container .target-status{\n  font-size:10px;\n}\n.time-container .timestamp{\n  font-size:14px;\n  color:#52616A;\n}\n.time-container .text-muted{\n  color:#A9BAC4;\n  font-size:12px;\n}\n.time-container .timestamp-text{\n  font-size:12px;\n  color:#52616A;\n  font-weight:700;\n}\n.time-container-mid{\n  height:100%;\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-pack:end;\n      -ms-flex-pack:end;\n          justify-content:flex-end;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.pipe{\n  width:20px;\n  min-width:20px;\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n  -webkit-box-pack:center;\n      -ms-flex-pack:center;\n          justify-content:center;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n  z-index:1;\n}\n.pipe .bar{\n  height:100%;\n  -webkit-box-flex:1;\n      -ms-flex:1;\n          flex:1;\n}\n.pipe .big{\n  outline:2px solid;\n}\n.pipe .solid{\n  border-right:3px solid #798E9B;\n}\n.pipe .line{\n  border-right:3px dotted #798E9B;\n}\n.pipe .line-border{\n  border-right:3px dotted #798E9B;\n  outline:0;\n}\n.pipe .light{\n  border-right:3px dashed rgba(121, 142, 155, 0.4);\n}\n.pipe .fade{\n  border-right:3px solid rgba(121, 142, 155, 0.14);\n}\n.timeline-detail{\n  padding-bottom:22px;\n  position:relative;\n  padding-left:16px;\n  min-height:66px;\n}\n.timeline-detail .task-action{\n  font-size:16px;\n  color:#52616A;\n  text-transform:capitalize;\n  margin-bottom:4px;\n  -webkit-transition:font-size 0.4s;\n  transition:font-size 0.4s;\n}\n.timeline-detail .action-title{\n  font-size:16px;\n  color:#52616A;\n  text-transform:capitalize;\n  -webkit-transition:font-size 0.4s;\n  transition:font-size 0.4s;\n  font-weight:700;\n}\n.timeline-detail .task-detail{\n  background:#fff;\n  padding:6px 10px;\n  color:#52616A;\n  -webkit-transition:font-size 0.4s;\n  transition:font-size 0.4s;\n}\n.timeline-detail .task-icon{\n  position:absolute;\n  left:-23px;\n  top:-2px;\n}\n.timeline-detail .task-ontime-status{\n  color:#55ad58;\n  padding-bottom:4px;\n  font-size:11px;\n  -webkit-transition:font-size 0.4s;\n  transition:font-size 0.4s;\n}\n.timeline-detail .text-late{\n  color:#E6413E;\n}\n.selected-task .task-action{\n  font-size:18px;\n}\n.selected-task .task-detail{\n  font-size:13px;\n}\n.selected-task .task-ontime-status{\n  font-size:13px;\n}\n.trip-event .pipe{\n  padding-top:7px;\n}\n.trip-event .time-container{\n  padding-bottom:24px;\n}\n.segment-dot{\n  width:25px;\n  height:25px;\n  border-radius:50%;\n  background:#fff;\n  position:absolute;\n  top:-1px;\n  left:-23px;\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  z-index:2;\n}\n.a-dot{\n  width:9px;\n  height:9px;\n  border-radius:50%;\n  background:#fff;\n  border:2px solid #798E9B;\n  position:absolute;\n  top:-4px;\n  left:-14px;\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  background-color:white;\n  z-index:2;\n}\n.activity-dot{\n  border:1px solid #798E9B;\n  font-size:10px;\n}\n.activity-dot-ended{\n  background:#798E9B;\n  color:#fff;\n}\n.trip-dot{\n  border:0px solid #5496F8;\n  background:#5496F8;\n}\n.trip-dot .pulse{\n  background:#5496F8;\n}\n.stop-dot{\n  border:0px solid #5496F8;\n  background:#5496F8;\n}\n.stop-dot .pulse{\n  background:#5496F8;\n}\n@-webkit-keyframes pulse{\n  0%{\n    -webkit-transform:scale(0.3, 0.3);\n            transform:scale(0.3, 0.3);\n    opacity:0.9;\n  }\n  100%{\n    -webkit-transform:scale(3, 3);\n            transform:scale(3, 3);\n    opacity:0;\n  }\n}\n@keyframes pulse{\n  0%{\n    -webkit-transform:scale(0.3, 0.3);\n            transform:scale(0.3, 0.3);\n    opacity:0.9;\n  }\n  100%{\n    -webkit-transform:scale(3, 3);\n            transform:scale(3, 3);\n    opacity:0;\n  }\n}\n.ranges li.active{\n  background:#52616A;\n  border-color:#52616A;\n}\n.ranges li{\n  color:#52616A;\n}\n.ranges li:hover{\n  background:#52616A;\n  border-color:#52616A;\n}\n.pulse{\n  border-radius:50%;\n  height:25px;\n  width:25px;\n  -webkit-animation:pulse 3s ease-out;\n          animation:pulse 3s ease-out;\n  -webkit-animation-iteration-count:infinite;\n          animation-iteration-count:infinite;\n  position:absolute;\n  z-index:10;\n  opacity:1;\n  margin:auto;\n}\n.trip{\n  color:#5496F8;\n  border-color:#5496F8 !important;\n}\n.stop{\n  color:#FFBB44;\n  border-color:#FFBB44 !important;\n}\n.no-info{\n  color:#FFBB44;\n  border-color:#A9BAC4 !important;\n}\n.ht-faded{\n  opacity:0.4;\n}\n.action{\n  position:absolute;\n  top:6px;\n  padding:3px;\n  font-size:19px;\n  color:#798E9B;\n}\n.action-left{\n  left:11px;\n  font-size:35px;\n  color:#A9BAC4;\n}\n.action-left:hover{\n  color:#798E9B;\n}\n.text-sm{\n  font-size:11px;\n  color:#52616A;\n  padding-bottom:7px;\n}\n.title{\n  font-size:13px;\n  font-weight:bold;\n}\n.activity-card{\n  padding:6px 10px;\n  color:#52616A;\n  -webkit-transition:font-size 0.4s;\n  transition:font-size 0.4s;\n  font-size:13px;\n  position:relative;\n  cursor:pointer;\n}\n.activity-card-selected{\n  background:#fff;\n}\n.activity-card-selected:hover{\n  background:#fff;\n}\n.activity-card .close-card{\n  position:absolute;\n  top:-3px;\n  right:-3px;\n  color:#52616A;\n  height:14px;\n  width:14px;\n  border-radius:50%;\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n}\n.activity-card .close-card .fa{\n  margin:auto;\n}\n.action-card{\n  background:#fff;\n  padding:3px 11px;\n  border:1px solid #C9D6DE;\n  font-size:11px;\n  cursor:pointer;\n  color:#52616A;\n  margin-left:-127px;\n  padding-left:134px;\n  margin-top:-9px;\n  min-height:50px;\n  -webkit-box-shadow:1px 2px 2px 0px rgba(0, 0, 0, 0.07);\n          box-shadow:1px 2px 2px 0px rgba(0, 0, 0, 0.07);\n}\n.action-card:hover{\n  border:1px solid #798E9B;\n}\n.action-card-active{\n  border:1px solid #798E9B;\n}\n.trip-border{\n  border-color:#5496F8 !important;\n  outline-color:#5496F8 !important;\n}\n.stop-border{\n  border-color:#FFBB44 !important;\n  outline-color:#FFBB44 !important;\n}\n.no-info-border{\n  border-color:#A9BAC4 !important;\n  outline-color:#A9BAC4 !important;\n}\n.warning-border{\n  border-color:#d19191 !important;\n  outline-color:#d19191 !important;\n}\n.trip-bg{\n  background:#5496F8;\n}\n.stop-bg{\n  background:#FFBB44;\n}\n.no-info-bg{\n  background:#A9BAC4;\n}\n.warning-bg{\n  background:#d19191;\n}\n.trip-color{\n  color:#5496F8;\n}\n.stop-color{\n  color:#ffb025;\n}\n.no-info-color{\n  color:#A9BAC4;\n}\n.warning-color{\n  color:#d19191;\n}\n.table{\n  margin:7px 0;\n  font-size:11px;\n}\n.activity-stats{\n  font-size:12px;\n  font-weight:bold;\n}\n.heatbeat{\n  padding-left:12px;\n  font-size:13px;\n}\n"],changeDetection:e.ChangeDetectionStrategy.OnPush}]}],J.ctorParameters=function(){return[{type:e.ChangeDetectorRef}]},J.propDecorators={highlightedSegmentId:[{type:e.Output}],hoveredAction:[{type:e.Output}],selectedSegment:[{type:e.Output}],userData:[{type:e.Input}],selectedSegmentId:[{type:e.Input}],isMobile:[{type:e.Input}]};var nn=function(){return function(){}}();nn.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule,H],declarations:[J],exports:[J]}]}],nn.ctorParameters=function(){return[]};var en=function(){function n(n){this.userClientService=n,this.showUserCard=!0}return n.prototype.ngOnInit=function(){this.selectedSegmentId$=this.userClientService.placeline.segmentResetId$,this.userData$=this.userClientService.placeline.data$,this.userId&&this.userClientService.placeline.setId(this.userId)},n.prototype.onHighlightSegment=function(n){this.userClientService.placeline.setSegmentSelectedId(n)},n.prototype.onSelectSegmentId=function(n){this.userClientService.placeline.setSegmentResetMapId(n)},n.prototype.ngOnDestroy=function(){this.userClientService.placeline.setId(null),this.userClientService.placeline.clearData()},n}();en.decorators=[{type:e.Component,args:[{selector:"ht-placeline-container",template:'<div class="flex-column column-gap-10" *ngIf="userData$ | async as userData; else loading">\n  <ht-user-card *ngIf="showUserCard" [user]="userData"></ht-user-card>\n  <ht-placeline [selectedSegmentId]="selectedSegmentId$ | async" (selectedSegment)="onSelectSegmentId($event)" (highlightedSegmentId)="onHighlightSegment($event)" [userData]="userData"></ht-placeline>\n</div>\n<ng-template #loading>\n  <ht-loading-dots class="text-1 text-center flex-row"></ht-loading-dots>\n</ng-template>\n',styles:[".text-center{\n  text-align:center;\n}\n.text-muted{\n  color:#798E9B;\n}\n.text-right{\n  text-align:right;\n}\n.text-left{\n  text-align:left;\n}\n.text-1{\n  font-size:2em;\n}\n.text-4{\n  font-size:0.8em;\n}\n.text-capitalize{\n  text-transform:capitalize;\n}\n.text-uppercase{\n  text-transform:uppercase;\n}\n.text-ontime{\n  color:#58ae5b;\n}\n.text-late{\n  color:#E6413E;\n}\n.text-warning{\n  color:#E6413E !important;\n}\n.text-red{\n  color:#E6413E;\n}\n.text-blue{\n  color:#5496F8;\n}\n.truncate{\n  white-space:nowrap;\n  overflow:hidden;\n  text-overflow:ellipsis;\n}\n.flex-row{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:row;\n          flex-direction:row;\n}\n.flex-column{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n}\n.column-gap-4 > :not(:last-child){\n  margin-bottom:4px;\n}\n.row-gap-4 > :not(:last-child){\n  margin-right:4px;\n}\n.column-gap-7 > :not(:last-child){\n  margin-bottom:7px;\n}\n.row-gap-7 > :not(:last-child){\n  margin-right:7px;\n}\n.column-gap-10 > :not(:last-child){\n  margin-bottom:10px;\n}\n.row-gap-10 > :not(:last-child){\n  margin-right:10px;\n}\n.column-gap-20 > :not(:last-child){\n  margin-bottom:20px;\n}\n.row-gap-20 > :not(:last-child){\n  margin-right:20px;\n}\n.wrap{\n  -ms-flex-wrap:wrap;\n      flex-wrap:wrap;\n}\n.flex{\n  -webkit-box-flex:1;\n      -ms-flex:1;\n          flex:1;\n}\n.auto{\n  margin:auto;\n}\n.relative{\n  position:relative;\n}\n.space-between{\n  -webkit-box-pack:justify;\n      -ms-flex-pack:justify;\n          justify-content:space-between;\n}\n.space-around{\n  -ms-flex-pack:distribute;\n      justify-content:space-around;\n}\n.justify-center{\n  -webkit-box-pack:center;\n      -ms-flex-pack:center;\n          justify-content:center;\n}\n.flex-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.align-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.clickable{\n  cursor:pointer;\n}\n.round-icon{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  width:23px;\n  height:23px;\n  background:#315790;\n  border-radius:50%;\n}\n.flex-half{\n  -ms-flex-preferred-size:50%;\n      flex-basis:50%;\n}\n.link-unstyled{\n  color:inherit;\n}\n.link-unstyled:hover{\n  text-decoration:none;\n}\n.half{\n  width:50%;\n}\n.noselect{\n  -webkit-touch-callout:none;\n  -webkit-user-select:none;\n  -moz-user-select:none;\n  -ms-user-select:none;\n  user-select:none;\n}\n.hover-shadow:hover{\n  -webkit-box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n          box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n}\n.marker-transparent{\n  opacity:0.4;\n}\n.marker-fade{\n  -webkit-filter:contrast(16%) brightness(160%) blur(0.6px);\n          filter:contrast(16%) brightness(160%) blur(0.6px);\n}\n.tooltip-warning{\n  background:#e04745;\n  color:#fff;\n}\n.tooltip-warning-arrow{\n  border-right-color:#e04745 !important;\n}\n.tooltip-info{\n  background:#5496F8;\n  color:#fff;\n}\n.tooltip-info-arrow{\n  border-right-color:#5496F8 !important;\n}\na{\n  color:inherit;\n  text-decoration:none;\n}\na:hover{\n  color:inherit;\n  text-decoration:none;\n}\na:active{\n  color:inherit;\n  text-decoration:none;\n}\na:focus{\n  outline:none;\n  color:inherit;\n  text-decoration:none;\n}\n.spinner-wave{\n  margin:0 auto;\n  width:100px;\n  height:20px;\n  text-align:center;\n}\n.spinner-wave > div{\n  background-color:#5496F8;\n  height:100%;\n  width:6px;\n  display:inline-block;\n  -webkit-animation:wave 1.2s infinite ease-in-out;\n  animation:wave 1.2s infinite ease-in-out;\n}\n.spinner-wave div:nth-child(2){\n  -webkit-animation-delay:-1.1s;\n  animation-delay:-1.1s;\n}\n.spinner-wave div:nth-child(3){\n  -webkit-animation-delay:-1s;\n  animation-delay:-1s;\n}\n.spinner-wave div:nth-child(4){\n  -webkit-animation-delay:-0.9s;\n  animation-delay:-0.9s;\n}\n.spinner-wave div:nth-child(5){\n  -webkit-animation-delay:-0.8s;\n  animation-delay:-0.8s;\n}\n@-webkit-keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n  }\n}\n@keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n            transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n            transform:scaleY(1);\n  }\n}\n@media screen and (max-width: 480px){\n  .hide-xs{\n    display:none !important;\n  }\n}\n@media screen and (min-width: 480px){\n  .show-xs{\n    display:none !important;\n  }\n}\n.ht-btn{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n  padding:5px 13px;\n  border:0;\n  background:#ffffff;\n  color:#52616A;\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.ht-btn:focus{\n  background:#fcfcfc;\n  outline:0;\n}\n.ht-btn-card:hover{\n  background:#5496F8;\n  color:rgba(255, 255, 255, 0.96);\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.stopped-color{\n  color:#FFBB44;\n}\n.drive-color{\n  color:#5496F8;\n}\n.walk-color{\n  color:#5496F8;\n}\n.moving-color{\n  color:#5496F8;\n}\n.logged_off-color{\n  color:#A9BAC4;\n}\n.network_offline-color{\n  color:#d19191;\n}\n.location_disabled-color{\n  color:#d19191;\n}\n.location_low_accuracy-color{\n  color:#d19191;\n}\n.stopped-bg{\n  background:#FFBB44;\n}\n.drive-bg{\n  background:#5496F8;\n}\n.walk-bg{\n  background:#5496F8;\n}\n.moving-bg{\n  background:#5496F8;\n}\n.logged_off-bg{\n  background:#A9BAC4;\n}\n.network_offline-bg{\n  background:#d19191;\n}\n.location_disabled-bg{\n  background-color:#d19191;\n}\n.location_low_accuracy-bg{\n  background-color:#d19191;\n}\n:host{\n  max-width:500px;\n}\nht-loading-dots{\n  width:100%;\n  margin-top:20%;\n}\n"]}]}],en.ctorParameters=function(){return[{type:X}]},en.propDecorators={userId:[{type:e.Input}],showUserCard:[{type:e.Input}]};var tn=function(){return function(){}}();tn.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule,nn,G,H],declarations:[en],exports:[en]}]}],tn.ctorParameters=function(){return[]};var on=function(){function n(n){this.usersClientService=n,this.hideTotal=!1,this.selectable=!1}return n.prototype.ngOnInit=function(){this.usersClientService.summary.setActive(),this.summary$=this.usersClientService.listStatusChart$(this.queryLabels)},n.prototype.onClearQueryKey=function(n){this.usersClientService.list.clearQueryKey(n)},n.prototype.setQuery=function(n){this.usersClientService.list.setQueryReset(n)},n.prototype.ngOnDestroy=function(){this.usersClientService.summary.clearData()},n}();on.decorators=[{type:e.Component,args:[{selector:"ht-users-summary-container",template:'<div [@summaryAnim] *ngIf="summary$ | async as summary">\n  <ht-users-summary\n    [hideTotal]="hideTotal"\n    (clearQueryKey)="onClearQueryKey($event)"\n    (setQuery)="setQuery($event)"\n    [selectable]="selectable"\n    [summary]="summary"></ht-users-summary>\n</div>\n',styles:["ht-users-summary{\n  padding:10px 20px;\n}\n"],animations:[s.trigger("summaryAnim",[s.transition(":enter",[s.style({transform:"translateX(-100px) scaleY(0)",height:0,opacity:0}),s.animate("0.3s ease-out")]),s.transition(":leave",[s.animate("0.3s ease-in",s.style({transform:"translateX(-100px)",height:0,opacity:0}))])])]}]}],on.ctorParameters=function(){return[{type:X}]},on.propDecorators={queryLabels:[{type:e.Input}],hideTotal:[{type:e.Input}],selectable:[{type:e.Input}]};var an=function(){function n(){this.setQuery=new e.EventEmitter,this.clearQueryKey=new e.EventEmitter,this.selectable=!1}return n.prototype.ngOnInit=function(){},n.prototype.onHoverQuery=function(n){this.hoveredQuery=n.label},n.prototype.onHoveroutQuery=function(){this.hoveredQuery=""},n.prototype.indexId=function(n,e){return e.label},n.prototype.setFilter=function(n){var e={status:n.values.toString()};this.setQuery.next(e)},n.prototype.clearFilter=function(n){this.clearQueryKey.next("status")},n.prototype.selectLabel=function(n){if(!this.selectable)return!1;n.selected?this.clearFilter(n):this.setFilter(n)},n}();an.decorators=[{type:e.Component,args:[{selector:"ht-users-summary",template:'<div class="flex-column justify-center label-container has-text-grey">\n  <div *ngIf="!hideTotal" class="count text-center">{{summary.totalUsers}} {{\'user\' | pluralize: summary.totalUsers}}</div>\n  <div class="flex-row" *ngIf="summary.totalUsers">\n    <ng-container *ngFor="let datum of summary.chart; trackBy:indexId; let i = index">\n      <div\n        class="bar"\n        [style.flex-basis.%]="datum.value/summary.totalUsers * 100"\n        [style.background-color]="datum.color"\n        [class.faded]="hoveredQuery && hoveredQuery !== datum.label"\n        [class.bar-selected]="hoveredQuery && hoveredQuery === datum.label"\n      *ngIf="datum.value"></div>\n    </ng-container>\n  </div>\n  <div *ngIf="summary.totalUsers == 0" class="bar" style="width: 100%; background: #ccc"></div>\n  <div class="flex-row row-gap-4">\n    \x3c!--<div class="box" [style.background-color]="datum.color"></div>--\x3e\n    <div\n      class="graph-label flex-column"\n      [class.graph-active]="datum.selected"\n      [class.graph-label-selectable]="selectable"\n      (click)="selectLabel(datum)"\n      (mouseenter)="onHoverQuery(datum)"\n      (mouseleave)="onHoveroutQuery()"\n      *ngFor="let datum of summary.chart; trackBy:indexId; let i = index">\n      <strong class="text-center is-size-4" [style.color]="datum.color">\n        {{datum.value}}\n      </strong>\n      <span class="text-center">{{datum.label}}</span>\n    </div>\n    \x3c!--<div class="box" style="background-color: #ccc;"></div>--\x3e\n  </div>\n</div>\n\x3c!--{{summary | json}}--\x3e\n',styles:[".text-center{\n  text-align:center;\n}\n.text-muted{\n  color:#798E9B;\n}\n.text-right{\n  text-align:right;\n}\n.text-left{\n  text-align:left;\n}\n.text-1{\n  font-size:2em;\n}\n.text-4{\n  font-size:0.8em;\n}\n.text-capitalize{\n  text-transform:capitalize;\n}\n.text-uppercase{\n  text-transform:uppercase;\n}\n.text-ontime{\n  color:#58ae5b;\n}\n.text-late{\n  color:#E6413E;\n}\n.text-warning{\n  color:#E6413E !important;\n}\n.text-red{\n  color:#E6413E;\n}\n.text-blue{\n  color:#5496F8;\n}\n.truncate{\n  white-space:nowrap;\n  overflow:hidden;\n  text-overflow:ellipsis;\n}\n.flex-row{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:row;\n          flex-direction:row;\n}\n.flex-column{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n}\n.column-gap-4 > :not(:last-child){\n  margin-bottom:4px;\n}\n.row-gap-4 > :not(:last-child){\n  margin-right:4px;\n}\n.column-gap-7 > :not(:last-child){\n  margin-bottom:7px;\n}\n.row-gap-7 > :not(:last-child){\n  margin-right:7px;\n}\n.column-gap-10 > :not(:last-child){\n  margin-bottom:10px;\n}\n.row-gap-10 > :not(:last-child){\n  margin-right:10px;\n}\n.column-gap-20 > :not(:last-child){\n  margin-bottom:20px;\n}\n.row-gap-20 > :not(:last-child){\n  margin-right:20px;\n}\n.wrap{\n  -ms-flex-wrap:wrap;\n      flex-wrap:wrap;\n}\n.flex{\n  -webkit-box-flex:1;\n      -ms-flex:1;\n          flex:1;\n}\n.auto{\n  margin:auto;\n}\n.relative{\n  position:relative;\n}\n.space-between{\n  -webkit-box-pack:justify;\n      -ms-flex-pack:justify;\n          justify-content:space-between;\n}\n.space-around{\n  -ms-flex-pack:distribute;\n      justify-content:space-around;\n}\n.justify-center{\n  -webkit-box-pack:center;\n      -ms-flex-pack:center;\n          justify-content:center;\n}\n.flex-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.align-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.clickable{\n  cursor:pointer;\n}\n.round-icon{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  width:23px;\n  height:23px;\n  background:#315790;\n  border-radius:50%;\n}\n.flex-half{\n  -ms-flex-preferred-size:50%;\n      flex-basis:50%;\n}\n.link-unstyled{\n  color:inherit;\n}\n.link-unstyled:hover{\n  text-decoration:none;\n}\n.half{\n  width:50%;\n}\n.noselect{\n  -webkit-touch-callout:none;\n  -webkit-user-select:none;\n  -moz-user-select:none;\n  -ms-user-select:none;\n  user-select:none;\n}\n.hover-shadow:hover{\n  -webkit-box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n          box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n}\n.marker-transparent{\n  opacity:0.4;\n}\n.marker-fade{\n  -webkit-filter:contrast(16%) brightness(160%) blur(0.6px);\n          filter:contrast(16%) brightness(160%) blur(0.6px);\n}\n.tooltip-warning{\n  background:#e04745;\n  color:#fff;\n}\n.tooltip-warning-arrow{\n  border-right-color:#e04745 !important;\n}\n.tooltip-info{\n  background:#5496F8;\n  color:#fff;\n}\n.tooltip-info-arrow{\n  border-right-color:#5496F8 !important;\n}\na{\n  color:inherit;\n  text-decoration:none;\n}\na:hover{\n  color:inherit;\n  text-decoration:none;\n}\na:active{\n  color:inherit;\n  text-decoration:none;\n}\na:focus{\n  outline:none;\n  color:inherit;\n  text-decoration:none;\n}\n.spinner-wave{\n  margin:0 auto;\n  width:100px;\n  height:20px;\n  text-align:center;\n}\n.spinner-wave > div{\n  background-color:#5496F8;\n  height:100%;\n  width:6px;\n  display:inline-block;\n  -webkit-animation:wave 1.2s infinite ease-in-out;\n  animation:wave 1.2s infinite ease-in-out;\n}\n.spinner-wave div:nth-child(2){\n  -webkit-animation-delay:-1.1s;\n  animation-delay:-1.1s;\n}\n.spinner-wave div:nth-child(3){\n  -webkit-animation-delay:-1s;\n  animation-delay:-1s;\n}\n.spinner-wave div:nth-child(4){\n  -webkit-animation-delay:-0.9s;\n  animation-delay:-0.9s;\n}\n.spinner-wave div:nth-child(5){\n  -webkit-animation-delay:-0.8s;\n  animation-delay:-0.8s;\n}\n@-webkit-keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n  }\n}\n@keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n            transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n            transform:scaleY(1);\n  }\n}\n@media screen and (max-width: 480px){\n  .hide-xs{\n    display:none !important;\n  }\n}\n@media screen and (min-width: 480px){\n  .show-xs{\n    display:none !important;\n  }\n}\n.ht-btn{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n  padding:5px 13px;\n  border:0;\n  background:#ffffff;\n  color:#52616A;\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.ht-btn:focus{\n  background:#fcfcfc;\n  outline:0;\n}\n.ht-btn-card:hover{\n  background:#5496F8;\n  color:rgba(255, 255, 255, 0.96);\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.stopped-color{\n  color:#FFBB44;\n}\n.drive-color{\n  color:#5496F8;\n}\n.walk-color{\n  color:#5496F8;\n}\n.moving-color{\n  color:#5496F8;\n}\n.logged_off-color{\n  color:#A9BAC4;\n}\n.network_offline-color{\n  color:#d19191;\n}\n.location_disabled-color{\n  color:#d19191;\n}\n.location_low_accuracy-color{\n  color:#d19191;\n}\n.stopped-bg{\n  background:#FFBB44;\n}\n.drive-bg{\n  background:#5496F8;\n}\n.walk-bg{\n  background:#5496F8;\n}\n.moving-bg{\n  background:#5496F8;\n}\n.logged_off-bg{\n  background:#A9BAC4;\n}\n.network_offline-bg{\n  background:#d19191;\n}\n.location_disabled-bg{\n  background-color:#d19191;\n}\n.location_low_accuracy-bg{\n  background-color:#d19191;\n}\n.ht-box{\n  height:20px;\n  min-width:20px;\n  border-radius:50%;\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  color:white;\n  text-shadow:0px 0.5px 1px #ffffff;\n  font-weight:bold;\n}\n.label-container{\n  min-width:170px;\n}\n.graph-label{\n  -webkit-transition:color 0.2s;\n  transition:color 0.2s;\n  padding:1px 5px;\n  color:#52616A;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n  border-radius:4px;\n  font-size:14px;\n  margin-top:5px;\n}\n.graph-label:hover{\n  outline:1px solid #d6d6d6;\n}\n.graph-label-selectable{\n  cursor:pointer;\n}\n.bar{\n  height:10px;\n  -webkit-transition:width 1s ease-in-out;\n  transition:width 1s ease-in-out;\n  -webkit-transition:opacity 0.3s ease-in-out;\n  transition:opacity 0.3s ease-in-out;\n  float:right;\n}\n.bar:first-child{\n  border-bottom-left-radius:3px;\n  border-top-left-radius:3px;\n}\n.bar:last-child{\n  border-bottom-right-radius:3px;\n  border-top-right-radius:3px;\n}\n.graph-active{\n  background:#e2e2e2;\n}\n.count{\n  font-size:21px;\n  color:#52616A;\n  padding-bottom:18px;\n}\n:host{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n}\n.faded{\n  opacity:0.4;\n}\n.bar-selected{\n  outline:1px solid;\n}\n"]}]}],an.ctorParameters=function(){return[]},an.propDecorators={setQuery:[{type:e.Output}],clearQueryKey:[{type:e.Output}],summary:[{type:e.Input}],hideTotal:[{type:e.Input}],selectable:[{type:e.Input}]};var rn=function(){return function(){}}();rn.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule,H],declarations:[an],exports:[an]}]}],rn.ctorParameters=function(){return[]};var sn=function(){return function(){}}();sn.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule,rn],declarations:[on],exports:[on]}]}],sn.ctorParameters=function(){return[]};var ln=function(){function n(){this.pageSize=10,this.fetchPage=new e.EventEmitter}return n.prototype.ngOnInit=function(){},Object.defineProperty(n.prototype,"currentPage",{get:function(){var n=1;this.pageDate.previous&&(n=+(i.GetUrlParam("page",this.pageDate.previous)||1)+1);return n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pagesCount",{get:function(){var n=this.pageDate.count;return Math.ceil(n/this.pageSize)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visiblePages",{get:function(){var n=this;return Array(this.pagesCount).fill(1).map(function(n,e){return n+e}).filter(function(e){return 1===n.currentPage?n.currentPage-e>=-2:n.currentPage+1===e||(n.currentPage+2===e||(n.currentPage===e||n.currentPage===n.pagesCount&&n.currentPage-e<=2))})},enumerable:!0,configurable:!0}),n.prototype.onFetchPage=function(n){n<1||n>this.pagesCount||this.fetchPage.next(n)},n}();ln.decorators=[{type:e.Component,args:[{selector:"ht-pagination",template:'\x3c!--<p>--\x3e\n  \x3c!--pagination works!--\x3e\n\x3c!--</p>--\x3e\n\x3c!--<p>Count: {{pageDate.count}}</p>--\x3e\n\x3c!--<p>Page: {{currentPage}}</p>--\x3e\n\x3c!--<p>Pages: {{pagesCount}}</p>--\x3e\n\x3c!--<div class="pagination-container columns" *ngIf="pagesCount > 1">--\x3e\n  \x3c!--<div [class.disabled]="!pageDate.previous" (click)="onFetchPage(currentPage - 1)" class="pagination-element">--\x3e\n    \x3c!--<i class="fa fa-angle-left" aria-hidden="true"></i>--\x3e\n  \x3c!--</div>--\x3e\n  \x3c!--<ng-container *ngIf="currentPage - 1 > 1">--\x3e\n    \x3c!--<div (click)="onFetchPage(1)" class="">--\x3e\n      \x3c!--<span class="pagination-number">1</span>--\x3e\n    \x3c!--</div>--\x3e\n    \x3c!--<span>&hellip;</span>--\x3e\n    \x3c!--&lt;!&ndash;<div>.</div>&ndash;&gt;--\x3e\n    \x3c!--&lt;!&ndash;<div>.</div>&ndash;&gt;--\x3e\n    \x3c!--&lt;!&ndash;<div>.</div>&ndash;&gt;--\x3e\n  \x3c!--</ng-container>--\x3e\n  \x3c!--<div (click)="onFetchPage(page)" class="" *ngFor="let page of visiblePages" [ngClass]="currentPage === page ? \'is-current\' : \'\'">--\x3e\n    \x3c!--<span class="pagination-number">{{page}}</span>--\x3e\n  \x3c!--</div>--\x3e\n  \x3c!--<ng-container *ngIf="pagesCount - currentPage > 2">--\x3e\n    \x3c!--<span>&hellip;</span>--\x3e\n    \x3c!--&lt;!&ndash;<div>.</div>&ndash;&gt;--\x3e\n    \x3c!--&lt;!&ndash;<div>.</div>&ndash;&gt;--\x3e\n    \x3c!--&lt;!&ndash;<div>.</div>&ndash;&gt;--\x3e\n    \x3c!--<div (click)="onFetchPage(pagesCount)" class="">--\x3e\n      \x3c!--<span class="pagination-number">{{pagesCount}}</span>--\x3e\n    \x3c!--</div>--\x3e\n  \x3c!--</ng-container>--\x3e\n  \x3c!--&lt;!&ndash;<div [class.disabled]="currentPage == pagesCount" (click)="onFetchPage(pagesCount)" class="pagination-element">&ndash;&gt;--\x3e\n  \x3c!--&lt;!&ndash;<i class="fa fa-angle-double-right" aria-hidden="true"></i>&ndash;&gt;--\x3e\n  \x3c!--&lt;!&ndash;</div>&ndash;&gt;--\x3e\n  \x3c!--<div [attr.disabled]="!pageDate.next" (click)="onFetchPage(currentPage + 1)" class="">--\x3e\n    \x3c!--<i class="fa fa-angle-right" aria-hidden="true"></i>--\x3e\n  \x3c!--</div>--\x3e\n\x3c!--</div>--\x3e\n<nav class="pagination is-small is-centered" role="navigation" aria-label="pagination" *ngIf="pagesCount > 1">\n  <ul class="pagination-list">\n    <li>\n      <a class="pagination-link" [attr.disabled]="!pageDate.previous ? true : null"  (click)="onFetchPage(currentPage - 1)" aria-label="Goto page 1">\n        <i class="fa fa-angle-left" aria-hidden="true"></i>\n      </a>\n    </li>\n    <ng-container *ngIf="currentPage - 1 > 1">\n      <li (click)="onFetchPage(1)" class="">\n        <a class="pagination-link">1</a>\n      </li>\n      <li>\n        <span class="pagination-ellipsis">&hellip;</span>\n      </li>\n    </ng-container>\n    <li (click)="onFetchPage(page)" class="" *ngFor="let page of visiblePages">\n      <a class="pagination-link" [ngClass]="currentPage === page ? \'is-current\' : \'\'">{{page}}</a>\n    </li>\n    <ng-container *ngIf="pagesCount - currentPage > 2">\n      <li>\n        <span class="pagination-ellipsis">&hellip;</span>\n      </li>\n      <li (click)="onFetchPage(pagesCount)" class="">\n        <a class="pagination-link">{{pagesCount}}</a>\n      </li>\n    </ng-container>\n    <li [attr.disabled]="!pageDate.next ? true : null" (click)="onFetchPage(currentPage + 1)" class="">\n      <a class="pagination-link">\n        <i class="fa fa-angle-right" aria-hidden="true"></i>\n      </a>\n    </li>\n    \x3c!--<li>--\x3e\n      \x3c!--<span class="pagination-ellipsis">&hellip;</span>--\x3e\n    \x3c!--</li>--\x3e\n    \x3c!--<li>--\x3e\n      \x3c!--<a class="pagination-link" aria-label="Goto page 45">45</a>--\x3e\n    \x3c!--</li>--\x3e\n    \x3c!--<li>--\x3e\n      \x3c!--<a class="pagination-link is-current" aria-label="Page 46" aria-current="page">46</a>--\x3e\n    \x3c!--</li>--\x3e\n    \x3c!--<li>--\x3e\n      \x3c!--<a class="pagination-link" aria-label="Goto page 47">47</a>--\x3e\n    \x3c!--</li>--\x3e\n    \x3c!--<li>--\x3e\n      \x3c!--<span class="pagination-ellipsis">&hellip;</span>--\x3e\n    \x3c!--</li>--\x3e\n    \x3c!--<li>--\x3e\n      \x3c!--<a class="pagination-link" aria-label="Goto page 86">86</a>--\x3e\n    \x3c!--</li>--\x3e\n  </ul>\n</nav>\n',styles:[".text-center{\n  text-align:center;\n}\n.text-muted{\n  color:#798E9B;\n}\n.text-right{\n  text-align:right;\n}\n.text-left{\n  text-align:left;\n}\n.text-1{\n  font-size:2em;\n}\n.text-4{\n  font-size:0.8em;\n}\n.text-capitalize{\n  text-transform:capitalize;\n}\n.text-uppercase{\n  text-transform:uppercase;\n}\n.text-ontime{\n  color:#58ae5b;\n}\n.text-late{\n  color:#E6413E;\n}\n.text-warning{\n  color:#E6413E !important;\n}\n.text-red{\n  color:#E6413E;\n}\n.text-blue{\n  color:#5496F8;\n}\n.truncate{\n  white-space:nowrap;\n  overflow:hidden;\n  text-overflow:ellipsis;\n}\n.flex-row{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:row;\n          flex-direction:row;\n}\n.flex-column{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n}\n.column-gap-4 > :not(:last-child){\n  margin-bottom:4px;\n}\n.row-gap-4 > :not(:last-child){\n  margin-right:4px;\n}\n.column-gap-7 > :not(:last-child){\n  margin-bottom:7px;\n}\n.row-gap-7 > :not(:last-child){\n  margin-right:7px;\n}\n.column-gap-10 > :not(:last-child){\n  margin-bottom:10px;\n}\n.row-gap-10 > :not(:last-child){\n  margin-right:10px;\n}\n.column-gap-20 > :not(:last-child){\n  margin-bottom:20px;\n}\n.row-gap-20 > :not(:last-child){\n  margin-right:20px;\n}\n.wrap{\n  -ms-flex-wrap:wrap;\n      flex-wrap:wrap;\n}\n.flex{\n  -webkit-box-flex:1;\n      -ms-flex:1;\n          flex:1;\n}\n.auto{\n  margin:auto;\n}\n.relative{\n  position:relative;\n}\n.space-between{\n  -webkit-box-pack:justify;\n      -ms-flex-pack:justify;\n          justify-content:space-between;\n}\n.space-around{\n  -ms-flex-pack:distribute;\n      justify-content:space-around;\n}\n.justify-center{\n  -webkit-box-pack:center;\n      -ms-flex-pack:center;\n          justify-content:center;\n}\n.flex-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.align-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.clickable{\n  cursor:pointer;\n}\n.round-icon{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  width:23px;\n  height:23px;\n  background:#315790;\n  border-radius:50%;\n}\n.flex-half{\n  -ms-flex-preferred-size:50%;\n      flex-basis:50%;\n}\n.link-unstyled{\n  color:inherit;\n}\n.link-unstyled:hover{\n  text-decoration:none;\n}\n.half{\n  width:50%;\n}\n.noselect{\n  -webkit-touch-callout:none;\n  -webkit-user-select:none;\n  -moz-user-select:none;\n  -ms-user-select:none;\n  user-select:none;\n}\n.hover-shadow:hover{\n  -webkit-box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n          box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n}\n.marker-transparent{\n  opacity:0.4;\n}\n.marker-fade{\n  -webkit-filter:contrast(16%) brightness(160%) blur(0.6px);\n          filter:contrast(16%) brightness(160%) blur(0.6px);\n}\n.tooltip-warning{\n  background:#e04745;\n  color:#fff;\n}\n.tooltip-warning-arrow{\n  border-right-color:#e04745 !important;\n}\n.tooltip-info{\n  background:#5496F8;\n  color:#fff;\n}\n.tooltip-info-arrow{\n  border-right-color:#5496F8 !important;\n}\na{\n  color:inherit;\n  text-decoration:none;\n}\na:hover{\n  color:inherit;\n  text-decoration:none;\n}\na:active{\n  color:inherit;\n  text-decoration:none;\n}\na:focus{\n  outline:none;\n  color:inherit;\n  text-decoration:none;\n}\n.spinner-wave{\n  margin:0 auto;\n  width:100px;\n  height:20px;\n  text-align:center;\n}\n.spinner-wave > div{\n  background-color:#5496F8;\n  height:100%;\n  width:6px;\n  display:inline-block;\n  -webkit-animation:wave 1.2s infinite ease-in-out;\n  animation:wave 1.2s infinite ease-in-out;\n}\n.spinner-wave div:nth-child(2){\n  -webkit-animation-delay:-1.1s;\n  animation-delay:-1.1s;\n}\n.spinner-wave div:nth-child(3){\n  -webkit-animation-delay:-1s;\n  animation-delay:-1s;\n}\n.spinner-wave div:nth-child(4){\n  -webkit-animation-delay:-0.9s;\n  animation-delay:-0.9s;\n}\n.spinner-wave div:nth-child(5){\n  -webkit-animation-delay:-0.8s;\n  animation-delay:-0.8s;\n}\n@-webkit-keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n  }\n}\n@keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n            transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n            transform:scaleY(1);\n  }\n}\n@media screen and (max-width: 480px){\n  .hide-xs{\n    display:none !important;\n  }\n}\n@media screen and (min-width: 480px){\n  .show-xs{\n    display:none !important;\n  }\n}\n.ht-btn{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n  padding:5px 13px;\n  border:0;\n  background:#ffffff;\n  color:#52616A;\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.ht-btn:focus{\n  background:#fcfcfc;\n  outline:0;\n}\n.ht-btn-card:hover{\n  background:#5496F8;\n  color:rgba(255, 255, 255, 0.96);\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.stopped-color{\n  color:#FFBB44;\n}\n.drive-color{\n  color:#5496F8;\n}\n.walk-color{\n  color:#5496F8;\n}\n.moving-color{\n  color:#5496F8;\n}\n.logged_off-color{\n  color:#A9BAC4;\n}\n.network_offline-color{\n  color:#d19191;\n}\n.location_disabled-color{\n  color:#d19191;\n}\n.location_low_accuracy-color{\n  color:#d19191;\n}\n.stopped-bg{\n  background:#FFBB44;\n}\n.drive-bg{\n  background:#5496F8;\n}\n.walk-bg{\n  background:#5496F8;\n}\n.moving-bg{\n  background:#5496F8;\n}\n.logged_off-bg{\n  background:#A9BAC4;\n}\n.network_offline-bg{\n  background:#d19191;\n}\n.location_disabled-bg{\n  background-color:#d19191;\n}\n.location_low_accuracy-bg{\n  background-color:#d19191;\n}\n.pagination{\n  padding:20px 0;\n  width:100%;\n}\n.pagination-container{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  padding:30px 10px;\n}\n.pagination-container > :not(:last-child){\n  margin-right:7px;\n}\n.pagination-element{\n  border:1px solid #D9D9D9;\n  width:28px;\n  height:28px;\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-pack:center;\n      -ms-flex-pack:center;\n          justify-content:center;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n  background:white;\n  border-radius:3px;\n  cursor:pointer;\n  color:#666666;\n}\n.pagination-element.disabled{\n  cursor:not-allowed;\n  pointer-events:none;\n}\n.pagination-element.disabled i{\n  color:#CCCCCC;\n}\n.pagination-element i{\n  color:#666666;\n}\n.pagination-element .pagination-number{\n  font-size:12px;\n  color:#666666;\n  line-height:18px;\n}\n.pagination-element.selected{\n  background:#108EE9;\n}\n.pagination-element.selected .pagination-number{\n  color:#ffffff;\n}\n.disabled{\n  cursor:not-allowed;\n  pointer-events:none;\n  color:#CCCCCC;\n}\n.fa{\n  font-size:1.3em;\n}\n"],changeDetection:e.ChangeDetectionStrategy.OnPush}]}],ln.ctorParameters=function(){return[]},ln.propDecorators={pageDate:[{type:e.Input}],pageSize:[{type:e.Input}],fetchPage:[{type:e.Output}]};var cn=function(){return function(){}}();cn.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule],declarations:[ln],exports:[ln]}]}],cn.ctorParameters=function(){return[]};var pn=function(){return function(){}}();pn.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule,K,nn,tn,H,sn,cn],declarations:[Z],exports:[Z]}]}],pn.ctorParameters=function(){return[]};var dn=function(){function n(){this.groupIdParam="id"}return n.prototype.ngOnInit=function(){},n}();dn.decorators=[{type:e.Component,args:[{selector:"ht-groups",template:'<div class="card-stack">\n  <a [routerLink]="[\'/groups\', group[groupIdParam]]" class="card" *ngFor="let group of groups">\n    <div class="card-content-mid">\n      {{group.name}}\n    </div>\n  </a>\n</div>\n',styles:[".text-center{\n  text-align:center;\n}\n.text-muted{\n  color:#798E9B;\n}\n.text-right{\n  text-align:right;\n}\n.text-left{\n  text-align:left;\n}\n.text-1{\n  font-size:2em;\n}\n.text-4{\n  font-size:0.8em;\n}\n.text-capitalize{\n  text-transform:capitalize;\n}\n.text-uppercase{\n  text-transform:uppercase;\n}\n.text-ontime{\n  color:#58ae5b;\n}\n.text-late{\n  color:#E6413E;\n}\n.text-warning{\n  color:#E6413E !important;\n}\n.text-red{\n  color:#E6413E;\n}\n.text-blue{\n  color:#5496F8;\n}\n.truncate{\n  white-space:nowrap;\n  overflow:hidden;\n  text-overflow:ellipsis;\n}\n.flex-row{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:row;\n          flex-direction:row;\n}\n.flex-column{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n}\n.column-gap-4 > :not(:last-child){\n  margin-bottom:4px;\n}\n.row-gap-4 > :not(:last-child){\n  margin-right:4px;\n}\n.column-gap-7 > :not(:last-child){\n  margin-bottom:7px;\n}\n.row-gap-7 > :not(:last-child){\n  margin-right:7px;\n}\n.column-gap-10 > :not(:last-child){\n  margin-bottom:10px;\n}\n.row-gap-10 > :not(:last-child){\n  margin-right:10px;\n}\n.column-gap-20 > :not(:last-child){\n  margin-bottom:20px;\n}\n.row-gap-20 > :not(:last-child){\n  margin-right:20px;\n}\n.wrap{\n  -ms-flex-wrap:wrap;\n      flex-wrap:wrap;\n}\n.flex{\n  -webkit-box-flex:1;\n      -ms-flex:1;\n          flex:1;\n}\n.auto{\n  margin:auto;\n}\n.relative{\n  position:relative;\n}\n.space-between{\n  -webkit-box-pack:justify;\n      -ms-flex-pack:justify;\n          justify-content:space-between;\n}\n.space-around{\n  -ms-flex-pack:distribute;\n      justify-content:space-around;\n}\n.justify-center{\n  -webkit-box-pack:center;\n      -ms-flex-pack:center;\n          justify-content:center;\n}\n.flex-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.align-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.clickable{\n  cursor:pointer;\n}\n.round-icon{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  width:23px;\n  height:23px;\n  background:#315790;\n  border-radius:50%;\n}\n.flex-half{\n  -ms-flex-preferred-size:50%;\n      flex-basis:50%;\n}\n.link-unstyled{\n  color:inherit;\n}\n.link-unstyled:hover{\n  text-decoration:none;\n}\n.half{\n  width:50%;\n}\n.noselect{\n  -webkit-touch-callout:none;\n  -webkit-user-select:none;\n  -moz-user-select:none;\n  -ms-user-select:none;\n  user-select:none;\n}\n.hover-shadow:hover{\n  -webkit-box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n          box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n}\n.marker-transparent{\n  opacity:0.4;\n}\n.marker-fade{\n  -webkit-filter:contrast(16%) brightness(160%) blur(0.6px);\n          filter:contrast(16%) brightness(160%) blur(0.6px);\n}\n.tooltip-warning{\n  background:#e04745;\n  color:#fff;\n}\n.tooltip-warning-arrow{\n  border-right-color:#e04745 !important;\n}\n.tooltip-info{\n  background:#5496F8;\n  color:#fff;\n}\n.tooltip-info-arrow{\n  border-right-color:#5496F8 !important;\n}\na{\n  color:inherit;\n  text-decoration:none;\n}\na:hover{\n  color:inherit;\n  text-decoration:none;\n}\na:active{\n  color:inherit;\n  text-decoration:none;\n}\na:focus{\n  outline:none;\n  color:inherit;\n  text-decoration:none;\n}\n.spinner-wave{\n  margin:0 auto;\n  width:100px;\n  height:20px;\n  text-align:center;\n}\n.spinner-wave > div{\n  background-color:#5496F8;\n  height:100%;\n  width:6px;\n  display:inline-block;\n  -webkit-animation:wave 1.2s infinite ease-in-out;\n  animation:wave 1.2s infinite ease-in-out;\n}\n.spinner-wave div:nth-child(2){\n  -webkit-animation-delay:-1.1s;\n  animation-delay:-1.1s;\n}\n.spinner-wave div:nth-child(3){\n  -webkit-animation-delay:-1s;\n  animation-delay:-1s;\n}\n.spinner-wave div:nth-child(4){\n  -webkit-animation-delay:-0.9s;\n  animation-delay:-0.9s;\n}\n.spinner-wave div:nth-child(5){\n  -webkit-animation-delay:-0.8s;\n  animation-delay:-0.8s;\n}\n@-webkit-keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n  }\n}\n@keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n            transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n            transform:scaleY(1);\n  }\n}\n@media screen and (max-width: 480px){\n  .hide-xs{\n    display:none !important;\n  }\n}\n@media screen and (min-width: 480px){\n  .show-xs{\n    display:none !important;\n  }\n}\n.ht-btn{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n  padding:5px 13px;\n  border:0;\n  background:#ffffff;\n  color:#52616A;\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.ht-btn:focus{\n  background:#fcfcfc;\n  outline:0;\n}\n.ht-btn-card:hover{\n  background:#5496F8;\n  color:rgba(255, 255, 255, 0.96);\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.stopped-color{\n  color:#FFBB44;\n}\n.drive-color{\n  color:#5496F8;\n}\n.walk-color{\n  color:#5496F8;\n}\n.moving-color{\n  color:#5496F8;\n}\n.logged_off-color{\n  color:#A9BAC4;\n}\n.network_offline-color{\n  color:#d19191;\n}\n.location_disabled-color{\n  color:#d19191;\n}\n.location_low_accuracy-color{\n  color:#d19191;\n}\n.stopped-bg{\n  background:#FFBB44;\n}\n.drive-bg{\n  background:#5496F8;\n}\n.walk-bg{\n  background:#5496F8;\n}\n.moving-bg{\n  background:#5496F8;\n}\n.logged_off-bg{\n  background:#A9BAC4;\n}\n.network_offline-bg{\n  background:#d19191;\n}\n.location_disabled-bg{\n  background-color:#d19191;\n}\n.location_low_accuracy-bg{\n  background-color:#d19191;\n}\n.card-stack{\n  max-width:500px;\n  margin:auto;\n}\n"]}]}],dn.ctorParameters=function(){return[]},dn.propDecorators={groups:[{type:e.Input}],groupIdParam:[{type:e.Input}]};var un=function(){return function(){}}();un.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule,r.RouterModule],declarations:[dn],exports:[dn]}]}],un.ctorParameters=function(){return[]};var gn=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return w(e,n),e}(c.HtGroupsClient),xn=function(){function n(n){this.groupsClient=n,this.groupIdParam="id"}return n.prototype.ngOnInit=function(){this.groupsClient.list.setActive(),this.groups$=this.groupsClient.list.dataArray$},n}();xn.decorators=[{type:e.Component,args:[{selector:"ht-groups-container",template:'<div class="container" *ngIf="groups$ | async as groups">\n  <ht-groups [groupIdParam]="groupIdParam" [groups]="groups"></ht-groups>\n</div>\n',styles:[".container{\n  width:100%;\n}\n"]}]}],xn.ctorParameters=function(){return[{type:gn}]},xn.propDecorators={groupIdParam:[{type:e.Input}]};var fn=function(){return function(){}}();fn.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule,un],declarations:[xn],exports:[xn]}]}],fn.ctorParameters=function(){return[]};var mn=function(){function n(n){this.groupsService=n,this.selectedGroups$=new d.BehaviorSubject([]),this.groupsLevelsEntity$=new d.BehaviorSubject({}),this.setGroupsLevels(),this.groupsLevels$=u.combineLatest(this.selectedGroups$,this.groupsLevelsEntity$,function(n,e){return n.map(function(n){var t=n?n.id:null;return e[t]?e[t]:null})})}return n.prototype.setRootGroupId=function(n){var e=this;this.selectedGroups$.pipe(p.take(1),p.filter(function(e){return(e[0]?e[0].id:null)!==n||null==n&&!e.length}),p.switchMap(function(){return n?e.groupsService.item.api$(n):g.of(null)})).subscribe(function(n){e.setSelectedGroup(n,0)})},n.prototype.setSelectedGroup=function(n,e){var t=this;this.selectedGroups$.asObservable().pipe(p.take(1),p.map(function(t){return t.splice(e),t.push(n),t})).subscribe(function(n){t.selectedGroups$.next(n)})},n.prototype.setGroupsLevels=function(){var n=this;if(this.groupsSub)return!1;this.groupsSub=this.selectedGroups$.pipe(p.filter(function(n){return!!n.length}),p.withLatestFrom(this.groupsLevelsEntity$),p.switchMap(function(e){var t=k(e,2),i=t[0],o=t[1],a=i.length,r=i[a-1]?i[a-1].id:null;return(o=i.reduce(function(n,e){var t,i=e?e.id:null;return o[i]?Object.assign({},n,((t={})[i]=o[i],t)):n},{}))[r]?g.of(o):n.getGroups(r).pipe(p.map(function(n){return Object.assign({},o,((e={})[r]=n.results,e));var e}))})).subscribe(function(e){n.groupsLevelsEntity$.next(e)})},n.prototype.getGroups=function(n){return n?this.groupsService.getChildren(n):this.groupsService.getRoot()},n.prototype.setLevel=function(n){var e=this;this.selectedGroups$.asObservable().pipe(p.take(1),p.map(function(e){return e.splice(n+1),e})).subscribe(function(n){e.selectedGroups$.next(n)})},n}();mn.decorators=[{type:e.Injectable}],mn.ctorParameters=function(){return[{type:gn}]};var bn=function(){function n(n){this.groupsChartService=n,this.loading=!1,this.onGroup=new e.EventEmitter}return n.prototype.ngOnInit=function(){var n=this.groupId?this.groupId:null;this.groupsChartService.setRootGroupId(n)},Object.defineProperty(n.prototype,"selectedGroups$",{get:function(){return this.groupsChartService.selectedGroups$},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"groupsLevels$",{get:function(){return this.groupsChartService.groupsLevels$},enumerable:!0,configurable:!0}),n.prototype.setGroup=function(n){this.onGroup.next(n)},n.prototype.selectGroup=function(n,e,t){n.id;t.stopPropagation(),t.preventDefault(),this.groupsChartService.setSelectedGroup(n,e+1)},n}();bn.decorators=[{type:e.Component,args:[{selector:"ht-groups-chart-container",template:'<ng-container *ngIf="selectedGroups$ | async as selectedGroups">\n  <nav class="breadcrumb has-arrow-separator" aria-label="breadcrumbs">\n    <ul>\n      <li [class.is-active]="l" (click)="groupsChartService.setLevel(i)" *ngFor="let group of selectedGroups; let l = last; let i = index">\n        <a *ngIf="group; else root">\n          <span>{{group.name}}</span>\n        </a>\n        <ng-template #root>\n          <a>\n            <span class="icon is-small"><i class="fa fa-home"></i></span>\n            <span>Root groups</span>\n          </a>\n        </ng-template>\n      </li>\n    </ul>\n  </nav>\n  <div class="container">\n    <ng-template #notFound>\n      <div>\n        No Group found\n      </div>\n    </ng-template>\n    <div class="flex-row wrap group-container" *ngIf="!error">\n      <div class="flex-column group-container-list bar card-stack" *ngFor="let groups of groupsLevels$ | async; let i = index">\n        <div class="text-center ht-level">\n          <span class="">Level {{i + 1}}</span>\n        </div>\n        <div class="flex-column" *ngIf="groups; else empty">\n          <div (click)="setGroup(group)" class="card card-clickable is-primary" [class.card-active]="selectedGroups[i + 1] && selectedGroups[i + 1].id == group.id" *ngFor="let group of groups">\n            <div class="card-content is-primary flex-row">\n              <div class="flex">\n                {{group.name}}\n              </div>\n              <div (click)="selectGroup(group, i, $event)" class="button is-small is-primary">\n                <div class="icon">\n                  <i class="fa fa-angle-right"></i>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class="card card-content has-text-grey-light has-text-centered" *ngIf="groups.length == 0">\n            No Sub-group\n          </div>\n        </div>\n        <ng-template #empty>\n          <h3 class="text-center msg bar has-text-grey-light has-text-centered">\n            Loading\n          </h3>\n        </ng-template>\n      </div>\n    </div>\n  </div>\n</ng-container>\n',styles:[".bar{\n  width:200px;\n  min-width:200px;\n}\n.card-content{\n  padding:10px 13px;\n}\n.card-active{\n  background-color:#5496F8;\n  color:white !important;\n}\n.card-active .button{\n  display:none;\n}\n.action{\n  background:#798E9B;\n  color:white;\n  padding:0 8px;\n  border-radius:3px;\n}\n.action:hover{\n  background-color:#52616A;\n}\n.group-container{\n  margin:20px 0;\n}\n.group-container-list{\n  margin:20px 0;\n}\n.msg{\n  margin-top:60px;\n}\n.ht-level{\n  padding:8px 16px;\n  background-color:#52616A;\n  color:white;\n}\na:focus{\n  color:initial;\n}\n.breadcrumb{\n  padding:0 30px;\n  background-color:#fff;\n  border-bottom:1px solid #C9D6DE;\n}\n.groups-list{\n  max-height:400px;\n  overflow:auto;\n}\n"]}]}],bn.ctorParameters=function(){return[{type:mn}]},bn.propDecorators={groupId:[{type:e.Input}],onGroup:[{type:e.Output}]};var hn=function(){return function(){}}();hn.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule,H,r.RouterModule],declarations:[bn],exports:[bn],providers:[mn]}]}],hn.ctorParameters=function(){return[]};var yn=function(){function n(n,t){this.elRef=n,this.options={},this.setBoundsOptions={},this.loading=!1,this.showReset=!0,this.onReady=new e.EventEmitter,this.onMapReset=new e.EventEmitter,t&&(this.mapInstance=t.mapInstance)}return n.prototype.onMapResize=function(){this.mapInstance.inValidateSize()},n.prototype.ngOnInit=function(){this.mapInstance=this.mapInstance},n.prototype.resetMap=function(){this.mapInstance.resetBounds(this.setBoundsOptions),this.onMapReset.next(!0)},n.prototype.ngAfterViewInit=function(){var n=this.mapElem.nativeElement;this.mapInstance.renderMap(n,this.options),this.onReady.next(this.mapInstance.map)},n}();yn.decorators=[{type:e.Component,args:[{selector:"ht-map",template:'<div #map style="width: 100%; height: 100%;"></div>\n<div class="map-label map-label-bottom">\n  <ht-loading-dots *ngIf="loading" class="text-1"></ht-loading-dots>\n</div>\n<div class="map-label map-label-top">\n  <button class="button is-primary" *ngIf="showReset" (click)="resetMap()">Fit in view</button>\n</div>\n',styles:[".text-center{\n  text-align:center;\n}\n.text-muted{\n  color:#798E9B;\n}\n.text-right{\n  text-align:right;\n}\n.text-left{\n  text-align:left;\n}\n.text-1{\n  font-size:2em;\n}\n.text-4{\n  font-size:0.8em;\n}\n.text-capitalize{\n  text-transform:capitalize;\n}\n.text-uppercase{\n  text-transform:uppercase;\n}\n.text-ontime{\n  color:#58ae5b;\n}\n.text-late{\n  color:#E6413E;\n}\n.text-warning{\n  color:#E6413E !important;\n}\n.text-red{\n  color:#E6413E;\n}\n.text-blue{\n  color:#5496F8;\n}\n.truncate{\n  white-space:nowrap;\n  overflow:hidden;\n  text-overflow:ellipsis;\n}\n.flex-row{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:row;\n          flex-direction:row;\n}\n.flex-column{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n}\n.column-gap-4 > :not(:last-child){\n  margin-bottom:4px;\n}\n.row-gap-4 > :not(:last-child){\n  margin-right:4px;\n}\n.column-gap-7 > :not(:last-child){\n  margin-bottom:7px;\n}\n.row-gap-7 > :not(:last-child){\n  margin-right:7px;\n}\n.column-gap-10 > :not(:last-child){\n  margin-bottom:10px;\n}\n.row-gap-10 > :not(:last-child){\n  margin-right:10px;\n}\n.column-gap-20 > :not(:last-child){\n  margin-bottom:20px;\n}\n.row-gap-20 > :not(:last-child){\n  margin-right:20px;\n}\n.wrap{\n  -ms-flex-wrap:wrap;\n      flex-wrap:wrap;\n}\n.flex{\n  -webkit-box-flex:1;\n      -ms-flex:1;\n          flex:1;\n}\n.auto{\n  margin:auto;\n}\n.relative{\n  position:relative;\n}\n.space-between{\n  -webkit-box-pack:justify;\n      -ms-flex-pack:justify;\n          justify-content:space-between;\n}\n.space-around{\n  -ms-flex-pack:distribute;\n      justify-content:space-around;\n}\n.justify-center{\n  -webkit-box-pack:center;\n      -ms-flex-pack:center;\n          justify-content:center;\n}\n.flex-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.align-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.clickable{\n  cursor:pointer;\n}\n.round-icon{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  width:23px;\n  height:23px;\n  background:#315790;\n  border-radius:50%;\n}\n.flex-half{\n  -ms-flex-preferred-size:50%;\n      flex-basis:50%;\n}\n.link-unstyled{\n  color:inherit;\n}\n.link-unstyled:hover{\n  text-decoration:none;\n}\n.half{\n  width:50%;\n}\n.noselect{\n  -webkit-touch-callout:none;\n  -webkit-user-select:none;\n  -moz-user-select:none;\n  -ms-user-select:none;\n  user-select:none;\n}\n.hover-shadow:hover{\n  -webkit-box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n          box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n}\n.marker-transparent{\n  opacity:0.4;\n}\n.marker-fade{\n  -webkit-filter:contrast(16%) brightness(160%) blur(0.6px);\n          filter:contrast(16%) brightness(160%) blur(0.6px);\n}\n.tooltip-warning{\n  background:#e04745;\n  color:#fff;\n}\n.tooltip-warning-arrow{\n  border-right-color:#e04745 !important;\n}\n.tooltip-info{\n  background:#5496F8;\n  color:#fff;\n}\n.tooltip-info-arrow{\n  border-right-color:#5496F8 !important;\n}\na{\n  color:inherit;\n  text-decoration:none;\n}\na:hover{\n  color:inherit;\n  text-decoration:none;\n}\na:active{\n  color:inherit;\n  text-decoration:none;\n}\na:focus{\n  outline:none;\n  color:inherit;\n  text-decoration:none;\n}\n.spinner-wave{\n  margin:0 auto;\n  width:100px;\n  height:20px;\n  text-align:center;\n}\n.spinner-wave > div{\n  background-color:#5496F8;\n  height:100%;\n  width:6px;\n  display:inline-block;\n  -webkit-animation:wave 1.2s infinite ease-in-out;\n  animation:wave 1.2s infinite ease-in-out;\n}\n.spinner-wave div:nth-child(2){\n  -webkit-animation-delay:-1.1s;\n  animation-delay:-1.1s;\n}\n.spinner-wave div:nth-child(3){\n  -webkit-animation-delay:-1s;\n  animation-delay:-1s;\n}\n.spinner-wave div:nth-child(4){\n  -webkit-animation-delay:-0.9s;\n  animation-delay:-0.9s;\n}\n.spinner-wave div:nth-child(5){\n  -webkit-animation-delay:-0.8s;\n  animation-delay:-0.8s;\n}\n@-webkit-keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n  }\n}\n@keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n            transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n            transform:scaleY(1);\n  }\n}\n@media screen and (max-width: 480px){\n  .hide-xs{\n    display:none !important;\n  }\n}\n@media screen and (min-width: 480px){\n  .show-xs{\n    display:none !important;\n  }\n}\n.ht-btn{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n  padding:5px 13px;\n  border:0;\n  background:#ffffff;\n  color:#52616A;\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.ht-btn:focus{\n  background:#fcfcfc;\n  outline:0;\n}\n.ht-btn-card:hover{\n  background:#5496F8;\n  color:rgba(255, 255, 255, 0.96);\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.stopped-color{\n  color:#FFBB44;\n}\n.drive-color{\n  color:#5496F8;\n}\n.walk-color{\n  color:#5496F8;\n}\n.moving-color{\n  color:#5496F8;\n}\n.logged_off-color{\n  color:#A9BAC4;\n}\n.network_offline-color{\n  color:#d19191;\n}\n.location_disabled-color{\n  color:#d19191;\n}\n.location_low_accuracy-color{\n  color:#d19191;\n}\n.stopped-bg{\n  background:#FFBB44;\n}\n.drive-bg{\n  background:#5496F8;\n}\n.walk-bg{\n  background:#5496F8;\n}\n.moving-bg{\n  background:#5496F8;\n}\n.logged_off-bg{\n  background:#A9BAC4;\n}\n.network_offline-bg{\n  background:#d19191;\n}\n.location_disabled-bg{\n  background-color:#d19191;\n}\n.location_low_accuracy-bg{\n  background-color:#d19191;\n}\n:host{\n  height:100%;\n  width:100%;\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  position:relative;\n}\n.map-label{\n  position:absolute;\n  z-index:400;\n  text-align:center;\n}\n.map-label-bottom{\n  bottom:20px;\n  right:0;\n  left:0;\n  width:100%;\n}\n.map-label-top{\n  top:10px;\n  right:20px;\n}\n"]}]}],yn.ctorParameters=function(){return[{type:e.ElementRef},{type:V,decorators:[{type:e.Optional}]}]},yn.propDecorators={options:[{type:e.Input}],setBoundsOptions:[{type:e.Input}],mapInstance:[{type:e.Input}],loading:[{type:e.Input}],showReset:[{type:e.Input}],onReady:[{type:e.Output}],onMapReset:[{type:e.Output}],mapElem:[{type:e.ViewChild,args:["map"]}],onMapResize:[{type:e.HostListener,args:["resize",["$event"]]}]};var vn=function(){return function(){}}();vn.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule,H],declarations:[yn],exports:[yn]}]}],vn.ctorParameters=function(){return[]};var wn=function(){function n(n,e){this.userClientService=n,this.mapService=e,this.showLoading=!0,this.subs=[]}return n.prototype.ngOnInit=function(){var n=this;this.mapService.usersCluster.setPageData$(this.userClientService.listAll.data$,{hide$:this.userClientService.placeline.id$}),this.mapService.placeline.setCompoundData$(this.userClientService.placeline.data$,{roots:["segments","actions"],highlighted$:this.userClientService.placeline.segmentSelectedId$,filter$:this.userClientService.placeline.segmentResetId$,resetMap$:this.userClientService.placeline.segmentResetId$});var e=this.userClientService.placeline.loading$.pipe(p.map(function(e){return!!e&&n.showLoading}),p.distinctUntilChanged()),t=this.userClientService.listAll.loading$.pipe(p.map(function(n){return!!n}),p.distinctUntilChanged());this.loading$=x.merge(e,t)},n.prototype.ngAfterContentInit=function(){},n.prototype.ngOnDestroy=function(){this.userClientService.listAll.clearData(),this.mapService.usersCluster.trace([])},n}();wn.decorators=[{type:e.Component,args:[{selector:"ht-map-container",template:'<ht-map [loading]="loading$ | async"></ht-map>\n\x3c!--<div class="map-label map-label-bottom">--\x3e\n  \x3c!--<ht-loading-dots *ngIf="loading$ | async" class="text-1"></ht-loading-dots>--\x3e\n\x3c!--</div>--\x3e\n\x3c!--<div class="map-label map-label-top">--\x3e\n  \x3c!--<button class="button is-primary" (click)="resetMap()">Fit in view</button>--\x3e\n\x3c!--</div>--\x3e\n',styles:[".text-center{\n  text-align:center;\n}\n.text-muted{\n  color:#798E9B;\n}\n.text-right{\n  text-align:right;\n}\n.text-left{\n  text-align:left;\n}\n.text-1{\n  font-size:2em;\n}\n.text-4{\n  font-size:0.8em;\n}\n.text-capitalize{\n  text-transform:capitalize;\n}\n.text-uppercase{\n  text-transform:uppercase;\n}\n.text-ontime{\n  color:#58ae5b;\n}\n.text-late{\n  color:#E6413E;\n}\n.text-warning{\n  color:#E6413E !important;\n}\n.text-red{\n  color:#E6413E;\n}\n.text-blue{\n  color:#5496F8;\n}\n.truncate{\n  white-space:nowrap;\n  overflow:hidden;\n  text-overflow:ellipsis;\n}\n.flex-row{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:row;\n          flex-direction:row;\n}\n.flex-column{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n}\n.column-gap-4 > :not(:last-child){\n  margin-bottom:4px;\n}\n.row-gap-4 > :not(:last-child){\n  margin-right:4px;\n}\n.column-gap-7 > :not(:last-child){\n  margin-bottom:7px;\n}\n.row-gap-7 > :not(:last-child){\n  margin-right:7px;\n}\n.column-gap-10 > :not(:last-child){\n  margin-bottom:10px;\n}\n.row-gap-10 > :not(:last-child){\n  margin-right:10px;\n}\n.column-gap-20 > :not(:last-child){\n  margin-bottom:20px;\n}\n.row-gap-20 > :not(:last-child){\n  margin-right:20px;\n}\n.wrap{\n  -ms-flex-wrap:wrap;\n      flex-wrap:wrap;\n}\n.flex{\n  -webkit-box-flex:1;\n      -ms-flex:1;\n          flex:1;\n}\n.auto{\n  margin:auto;\n}\n.relative{\n  position:relative;\n}\n.space-between{\n  -webkit-box-pack:justify;\n      -ms-flex-pack:justify;\n          justify-content:space-between;\n}\n.space-around{\n  -ms-flex-pack:distribute;\n      justify-content:space-around;\n}\n.justify-center{\n  -webkit-box-pack:center;\n      -ms-flex-pack:center;\n          justify-content:center;\n}\n.flex-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.align-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.clickable{\n  cursor:pointer;\n}\n.round-icon{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  width:23px;\n  height:23px;\n  background:#315790;\n  border-radius:50%;\n}\n.flex-half{\n  -ms-flex-preferred-size:50%;\n      flex-basis:50%;\n}\n.link-unstyled{\n  color:inherit;\n}\n.link-unstyled:hover{\n  text-decoration:none;\n}\n.half{\n  width:50%;\n}\n.noselect{\n  -webkit-touch-callout:none;\n  -webkit-user-select:none;\n  -moz-user-select:none;\n  -ms-user-select:none;\n  user-select:none;\n}\n.hover-shadow:hover{\n  -webkit-box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n          box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n}\n.marker-transparent{\n  opacity:0.4;\n}\n.marker-fade{\n  -webkit-filter:contrast(16%) brightness(160%) blur(0.6px);\n          filter:contrast(16%) brightness(160%) blur(0.6px);\n}\n.tooltip-warning{\n  background:#e04745;\n  color:#fff;\n}\n.tooltip-warning-arrow{\n  border-right-color:#e04745 !important;\n}\n.tooltip-info{\n  background:#5496F8;\n  color:#fff;\n}\n.tooltip-info-arrow{\n  border-right-color:#5496F8 !important;\n}\na{\n  color:inherit;\n  text-decoration:none;\n}\na:hover{\n  color:inherit;\n  text-decoration:none;\n}\na:active{\n  color:inherit;\n  text-decoration:none;\n}\na:focus{\n  outline:none;\n  color:inherit;\n  text-decoration:none;\n}\n.spinner-wave{\n  margin:0 auto;\n  width:100px;\n  height:20px;\n  text-align:center;\n}\n.spinner-wave > div{\n  background-color:#5496F8;\n  height:100%;\n  width:6px;\n  display:inline-block;\n  -webkit-animation:wave 1.2s infinite ease-in-out;\n  animation:wave 1.2s infinite ease-in-out;\n}\n.spinner-wave div:nth-child(2){\n  -webkit-animation-delay:-1.1s;\n  animation-delay:-1.1s;\n}\n.spinner-wave div:nth-child(3){\n  -webkit-animation-delay:-1s;\n  animation-delay:-1s;\n}\n.spinner-wave div:nth-child(4){\n  -webkit-animation-delay:-0.9s;\n  animation-delay:-0.9s;\n}\n.spinner-wave div:nth-child(5){\n  -webkit-animation-delay:-0.8s;\n  animation-delay:-0.8s;\n}\n@-webkit-keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n  }\n}\n@keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n            transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n            transform:scaleY(1);\n  }\n}\n@media screen and (max-width: 480px){\n  .hide-xs{\n    display:none !important;\n  }\n}\n@media screen and (min-width: 480px){\n  .show-xs{\n    display:none !important;\n  }\n}\n.ht-btn{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n  padding:5px 13px;\n  border:0;\n  background:#ffffff;\n  color:#52616A;\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.ht-btn:focus{\n  background:#fcfcfc;\n  outline:0;\n}\n.ht-btn-card:hover{\n  background:#5496F8;\n  color:rgba(255, 255, 255, 0.96);\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.stopped-color{\n  color:#FFBB44;\n}\n.drive-color{\n  color:#5496F8;\n}\n.walk-color{\n  color:#5496F8;\n}\n.moving-color{\n  color:#5496F8;\n}\n.logged_off-color{\n  color:#A9BAC4;\n}\n.network_offline-color{\n  color:#d19191;\n}\n.location_disabled-color{\n  color:#d19191;\n}\n.location_low_accuracy-color{\n  color:#d19191;\n}\n.stopped-bg{\n  background:#FFBB44;\n}\n.drive-bg{\n  background:#5496F8;\n}\n.walk-bg{\n  background:#5496F8;\n}\n.moving-bg{\n  background:#5496F8;\n}\n.logged_off-bg{\n  background:#A9BAC4;\n}\n.network_offline-bg{\n  background:#d19191;\n}\n.location_disabled-bg{\n  background-color:#d19191;\n}\n.location_low_accuracy-bg{\n  background-color:#d19191;\n}\n:host{\n  height:100%;\n  width:100%;\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  position:relative;\n}\n.map-label{\n  position:absolute;\n  z-index:400;\n  text-align:center;\n}\n.map-label-bottom{\n  bottom:20px;\n  right:0;\n  left:0;\n  width:100%;\n}\n.map-label-top{\n  top:10px;\n  right:20px;\n}\n"]}]}],wn.ctorParameters=function(){return[{type:X},{type:V}]},wn.propDecorators={showLoading:[{type:e.Input}]};var kn=function(){return function(){}}();kn.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule,vn,H],declarations:[wn],exports:[wn]}]}],kn.ctorParameters=function(){return[]};var Sn=function(){function n(n,e){this.userClientService=n,this.mapService=e,this.showSidebar=!0}return n.prototype.ngOnInit=function(){this.userClientService.placeline.setId(this.userId)},n}();Sn.decorators=[{type:e.Component,args:[{selector:"ht-placeline-map-container",template:'<div class="ht-container">\n  <div class="bar" *ngIf="showSidebar">\n    <ht-placeline-container [userId]="userId"></ht-placeline-container>\n  </div>\n  <div class="flex">\n    <ht-map-container [showLoading]="false"></ht-map-container>\n  </div>\n</div>\n',styles:[".text-center{\n  text-align:center;\n}\n.text-muted{\n  color:#798E9B;\n}\n.text-right{\n  text-align:right;\n}\n.text-left{\n  text-align:left;\n}\n.text-1{\n  font-size:2em;\n}\n.text-4{\n  font-size:0.8em;\n}\n.text-capitalize{\n  text-transform:capitalize;\n}\n.text-uppercase{\n  text-transform:uppercase;\n}\n.text-ontime{\n  color:#58ae5b;\n}\n.text-late{\n  color:#E6413E;\n}\n.text-warning{\n  color:#E6413E !important;\n}\n.text-red{\n  color:#E6413E;\n}\n.text-blue{\n  color:#5496F8;\n}\n.truncate{\n  white-space:nowrap;\n  overflow:hidden;\n  text-overflow:ellipsis;\n}\n.flex-row{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:row;\n          flex-direction:row;\n}\n.flex-column{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n}\n.column-gap-4 > :not(:last-child){\n  margin-bottom:4px;\n}\n.row-gap-4 > :not(:last-child){\n  margin-right:4px;\n}\n.column-gap-7 > :not(:last-child){\n  margin-bottom:7px;\n}\n.row-gap-7 > :not(:last-child){\n  margin-right:7px;\n}\n.column-gap-10 > :not(:last-child){\n  margin-bottom:10px;\n}\n.row-gap-10 > :not(:last-child){\n  margin-right:10px;\n}\n.column-gap-20 > :not(:last-child){\n  margin-bottom:20px;\n}\n.row-gap-20 > :not(:last-child){\n  margin-right:20px;\n}\n.wrap{\n  -ms-flex-wrap:wrap;\n      flex-wrap:wrap;\n}\n.flex{\n  -webkit-box-flex:1;\n      -ms-flex:1;\n          flex:1;\n}\n.auto{\n  margin:auto;\n}\n.relative{\n  position:relative;\n}\n.space-between{\n  -webkit-box-pack:justify;\n      -ms-flex-pack:justify;\n          justify-content:space-between;\n}\n.space-around{\n  -ms-flex-pack:distribute;\n      justify-content:space-around;\n}\n.justify-center{\n  -webkit-box-pack:center;\n      -ms-flex-pack:center;\n          justify-content:center;\n}\n.flex-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.align-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.clickable{\n  cursor:pointer;\n}\n.round-icon{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  width:23px;\n  height:23px;\n  background:#315790;\n  border-radius:50%;\n}\n.flex-half{\n  -ms-flex-preferred-size:50%;\n      flex-basis:50%;\n}\n.link-unstyled{\n  color:inherit;\n}\n.link-unstyled:hover{\n  text-decoration:none;\n}\n.half{\n  width:50%;\n}\n.noselect{\n  -webkit-touch-callout:none;\n  -webkit-user-select:none;\n  -moz-user-select:none;\n  -ms-user-select:none;\n  user-select:none;\n}\n.hover-shadow:hover{\n  -webkit-box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n          box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n}\n.marker-transparent{\n  opacity:0.4;\n}\n.marker-fade{\n  -webkit-filter:contrast(16%) brightness(160%) blur(0.6px);\n          filter:contrast(16%) brightness(160%) blur(0.6px);\n}\n.tooltip-warning{\n  background:#e04745;\n  color:#fff;\n}\n.tooltip-warning-arrow{\n  border-right-color:#e04745 !important;\n}\n.tooltip-info{\n  background:#5496F8;\n  color:#fff;\n}\n.tooltip-info-arrow{\n  border-right-color:#5496F8 !important;\n}\na{\n  color:inherit;\n  text-decoration:none;\n}\na:hover{\n  color:inherit;\n  text-decoration:none;\n}\na:active{\n  color:inherit;\n  text-decoration:none;\n}\na:focus{\n  outline:none;\n  color:inherit;\n  text-decoration:none;\n}\n.spinner-wave{\n  margin:0 auto;\n  width:100px;\n  height:20px;\n  text-align:center;\n}\n.spinner-wave > div{\n  background-color:#5496F8;\n  height:100%;\n  width:6px;\n  display:inline-block;\n  -webkit-animation:wave 1.2s infinite ease-in-out;\n  animation:wave 1.2s infinite ease-in-out;\n}\n.spinner-wave div:nth-child(2){\n  -webkit-animation-delay:-1.1s;\n  animation-delay:-1.1s;\n}\n.spinner-wave div:nth-child(3){\n  -webkit-animation-delay:-1s;\n  animation-delay:-1s;\n}\n.spinner-wave div:nth-child(4){\n  -webkit-animation-delay:-0.9s;\n  animation-delay:-0.9s;\n}\n.spinner-wave div:nth-child(5){\n  -webkit-animation-delay:-0.8s;\n  animation-delay:-0.8s;\n}\n@-webkit-keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n  }\n}\n@keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n            transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n            transform:scaleY(1);\n  }\n}\n@media screen and (max-width: 480px){\n  .hide-xs{\n    display:none !important;\n  }\n}\n@media screen and (min-width: 480px){\n  .show-xs{\n    display:none !important;\n  }\n}\n.ht-btn{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n  padding:5px 13px;\n  border:0;\n  background:#ffffff;\n  color:#52616A;\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.ht-btn:focus{\n  background:#fcfcfc;\n  outline:0;\n}\n.ht-btn-card:hover{\n  background:#5496F8;\n  color:rgba(255, 255, 255, 0.96);\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.stopped-color{\n  color:#FFBB44;\n}\n.drive-color{\n  color:#5496F8;\n}\n.walk-color{\n  color:#5496F8;\n}\n.moving-color{\n  color:#5496F8;\n}\n.logged_off-color{\n  color:#A9BAC4;\n}\n.network_offline-color{\n  color:#d19191;\n}\n.location_disabled-color{\n  color:#d19191;\n}\n.location_low_accuracy-color{\n  color:#d19191;\n}\n.stopped-bg{\n  background:#FFBB44;\n}\n.drive-bg{\n  background:#5496F8;\n}\n.walk-bg{\n  background:#5496F8;\n}\n.moving-bg{\n  background:#5496F8;\n}\n.logged_off-bg{\n  background:#A9BAC4;\n}\n.network_offline-bg{\n  background:#d19191;\n}\n.location_disabled-bg{\n  background-color:#d19191;\n}\n.location_low_accuracy-bg{\n  background-color:#d19191;\n}\n.ht-container{\n  width:100%;\n  height:100%;\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:row;\n          flex-direction:row;\n  min-height:100%;\n}\n.ht-container .bar{\n  -webkit-box-flex:1;\n      -ms-flex:1;\n          flex:1;\n  max-width:400px;\n  min-height:100%;\n  height:100%;\n  overflow:auto;\n}\n"]}]}],Sn.ctorParameters=function(){return[{type:X},{type:V}]},Sn.propDecorators={userId:[{type:e.Input}],showSidebar:[{type:e.Input}]};var Cn=function(){return function(){}}();Cn.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule,kn,tn],declarations:[Sn],exports:[Sn]}]}],Cn.ctorParameters=function(){return[]};var Fn=function(){function n(n){this.userClientService=n,this.hasPlaceline=!0,this.apiType=c.ApiType.analytics,this.showFilter=!0,this.showSidebar=!0,this.showAll=!1}return n.prototype.ngOnInit=function(){this.userClientService.listAll.setActive(),this.key&&(c.htClientService.getInstance().tempToken=this.key)},n}();Fn.decorators=[{type:e.Component,args:[{selector:"ht-users-map-container",template:'<div class="ht-container">\n  <ht-users-filter *ngIf="showFilter"></ht-users-filter>\n  <div class="flex-row flex">\n    <div class="bar" *ngIf="showSidebar" [style.width.px]="sidebarWidth || 400">\n      <ht-users-container\n        [apiType]="apiType"\n        [hasPlaceline]="hasPlaceline"\n        [showAll]="showAll"\n        [hasMap]="true"></ht-users-container>\n    </div>\n    <div class="flex">\n      <ht-map-container [showLoading]="false"></ht-map-container>\n    </div>\n  </div>\n</div>\n',styles:[".text-center{\n  text-align:center;\n}\n.text-muted{\n  color:#798E9B;\n}\n.text-right{\n  text-align:right;\n}\n.text-left{\n  text-align:left;\n}\n.text-1{\n  font-size:2em;\n}\n.text-4{\n  font-size:0.8em;\n}\n.text-capitalize{\n  text-transform:capitalize;\n}\n.text-uppercase{\n  text-transform:uppercase;\n}\n.text-ontime{\n  color:#58ae5b;\n}\n.text-late{\n  color:#E6413E;\n}\n.text-warning{\n  color:#E6413E !important;\n}\n.text-red{\n  color:#E6413E;\n}\n.text-blue{\n  color:#5496F8;\n}\n.truncate{\n  white-space:nowrap;\n  overflow:hidden;\n  text-overflow:ellipsis;\n}\n.flex-row{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:row;\n          flex-direction:row;\n}\n.flex-column{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n}\n.column-gap-4 > :not(:last-child){\n  margin-bottom:4px;\n}\n.row-gap-4 > :not(:last-child){\n  margin-right:4px;\n}\n.column-gap-7 > :not(:last-child){\n  margin-bottom:7px;\n}\n.row-gap-7 > :not(:last-child){\n  margin-right:7px;\n}\n.column-gap-10 > :not(:last-child){\n  margin-bottom:10px;\n}\n.row-gap-10 > :not(:last-child){\n  margin-right:10px;\n}\n.column-gap-20 > :not(:last-child){\n  margin-bottom:20px;\n}\n.row-gap-20 > :not(:last-child){\n  margin-right:20px;\n}\n.wrap{\n  -ms-flex-wrap:wrap;\n      flex-wrap:wrap;\n}\n.flex{\n  -webkit-box-flex:1;\n      -ms-flex:1;\n          flex:1;\n}\n.auto{\n  margin:auto;\n}\n.relative{\n  position:relative;\n}\n.space-between{\n  -webkit-box-pack:justify;\n      -ms-flex-pack:justify;\n          justify-content:space-between;\n}\n.space-around{\n  -ms-flex-pack:distribute;\n      justify-content:space-around;\n}\n.justify-center{\n  -webkit-box-pack:center;\n      -ms-flex-pack:center;\n          justify-content:center;\n}\n.flex-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.align-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.clickable{\n  cursor:pointer;\n}\n.round-icon{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  width:23px;\n  height:23px;\n  background:#315790;\n  border-radius:50%;\n}\n.flex-half{\n  -ms-flex-preferred-size:50%;\n      flex-basis:50%;\n}\n.link-unstyled{\n  color:inherit;\n}\n.link-unstyled:hover{\n  text-decoration:none;\n}\n.half{\n  width:50%;\n}\n.noselect{\n  -webkit-touch-callout:none;\n  -webkit-user-select:none;\n  -moz-user-select:none;\n  -ms-user-select:none;\n  user-select:none;\n}\n.hover-shadow:hover{\n  -webkit-box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n          box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n}\n.marker-transparent{\n  opacity:0.4;\n}\n.marker-fade{\n  -webkit-filter:contrast(16%) brightness(160%) blur(0.6px);\n          filter:contrast(16%) brightness(160%) blur(0.6px);\n}\n.tooltip-warning{\n  background:#e04745;\n  color:#fff;\n}\n.tooltip-warning-arrow{\n  border-right-color:#e04745 !important;\n}\n.tooltip-info{\n  background:#5496F8;\n  color:#fff;\n}\n.tooltip-info-arrow{\n  border-right-color:#5496F8 !important;\n}\na{\n  color:inherit;\n  text-decoration:none;\n}\na:hover{\n  color:inherit;\n  text-decoration:none;\n}\na:active{\n  color:inherit;\n  text-decoration:none;\n}\na:focus{\n  outline:none;\n  color:inherit;\n  text-decoration:none;\n}\n.spinner-wave{\n  margin:0 auto;\n  width:100px;\n  height:20px;\n  text-align:center;\n}\n.spinner-wave > div{\n  background-color:#5496F8;\n  height:100%;\n  width:6px;\n  display:inline-block;\n  -webkit-animation:wave 1.2s infinite ease-in-out;\n  animation:wave 1.2s infinite ease-in-out;\n}\n.spinner-wave div:nth-child(2){\n  -webkit-animation-delay:-1.1s;\n  animation-delay:-1.1s;\n}\n.spinner-wave div:nth-child(3){\n  -webkit-animation-delay:-1s;\n  animation-delay:-1s;\n}\n.spinner-wave div:nth-child(4){\n  -webkit-animation-delay:-0.9s;\n  animation-delay:-0.9s;\n}\n.spinner-wave div:nth-child(5){\n  -webkit-animation-delay:-0.8s;\n  animation-delay:-0.8s;\n}\n@-webkit-keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n  }\n}\n@keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n            transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n            transform:scaleY(1);\n  }\n}\n@media screen and (max-width: 480px){\n  .hide-xs{\n    display:none !important;\n  }\n}\n@media screen and (min-width: 480px){\n  .show-xs{\n    display:none !important;\n  }\n}\n.ht-btn{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n  padding:5px 13px;\n  border:0;\n  background:#ffffff;\n  color:#52616A;\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.ht-btn:focus{\n  background:#fcfcfc;\n  outline:0;\n}\n.ht-btn-card:hover{\n  background:#5496F8;\n  color:rgba(255, 255, 255, 0.96);\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.stopped-color{\n  color:#FFBB44;\n}\n.drive-color{\n  color:#5496F8;\n}\n.walk-color{\n  color:#5496F8;\n}\n.moving-color{\n  color:#5496F8;\n}\n.logged_off-color{\n  color:#A9BAC4;\n}\n.network_offline-color{\n  color:#d19191;\n}\n.location_disabled-color{\n  color:#d19191;\n}\n.location_low_accuracy-color{\n  color:#d19191;\n}\n.stopped-bg{\n  background:#FFBB44;\n}\n.drive-bg{\n  background:#5496F8;\n}\n.walk-bg{\n  background:#5496F8;\n}\n.moving-bg{\n  background:#5496F8;\n}\n.logged_off-bg{\n  background:#A9BAC4;\n}\n.network_offline-bg{\n  background:#d19191;\n}\n.location_disabled-bg{\n  background-color:#d19191;\n}\n.location_low_accuracy-bg{\n  background-color:#d19191;\n}\n.ht-container{\n  width:100%;\n  height:100%;\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n  min-height:100%;\n}\n.ht-container .bar{\n  width:100px;\n  max-width:400px;\n  min-height:100%;\n  height:100%;\n  overflow:auto;\n  background:#fbfbfb;\n}\n"]}]}],Fn.ctorParameters=function(){return[{type:X}]},Fn.propDecorators={hasPlaceline:[{type:e.Input}],key:[{type:e.Input}],sidebarWidth:[{type:e.Input}],apiType:[{type:e.Input}],showFilter:[{type:e.Input}],showSidebar:[{type:e.Input}],showAll:[{type:e.Input}]};var In=function(){function n(n,e){this.usersClientService=n,this.cd=e,this.query$=g.of(null),this.loading$=g.of(!1)}return n.prototype.ngOnInit=function(){var n=this;setTimeout(function(){n.query$=n.usersClientService.queryLabel$,n.loading$=n.usersClientService.list.loading$.pipe(p.skip(1),p.map(function(n){return!!n}),p.distinctUntilChanged()),n.cd.detectChanges()}),this.statusFiltes=this.usersClientService.filterClass.statusQueryArray,this.sortingLabels=this.usersClientService.filterClass.sortingQueryLabel,this.ordering$=this.usersClientService.ordering$,this.showFilter$=this.usersClientService.list.id$.pipe(p.map(function(n){return n?"hide":"show"}))},n.prototype.onQuery=function(n){this.usersClientService.list.setQueryReset(n)},n.prototype.clearQuery=function(n){this.usersClientService.list.clearQueryKey(n)},n.prototype.setStatus=function(n,e){this.onQuery({status:n})},n.prototype.setOrdering=function(n){this.onQuery({ordering:n})},n}();In.decorators=[{type:e.Component,args:[{selector:"ht-users-filter",template:'<div class="filter-container flex-column" [@filter]="showFilter$ | async">\n  <ht-entity-search (onSearchQuery)="onQuery($event)"></ht-entity-search>\n  <div class="dropdown" htDropdown>\n    <button type="button" class="button dropdown-trigger flex-row row-gap-4">\n      <span>Sorting</span>\n      <ng-container *ngIf="ordering$ | async as ordering">\n        <span>: {{ordering.string}}</span>\n        <i [ngClass]="ordering.sign ? \'fa-arrow-up\' : \'fa-arrow-down\'" class="fa"></i>\n      </ng-container>\n      \x3c!--<span *ngIf="ordering$ | async as ordering"></span>--\x3e\n      \x3c!--<i class="fa fa-filter"></i>--\x3e\n    </button>\n    <div class="dropdown-menu" role="menu" aria-labelledby="dropdown-keyboard-access">\n      <div class="dropdown-content">\n        <a class="dropdown-item" (click)="setOrdering(sort.value)" *ngFor="let sort of sortingLabels">{{sort.label}}</a>\n      </div>\n    </div>\n  </div>\n  <div class="dropdown is-hoverable">\n    <button id="dropdown-keyboard-access" type="button" class="button flex-row row-gap-4">\n      <span>Filters</span> <i class="fa fa-filter"></i>\n    </button>\n    <div class="dropdown-menu" role="menu" aria-labelledby="dropdown-keyboard-access">\n      <div class="dropdown-content">\n        <a class="dropdown-item" (click)="setStatus(filter.values.toString(), $event)" *ngFor="let filter of statusFiltes">{{filter.label}}</a>\n      </div>\n    </div>\n  </div>\n  <div class="flex flex-row row-gap-4" *ngIf="query$">\n    <div class="" *ngFor="let query of query$ | async as queries">\n      <div class="tags has-addons">\n        <div class="tag is-medium is-primary">{{query.label}}</div>\n        <a (click)="clearQuery(query.value)" class="tag is-medium is-primary is-delete"></a>\n      </div>\n    </div>\n  </div>\n  <ht-date-range [isRight]="true"></ht-date-range>\n  <div class="loading-bar" *ngIf="loading$ | async">\n    <ht-loading-bar></ht-loading-bar>\n  </div>\n</div>\n',styles:[".text-center{\n  text-align:center;\n}\n.text-muted{\n  color:#798E9B;\n}\n.text-right{\n  text-align:right;\n}\n.text-left{\n  text-align:left;\n}\n.text-1{\n  font-size:2em;\n}\n.text-4{\n  font-size:0.8em;\n}\n.text-capitalize{\n  text-transform:capitalize;\n}\n.text-uppercase{\n  text-transform:uppercase;\n}\n.text-ontime{\n  color:#58ae5b;\n}\n.text-late{\n  color:#E6413E;\n}\n.text-warning{\n  color:#E6413E !important;\n}\n.text-red{\n  color:#E6413E;\n}\n.text-blue{\n  color:#5496F8;\n}\n.truncate{\n  white-space:nowrap;\n  overflow:hidden;\n  text-overflow:ellipsis;\n}\n.flex-row{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:row;\n          flex-direction:row;\n}\n.flex-column{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n}\n.column-gap-4 > :not(:last-child){\n  margin-bottom:4px;\n}\n.row-gap-4 > :not(:last-child){\n  margin-right:4px;\n}\n.column-gap-7 > :not(:last-child){\n  margin-bottom:7px;\n}\n.row-gap-7 > :not(:last-child){\n  margin-right:7px;\n}\n.column-gap-10 > :not(:last-child){\n  margin-bottom:10px;\n}\n.row-gap-10 > :not(:last-child){\n  margin-right:10px;\n}\n.column-gap-20 > :not(:last-child){\n  margin-bottom:20px;\n}\n.row-gap-20 > :not(:last-child){\n  margin-right:20px;\n}\n.wrap{\n  -ms-flex-wrap:wrap;\n      flex-wrap:wrap;\n}\n.flex{\n  -webkit-box-flex:1;\n      -ms-flex:1;\n          flex:1;\n}\n.auto{\n  margin:auto;\n}\n.relative{\n  position:relative;\n}\n.space-between{\n  -webkit-box-pack:justify;\n      -ms-flex-pack:justify;\n          justify-content:space-between;\n}\n.space-around{\n  -ms-flex-pack:distribute;\n      justify-content:space-around;\n}\n.justify-center{\n  -webkit-box-pack:center;\n      -ms-flex-pack:center;\n          justify-content:center;\n}\n.flex-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.align-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.clickable{\n  cursor:pointer;\n}\n.round-icon{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  width:23px;\n  height:23px;\n  background:#315790;\n  border-radius:50%;\n}\n.flex-half{\n  -ms-flex-preferred-size:50%;\n      flex-basis:50%;\n}\n.link-unstyled{\n  color:inherit;\n}\n.link-unstyled:hover{\n  text-decoration:none;\n}\n.half{\n  width:50%;\n}\n.noselect{\n  -webkit-touch-callout:none;\n  -webkit-user-select:none;\n  -moz-user-select:none;\n  -ms-user-select:none;\n  user-select:none;\n}\n.hover-shadow:hover{\n  -webkit-box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n          box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n}\n.marker-transparent{\n  opacity:0.4;\n}\n.marker-fade{\n  -webkit-filter:contrast(16%) brightness(160%) blur(0.6px);\n          filter:contrast(16%) brightness(160%) blur(0.6px);\n}\n.tooltip-warning{\n  background:#e04745;\n  color:#fff;\n}\n.tooltip-warning-arrow{\n  border-right-color:#e04745 !important;\n}\n.tooltip-info{\n  background:#5496F8;\n  color:#fff;\n}\n.tooltip-info-arrow{\n  border-right-color:#5496F8 !important;\n}\na{\n  color:inherit;\n  text-decoration:none;\n}\na:hover{\n  color:inherit;\n  text-decoration:none;\n}\na:active{\n  color:inherit;\n  text-decoration:none;\n}\na:focus{\n  outline:none;\n  color:inherit;\n  text-decoration:none;\n}\n.spinner-wave{\n  margin:0 auto;\n  width:100px;\n  height:20px;\n  text-align:center;\n}\n.spinner-wave > div{\n  background-color:#5496F8;\n  height:100%;\n  width:6px;\n  display:inline-block;\n  -webkit-animation:wave 1.2s infinite ease-in-out;\n  animation:wave 1.2s infinite ease-in-out;\n}\n.spinner-wave div:nth-child(2){\n  -webkit-animation-delay:-1.1s;\n  animation-delay:-1.1s;\n}\n.spinner-wave div:nth-child(3){\n  -webkit-animation-delay:-1s;\n  animation-delay:-1s;\n}\n.spinner-wave div:nth-child(4){\n  -webkit-animation-delay:-0.9s;\n  animation-delay:-0.9s;\n}\n.spinner-wave div:nth-child(5){\n  -webkit-animation-delay:-0.8s;\n  animation-delay:-0.8s;\n}\n@-webkit-keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n  }\n}\n@keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n            transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n            transform:scaleY(1);\n  }\n}\n@media screen and (max-width: 480px){\n  .hide-xs{\n    display:none !important;\n  }\n}\n@media screen and (min-width: 480px){\n  .show-xs{\n    display:none !important;\n  }\n}\n.ht-btn{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n  padding:5px 13px;\n  border:0;\n  background:#ffffff;\n  color:#52616A;\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.ht-btn:focus{\n  background:#fcfcfc;\n  outline:0;\n}\n.ht-btn-card:hover{\n  background:#5496F8;\n  color:rgba(255, 255, 255, 0.96);\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.stopped-color{\n  color:#FFBB44;\n}\n.drive-color{\n  color:#5496F8;\n}\n.walk-color{\n  color:#5496F8;\n}\n.moving-color{\n  color:#5496F8;\n}\n.logged_off-color{\n  color:#A9BAC4;\n}\n.network_offline-color{\n  color:#d19191;\n}\n.location_disabled-color{\n  color:#d19191;\n}\n.location_low_accuracy-color{\n  color:#d19191;\n}\n.stopped-bg{\n  background:#FFBB44;\n}\n.drive-bg{\n  background:#5496F8;\n}\n.walk-bg{\n  background:#5496F8;\n}\n.moving-bg{\n  background:#5496F8;\n}\n.logged_off-bg{\n  background:#A9BAC4;\n}\n.network_offline-bg{\n  background:#d19191;\n}\n.location_disabled-bg{\n  background-color:#d19191;\n}\n.location_low_accuracy-bg{\n  background-color:#d19191;\n}\n.filter-container{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:row;\n          flex-direction:row;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n  position:relative;\n  padding:4px 10px;\n  border-bottom:2px solid #ccc;\n}\n.filter-container > :not(:last-child){\n  margin-right:7px;\n}\n.loading-bar{\n  position:absolute;\n  width:100%;\n  bottom:0;\n  left:0;\n}\n"],changeDetection:e.ChangeDetectionStrategy.OnPush,animations:[s.trigger("filter",[s.state("hide",s.style({display:"none"})),s.transition("hide => show",[s.style({transform:"translateX(-100px)",height:0}),s.animate("0.3s ease-out")]),s.transition("show => hide",[s.animate("0.3s ease-in",s.style({transform:"translateX(-100px)",height:0}))])])]}]}],In.ctorParameters=function(){return[{type:X},{type:e.ChangeDetectorRef}]};var _n=function(){function n(){this.query$=new f.Subject,this.entity="",this.onSearchQuery=new e.EventEmitter}return n.prototype.clickSearch=function(n){this.input.nativeElement.focus()},n.prototype.ngOnInit=function(){},n.prototype.test=function(n){this.query$.next(n)},n.prototype.setSearch=function(n){var e=n.value;n.value="",e&&this.onSearchQuery.next({search:e})},n}();_n.decorators=[{type:e.Component,args:[{selector:"ht-entity-search",template:'\x3c!--<div class="control has-icons-right flex-row">--\x3e\n  \x3c!--<input #query (input)="test(query.value)" (keydown.enter)="setSearch(query)" type="text" class="input" placeholder="Search {{entity}}">--\x3e\n  \x3c!--<span class="icon is-right" (click)="setSearch(query)">--\x3e\n        \x3c!--<i class="fa fa-search"></i>--\x3e\n      \x3c!--</span>--\x3e\n\x3c!--</div>&lt;!&ndash; /input-group &ndash;&gt;--\x3e\n<div class="field has-addons">\n  <div class="control">\n    <input #query (input)="test(query.value)" (keydown.enter)="setSearch(query)" type="text" class="input" placeholder="Search {{entity}}">\n  </div>\n  <div class="control">\n    <a class="button">\n      <i class="fa fa-search"></i>\n    </a>\n  </div>\n</div>\n',styles:[".text-center{\n  text-align:center;\n}\n.text-muted{\n  color:#798E9B;\n}\n.text-right{\n  text-align:right;\n}\n.text-left{\n  text-align:left;\n}\n.text-1{\n  font-size:2em;\n}\n.text-4{\n  font-size:0.8em;\n}\n.text-capitalize{\n  text-transform:capitalize;\n}\n.text-uppercase{\n  text-transform:uppercase;\n}\n.text-ontime{\n  color:#58ae5b;\n}\n.text-late{\n  color:#E6413E;\n}\n.text-warning{\n  color:#E6413E !important;\n}\n.text-red{\n  color:#E6413E;\n}\n.text-blue{\n  color:#5496F8;\n}\n.truncate{\n  white-space:nowrap;\n  overflow:hidden;\n  text-overflow:ellipsis;\n}\n.flex-row{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:row;\n          flex-direction:row;\n}\n.flex-column{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n}\n.column-gap-4 > :not(:last-child){\n  margin-bottom:4px;\n}\n.row-gap-4 > :not(:last-child){\n  margin-right:4px;\n}\n.column-gap-7 > :not(:last-child){\n  margin-bottom:7px;\n}\n.row-gap-7 > :not(:last-child){\n  margin-right:7px;\n}\n.column-gap-10 > :not(:last-child){\n  margin-bottom:10px;\n}\n.row-gap-10 > :not(:last-child){\n  margin-right:10px;\n}\n.column-gap-20 > :not(:last-child){\n  margin-bottom:20px;\n}\n.row-gap-20 > :not(:last-child){\n  margin-right:20px;\n}\n.wrap{\n  -ms-flex-wrap:wrap;\n      flex-wrap:wrap;\n}\n.flex{\n  -webkit-box-flex:1;\n      -ms-flex:1;\n          flex:1;\n}\n.auto{\n  margin:auto;\n}\n.relative{\n  position:relative;\n}\n.space-between{\n  -webkit-box-pack:justify;\n      -ms-flex-pack:justify;\n          justify-content:space-between;\n}\n.space-around{\n  -ms-flex-pack:distribute;\n      justify-content:space-around;\n}\n.justify-center{\n  -webkit-box-pack:center;\n      -ms-flex-pack:center;\n          justify-content:center;\n}\n.flex-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.align-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.clickable{\n  cursor:pointer;\n}\n.round-icon{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  width:23px;\n  height:23px;\n  background:#315790;\n  border-radius:50%;\n}\n.flex-half{\n  -ms-flex-preferred-size:50%;\n      flex-basis:50%;\n}\n.link-unstyled{\n  color:inherit;\n}\n.link-unstyled:hover{\n  text-decoration:none;\n}\n.half{\n  width:50%;\n}\n.noselect{\n  -webkit-touch-callout:none;\n  -webkit-user-select:none;\n  -moz-user-select:none;\n  -ms-user-select:none;\n  user-select:none;\n}\n.hover-shadow:hover{\n  -webkit-box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n          box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n}\n.marker-transparent{\n  opacity:0.4;\n}\n.marker-fade{\n  -webkit-filter:contrast(16%) brightness(160%) blur(0.6px);\n          filter:contrast(16%) brightness(160%) blur(0.6px);\n}\n.tooltip-warning{\n  background:#e04745;\n  color:#fff;\n}\n.tooltip-warning-arrow{\n  border-right-color:#e04745 !important;\n}\n.tooltip-info{\n  background:#5496F8;\n  color:#fff;\n}\n.tooltip-info-arrow{\n  border-right-color:#5496F8 !important;\n}\na{\n  color:inherit;\n  text-decoration:none;\n}\na:hover{\n  color:inherit;\n  text-decoration:none;\n}\na:active{\n  color:inherit;\n  text-decoration:none;\n}\na:focus{\n  outline:none;\n  color:inherit;\n  text-decoration:none;\n}\n.spinner-wave{\n  margin:0 auto;\n  width:100px;\n  height:20px;\n  text-align:center;\n}\n.spinner-wave > div{\n  background-color:#5496F8;\n  height:100%;\n  width:6px;\n  display:inline-block;\n  -webkit-animation:wave 1.2s infinite ease-in-out;\n  animation:wave 1.2s infinite ease-in-out;\n}\n.spinner-wave div:nth-child(2){\n  -webkit-animation-delay:-1.1s;\n  animation-delay:-1.1s;\n}\n.spinner-wave div:nth-child(3){\n  -webkit-animation-delay:-1s;\n  animation-delay:-1s;\n}\n.spinner-wave div:nth-child(4){\n  -webkit-animation-delay:-0.9s;\n  animation-delay:-0.9s;\n}\n.spinner-wave div:nth-child(5){\n  -webkit-animation-delay:-0.8s;\n  animation-delay:-0.8s;\n}\n@-webkit-keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n  }\n}\n@keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n            transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n            transform:scaleY(1);\n  }\n}\n@media screen and (max-width: 480px){\n  .hide-xs{\n    display:none !important;\n  }\n}\n@media screen and (min-width: 480px){\n  .show-xs{\n    display:none !important;\n  }\n}\n.ht-btn{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n  padding:5px 13px;\n  border:0;\n  background:#ffffff;\n  color:#52616A;\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.ht-btn:focus{\n  background:#fcfcfc;\n  outline:0;\n}\n.ht-btn-card:hover{\n  background:#5496F8;\n  color:rgba(255, 255, 255, 0.96);\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.stopped-color{\n  color:#FFBB44;\n}\n.drive-color{\n  color:#5496F8;\n}\n.walk-color{\n  color:#5496F8;\n}\n.moving-color{\n  color:#5496F8;\n}\n.logged_off-color{\n  color:#A9BAC4;\n}\n.network_offline-color{\n  color:#d19191;\n}\n.location_disabled-color{\n  color:#d19191;\n}\n.location_low_accuracy-color{\n  color:#d19191;\n}\n.stopped-bg{\n  background:#FFBB44;\n}\n.drive-bg{\n  background:#5496F8;\n}\n.walk-bg{\n  background:#5496F8;\n}\n.moving-bg{\n  background:#5496F8;\n}\n.logged_off-bg{\n  background:#A9BAC4;\n}\n.network_offline-bg{\n  background:#d19191;\n}\n.location_disabled-bg{\n  background-color:#d19191;\n}\n.location_low_accuracy-bg{\n  background-color:#d19191;\n}\n:host{\n  position:relative;\n}\n#results{\n  position:absolute;\n  left:0;\n  top:37px;\n  background:#fff;\n  width:100%;\n  border:1px solid #C9D6DE;\n  z-index:11;\n}\n.input-search{\n  border:0;\n  border-bottom:1px solid #ffffff;\n}\n.input-search:focus{\n  outline:0;\n  border-bottom:1px solid #52616A;\n}\n.item{\n  padding:4px 10px;\n  color:#52616A;\n}\n.item:hover{\n  background:#f7f7f7;\n}\n.clickable{\n  color:#5496F8;\n}\n.input-sm{\n  border:0;\n  outline:0;\n  -webkit-box-shadow:0 0;\n          box-shadow:0 0;\n  border-bottom:1px solid #d5dfe5;\n  font-size:15px;\n}\n"]}]}],_n.ctorParameters=function(){return[]},_n.propDecorators={input:[{type:e.ViewChild,args:["query"]}],entity:[{type:e.Input}],onSearchQuery:[{type:e.Output}],clickSearch:[{type:e.HostListener,args:["click"]}]};var Dn=function(){return function(){}}();Dn.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule],declarations:[_n],exports:[_n]}]}],Dn.ctorParameters=function(){return[]};var An=function(){function n(n,e){this.elRef=n,this.cd=e,this.dateRangeService$=c.dateRangeService.getInstance(),this.isRight=!1,this.showSingleDay=!0,this.customDates=o.DateRangeLabelMap,this.isActive=!1}return n.prototype.open=function(){this.isActive=!0},n.prototype.close=function(){this.isActive=!1},n.prototype.ngOnInit=function(){var n=this;this.dateRange$=this.dateRangeService$.display$,this.dateRangeOptions$=this.dateRangeService$.data$.pipe(p.map(function(e){return n.customDates.filter(function(e){return!!n.showSingleDay||!e.isSingleDay}).map(function(n){return o.isSameDateRange(n.range,e)?Object.assign({},n,{isActive:!0}):Object.assign({},n)})})),this.dateRangeOptions$.subscribe()},n.prototype.setDateRange=function(n){var e=this;this.dateRangeService$.setDateRange(n),setTimeout(function(){e.isActive=!1,e.cd.detectChanges()},200)},n}();An.decorators=[{type:e.Component,args:[{selector:"ht-date-range",template:'<div class="dropdown is-active" [class.is-right]="isRight" *ngIf="dateRange$ | async as dateRange">\n  <button type="button dropdown-trigger" class="button flex-row row-gap-4">\n    <span>{{dateRange}}</span>\n    <span class="icon">\n      <i class="fa fa-calendar"></i>\n    </span>\n    \x3c!--<span *ngIf="ordering$ | async as ordering"></span>--\x3e\n    \x3c!--<i class="fa fa-filter"></i>--\x3e\n  </button>\n  <div class="dropdown-menu dropdown-menu-right is-boxed" *ngIf="isActive" [@calender-appear]>\n    <div class="dropdown-content" role="menu" aria-labelledby="dropdown-keyboard-access">\n      <div class="dropdown-item">\n        <ht-date-range-picker [options]="{showSingleDay: showSingleDay, isRight: isRight}" (onRangeChange)="setDateRange($event)" [dateRange]="dateRangeService$.data$ | async"></ht-date-range-picker>\n      </div>\n    </div>\n  </div>\n</div>\n',styles:[".text-center{\n  text-align:center;\n}\n.text-muted{\n  color:#798E9B;\n}\n.text-right{\n  text-align:right;\n}\n.text-left{\n  text-align:left;\n}\n.text-1{\n  font-size:2em;\n}\n.text-4{\n  font-size:0.8em;\n}\n.text-capitalize{\n  text-transform:capitalize;\n}\n.text-uppercase{\n  text-transform:uppercase;\n}\n.text-ontime{\n  color:#58ae5b;\n}\n.text-late{\n  color:#E6413E;\n}\n.text-warning{\n  color:#E6413E !important;\n}\n.text-red{\n  color:#E6413E;\n}\n.text-blue{\n  color:#5496F8;\n}\n.truncate{\n  white-space:nowrap;\n  overflow:hidden;\n  text-overflow:ellipsis;\n}\n.flex-row{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:row;\n          flex-direction:row;\n}\n.flex-column{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n}\n.column-gap-4 > :not(:last-child){\n  margin-bottom:4px;\n}\n.row-gap-4 > :not(:last-child){\n  margin-right:4px;\n}\n.column-gap-7 > :not(:last-child){\n  margin-bottom:7px;\n}\n.row-gap-7 > :not(:last-child){\n  margin-right:7px;\n}\n.column-gap-10 > :not(:last-child){\n  margin-bottom:10px;\n}\n.row-gap-10 > :not(:last-child){\n  margin-right:10px;\n}\n.column-gap-20 > :not(:last-child){\n  margin-bottom:20px;\n}\n.row-gap-20 > :not(:last-child){\n  margin-right:20px;\n}\n.wrap{\n  -ms-flex-wrap:wrap;\n      flex-wrap:wrap;\n}\n.flex{\n  -webkit-box-flex:1;\n      -ms-flex:1;\n          flex:1;\n}\n.auto{\n  margin:auto;\n}\n.relative{\n  position:relative;\n}\n.space-between{\n  -webkit-box-pack:justify;\n      -ms-flex-pack:justify;\n          justify-content:space-between;\n}\n.space-around{\n  -ms-flex-pack:distribute;\n      justify-content:space-around;\n}\n.justify-center{\n  -webkit-box-pack:center;\n      -ms-flex-pack:center;\n          justify-content:center;\n}\n.flex-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.align-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n.clickable{\n  cursor:pointer;\n}\n.round-icon{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  width:23px;\n  height:23px;\n  background:#315790;\n  border-radius:50%;\n}\n.flex-half{\n  -ms-flex-preferred-size:50%;\n      flex-basis:50%;\n}\n.link-unstyled{\n  color:inherit;\n}\n.link-unstyled:hover{\n  text-decoration:none;\n}\n.half{\n  width:50%;\n}\n.noselect{\n  -webkit-touch-callout:none;\n  -webkit-user-select:none;\n  -moz-user-select:none;\n  -ms-user-select:none;\n  user-select:none;\n}\n.hover-shadow:hover{\n  -webkit-box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n          box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n}\n.marker-transparent{\n  opacity:0.4;\n}\n.marker-fade{\n  -webkit-filter:contrast(16%) brightness(160%) blur(0.6px);\n          filter:contrast(16%) brightness(160%) blur(0.6px);\n}\n.tooltip-warning{\n  background:#e04745;\n  color:#fff;\n}\n.tooltip-warning-arrow{\n  border-right-color:#e04745 !important;\n}\n.tooltip-info{\n  background:#5496F8;\n  color:#fff;\n}\n.tooltip-info-arrow{\n  border-right-color:#5496F8 !important;\n}\na{\n  color:inherit;\n  text-decoration:none;\n}\na:hover{\n  color:inherit;\n  text-decoration:none;\n}\na:active{\n  color:inherit;\n  text-decoration:none;\n}\na:focus{\n  outline:none;\n  color:inherit;\n  text-decoration:none;\n}\n.spinner-wave{\n  margin:0 auto;\n  width:100px;\n  height:20px;\n  text-align:center;\n}\n.spinner-wave > div{\n  background-color:#5496F8;\n  height:100%;\n  width:6px;\n  display:inline-block;\n  -webkit-animation:wave 1.2s infinite ease-in-out;\n  animation:wave 1.2s infinite ease-in-out;\n}\n.spinner-wave div:nth-child(2){\n  -webkit-animation-delay:-1.1s;\n  animation-delay:-1.1s;\n}\n.spinner-wave div:nth-child(3){\n  -webkit-animation-delay:-1s;\n  animation-delay:-1s;\n}\n.spinner-wave div:nth-child(4){\n  -webkit-animation-delay:-0.9s;\n  animation-delay:-0.9s;\n}\n.spinner-wave div:nth-child(5){\n  -webkit-animation-delay:-0.8s;\n  animation-delay:-0.8s;\n}\n@-webkit-keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n  }\n}\n@keyframes wave{\n  0%,\n  40%,\n  100%{\n    -webkit-transform:scaleY(0.4);\n            transform:scaleY(0.4);\n  }\n  20%{\n    -webkit-transform:scaleY(1);\n            transform:scaleY(1);\n  }\n}\n@media screen and (max-width: 480px){\n  .hide-xs{\n    display:none !important;\n  }\n}\n@media screen and (min-width: 480px){\n  .show-xs{\n    display:none !important;\n  }\n}\n.ht-btn{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n  padding:5px 13px;\n  border:0;\n  background:#ffffff;\n  color:#52616A;\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.ht-btn:focus{\n  background:#fcfcfc;\n  outline:0;\n}\n.ht-btn-card:hover{\n  background:#5496F8;\n  color:rgba(255, 255, 255, 0.96);\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.stopped-color{\n  color:#FFBB44;\n}\n.drive-color{\n  color:#5496F8;\n}\n.walk-color{\n  color:#5496F8;\n}\n.moving-color{\n  color:#5496F8;\n}\n.logged_off-color{\n  color:#A9BAC4;\n}\n.network_offline-color{\n  color:#d19191;\n}\n.location_disabled-color{\n  color:#d19191;\n}\n.location_low_accuracy-color{\n  color:#d19191;\n}\n.stopped-bg{\n  background:#FFBB44;\n}\n.drive-bg{\n  background:#5496F8;\n}\n.walk-bg{\n  background:#5496F8;\n}\n.moving-bg{\n  background:#5496F8;\n}\n.logged_off-bg{\n  background:#A9BAC4;\n}\n.network_offline-bg{\n  background:#d19191;\n}\n.location_disabled-bg{\n  background-color:#d19191;\n}\n.location_low_accuracy-bg{\n  background-color:#d19191;\n}\n.dropdown-menu{\n  z-index:601;\n}\n.row-right{\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:reverse;\n      -ms-flex-direction:row-reverse;\n          flex-direction:row-reverse;\n}\n.row-right .options{\n  padding-left:15px;\n}\n.row-left{\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:row;\n          flex-direction:row;\n}\n.row-left .options{\n  padding-right:15px;\n}\n"],changeDetection:e.ChangeDetectionStrategy.OnPush,animations:[s.trigger("calender-appear",[s.transition(":leave",[s.style({pointerEvents:"none"}),s.animate("150ms ease-in",s.style({opacity:0,top:"-10px"}))]),s.transition(":enter",[s.style({opacity:0,height:0,top:"-10px"}),s.animate("150ms ease-out")])])]}]}],An.ctorParameters=function(){return[{type:e.ElementRef},{type:e.ChangeDetectorRef}]},An.propDecorators={dateRangeService$:[{type:e.Input}],isRight:[{type:e.Input}],showSingleDay:[{type:e.Input}],open:[{type:e.HostListener,args:["mouseenter"]}],close:[{type:e.HostListener,args:["mouseleave"]}]};var Pn=function(){function n(){this.options={},this.onRangeChange=new e.EventEmitter,this.onDateChange=new e.EventEmitter,this.selectedDate$=new d.BehaviorSubject(null),this.hoveredDate=new d.BehaviorSubject(null),this.days=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],this.customDates=o.DateRangeLabelMap;var n=m.startOfMonth(new Date);this.currentMonthStart$=new d.BehaviorSubject(n)}return n.prototype.ngOnInit=function(){},n.prototype.ngOnChanges=function(){this.options.datePicker&&(this.dateRange={end:this.date,start:this.date}),this.initDateRange(this.dateRange),this.display=i.dateRangeDisplay(this.dateRange)},n.prototype.initDateRange=function(n){var e=this;this.customDates$=this.customDates.filter(function(n){return!e.options.hideSingleDay||!n.isSingleDay}).map(function(e){return o.isSameDateRange(e.range,n)?Object.assign({},e,{isActive:!0}):Object.assign({},e)}),this.currentDateStyle$=u.combineLatest(this.selectedDate$.pipe(p.distinctUntilChanged()),this.hoveredDate.pipe(p.distinctUntilChanged()),function(t,i){var o,a,r=n;return t&&i?m.isBefore(i,t)?(o={end:t},a=[null,m.format(t,"DD MMM")]):(o={start:t},a=[m.format(t,"DD MMM"),null]):t?(o={end:t},a=[m.format(t,"DD MMM"),null]):(o=r,a=[m.format(r.start,"DD MMM"),m.format(r.end,"DD MMM")]),e.options.datePicker&&(a=[m.format(r.start,"DD MMM")]),{selectedRange:o,hoveredDate:i,display:a}}),this.dates$=u.combineLatest(this.currentMonthStart$,this.currentDateStyle$,function(n,t){return e.generateDates(n,t)}),this.month$=this.currentMonthStart$.pipe(p.map(function(n){return{display:m.format(n,"MMM YY")}}))},n.prototype.changeMonth=function(n){var e=m.addMonths(new Date(this.currentMonthStart$.getValue()),n);this.currentMonthStart$.next(e)},n.prototype.generateDates=function(n,e){var t=this,i=m.startOfWeek(n);return[0,1,2,3,4,5].map(function(n,e){return m.addWeeks(i,e)}).map(function(i){return[0,1,2,3,4,5,6].map(function(o){var a=m.addDays(i,o);return t.getDay(a,n,e)})})},n.prototype.getDay=function(n,e,t){var i=this.getRangeFromStyle(t),o=!1,a=!1,r=this.isHovered(n,t);return i.end&&(o=m.isSameDay(i.end,n)),i.start&&(a=m.isSameDay(i.start,n)),{date:n,timeStamp:n.toISOString(),day:m.format(n,"D"),isInMonth:m.isSameMonth(n,e),today:m.isToday(n),isEnd:o,isStart:a,isHovered:r,isInvalid:m.isFuture(n)}},n.prototype.isHovered=function(n,e){var t=e.hoveredDate,i=e.selectedRange.start||t,o=e.selectedRange.end||t||i;return m.isWithinRange(n,i,o)},n.prototype.setDateRange=function(n){n={start:n.start,end:m.endOfDay(n.end).toISOString()},this.onRangeChange.next(n)},n.prototype.setDate=function(n){this.onDateChange.next(n.timeStamp)},n.prototype.getRangeFromStyle=function(n){var e=n.selectedRange;n.hoveredDate;return e},n.prototype.pickDate=function(n){var e=this;if(n.isInvalid)return!1;this.options.datePicker?this.setDate(n):this.currentDateStyle$.pipe(p.take(1)).subscribe(function(t){!t.hoveredDate&&t.selectedRange.start&&t.selectedRange.end?e.selectedDate$.next(new Date(n.date).toISOString()):e.setDateFromDayRange(n,t)})},n.prototype.setDateFromDayRange=function(n,e){var t={end:e.selectedRange.end||n.timeStamp,start:e.selectedRange.start||n.timeStamp};this.selectedDate$.next(null),this.hoveredDate.next(null),this.setDateRange(t)},n.prototype.hoverDate=function(n){var e=n?new Date(n.date).toISOString():null;e?this.selectedDate$.getValue()&&this.hoveredDate.next(e):this.hoveredDate.next(e)},n.prototype.indexBy=function(n,e){return e.timeStamp},n.prototype.indexByWeek=function(n,e){return e[0].timeStamp},n.prototype.reset=function(){this.selectedDate$.next(null),this.hoveredDate.next(null);var n=m.startOfMonth(new Date);this.currentMonthStart$.next(n)},n}();Pn.decorators=[{type:e.Component,args:[{selector:"ht-date-range-picker",template:'<div class="flex-row" [ngClass]="options.isRight ? \'row-right\' : \'row-left\'">\n  <div class="flex-column column-gap-10 options" *ngIf="!options.datePicker">\n    <button class="button is-light is-small" [class.is-primary]="date.isActive" (click)="setDateRange(date.range)" *ngFor="let date of customDates$">{{date.label}}</button>\n  </div>\n  <div class="calender" *ngIf="!options.hideCalender">\n    <div class="flex-column">\n      <div class="flex-row date-style" *ngIf="currentDateStyle$ | async as dateStyle">\n        <div class="has-text-centered" [class.has-text-danger]="!dateStyle.display[0]">{{dateStyle.display[0] | dot: \'Set start date\'}}</div>\n        <div *ngIf="dateStyle.display.length == 2">&nbsp; &hArr; &nbsp;</div>\n        <div *ngIf="dateStyle.display.length == 2" class="has-text-centered" [class.has-text-danger]="!dateStyle.display[1]">{{dateStyle.display[1] | dot: \'Set end date\'}}</div>\n      </div>\n      <div class="flex-row month flex-center" *ngIf="month$ | async as month">\n        <div class="icon clickable" (click)="changeMonth(-1)">\n          <i class="fa fa-chevron-left"></i>\n        </div>\n        <div class="flex has-text-centered">{{month.display}}</div>\n        <div class="icon clickable" (click)="changeMonth(1)">\n          <i class="fa fa-chevron-right"></i>\n        </div>\n      </div>\n      <div class="flex-row">\n        <div class="day has-text-weight-bold" *ngFor="let day of  days">{{day}}</div>\n      </div>\n      <div *ngFor="let weeks of dates$ | async; trackBy: indexByWeek" class="flex-row">\n        <div\n          (mousedown)="pickDate(day)"\n          (mouseenter)="hoverDate(day)"\n          (mouseleave)="hoverDate(null)"\n          [class.is-today]="day.today"\n          [class.is-invalid]="day.isInvalid"\n          [class.is-hovered]="day.isHovered"\n          [class.is-start]="day.isStart"\n          [class.is-end]="day.isEnd"\n          [class.has-text-grey-light]="!day.isInMonth"\n          *ngFor="let day of weeks; trackBy: indexBy"\n          class="day">{{day.day}}</div>\n      </div>\n    </div>\n  </div>\n</div>\n',styles:[".text-center{\n  text-align:center; }\n.text-muted{\n  color:#798E9B; }\n.text-right{\n  text-align:right; }\n.text-left{\n  text-align:left; }\n.text-1{\n  font-size:2em; }\n.text-4{\n  font-size:0.8em; }\n.text-capitalize{\n  text-transform:capitalize; }\n.text-uppercase{\n  text-transform:uppercase; }\n.text-ontime{\n  color:#58ae5b; }\n.text-late{\n  color:#E6413E; }\n.text-warning{\n  color:#E6413E !important; }\n.text-red{\n  color:#E6413E; }\n.text-blue{\n  color:#5496F8; }\n.truncate{\n  white-space:nowrap;\n  overflow:hidden;\n  text-overflow:ellipsis; }\n.flex-row{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:row;\n          flex-direction:row; }\n.flex-column{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column; }\n.column-gap-4 > :not(:last-child){\n  margin-bottom:4px; }\n.row-gap-4 > :not(:last-child){\n  margin-right:4px; }\n.column-gap-7 > :not(:last-child){\n  margin-bottom:7px; }\n.row-gap-7 > :not(:last-child){\n  margin-right:7px; }\n.column-gap-10 > :not(:last-child){\n  margin-bottom:10px; }\n.row-gap-10 > :not(:last-child){\n  margin-right:10px; }\n.column-gap-20 > :not(:last-child){\n  margin-bottom:20px; }\n.row-gap-20 > :not(:last-child){\n  margin-right:20px; }\n.wrap{\n  -ms-flex-wrap:wrap;\n      flex-wrap:wrap; }\n.flex{\n  -webkit-box-flex:1;\n      -ms-flex:1;\n          flex:1; }\n.auto{\n  margin:auto; }\n.relative{\n  position:relative; }\n.space-between{\n  -webkit-box-pack:justify;\n      -ms-flex-pack:justify;\n          justify-content:space-between; }\n.space-around{\n  -ms-flex-pack:distribute;\n      justify-content:space-around; }\n.justify-center{\n  -webkit-box-pack:center;\n      -ms-flex-pack:center;\n          justify-content:center; }\n.flex-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center; }\n.align-center{\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center; }\n.clickable{\n  cursor:pointer; }\n.round-icon{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  width:23px;\n  height:23px;\n  background:#315790;\n  border-radius:50%; }\n.flex-half{\n  -ms-flex-preferred-size:50%;\n      flex-basis:50%; }\n.link-unstyled{\n  color:inherit; }\n  .link-unstyled:hover{\n    text-decoration:none; }\n.half{\n  width:50%; }\n.noselect{\n  -webkit-touch-callout:none;\n  -webkit-user-select:none;\n  -moz-user-select:none;\n  -ms-user-select:none;\n  user-select:none; }\n.hover-shadow:hover{\n  -webkit-box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16);\n          box-shadow:0px 0px 4px 2px rgba(0, 0, 0, 0.16); }\n.marker-transparent{\n  opacity:0.4; }\n.marker-fade{\n  -webkit-filter:contrast(16%) brightness(160%) blur(0.6px);\n          filter:contrast(16%) brightness(160%) blur(0.6px); }\n.tooltip-warning{\n  background:#e04745;\n  color:#fff; }\n  .tooltip-warning-arrow{\n    border-right-color:#e04745 !important; }\n.tooltip-info{\n  background:#5496F8;\n  color:#fff; }\n  .tooltip-info-arrow{\n    border-right-color:#5496F8 !important; }\na{\n  color:inherit;\n  text-decoration:none; }\n  a:hover{\n    color:inherit;\n    text-decoration:none; }\n  a:active{\n    color:inherit;\n    text-decoration:none; }\n  a:focus{\n    outline:none;\n    color:inherit;\n    text-decoration:none; }\n.ht-card.clickable:hover{\n  background:#edeff1; }\n.ht-card-container{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:column;\n          flex-direction:column;\n  position:relative; }\n  .ht-card-container .card{\n    margin-bottom:-1px; }\n  .ht-card-container .sub-status{\n    font-size:9px;\n    margin-top:-16px;\n    margin-bottom:20px;\n    text-align:center;\n    color:#798E9B;\n    text-transform:uppercase;\n    padding-top:3px; }\n  .ht-card-container .card-action{\n    height:30px;\n    background:#5496F8;\n    color:#fff;\n    border:1px solid #C9D6DE;\n    position:relative;\n    top:-3px;\n    margin:0 10px;\n    display:-webkit-box;\n    display:-ms-flexbox;\n    display:flex;\n    -webkit-box-align:center;\n        -ms-flex-align:center;\n            align-items:center;\n    -webkit-box-pack:center;\n        -ms-flex-pack:center;\n            justify-content:center;\n    padding:0 20px;\n    border-bottom-left-radius:5px;\n    border-bottom-right-radius:5px;\n    text-transform:uppercase; }\n    .ht-card-container .card-action:hover{\n      background:#3c87f7;\n      font-weight:500; }\n[hidden]{\n  display:none !important; }\n.card-clickable{\n  cursor:pointer; }\n  .card-clickable:hover{\n    background-color:#f2f2f2; }\n.adjust-huener-wave{\n  margin:0 auto;\n  width:100px;\n  height:20px;\n  text-align:center; }\n.adjust-huener-wave > div{\n  background-color:#5496F8;\n  height:100%;\n  width:6px;\n  display:inline-block;\n  -webkit-animation:wave 1.2s infinite ease-in-out;\n  animation:wave 1.2s infinite ease-in-out; }\n.adjust-huener-wave div:nth-child(2){\n  -webkit-animation-delay:-1.1s;\n  animation-delay:-1.1s; }\n.adjust-huener-wave div:nth-child(3){\n  -webkit-animation-delay:-1.0s;\n  animation-delay:-1.0s; }\n.adjust-huener-wave div:nth-child(4){\n  -webkit-animation-delay:-0.9s;\n  animation-delay:-0.9s; }\n.adjust-huener-wave div:nth-child(5){\n  -webkit-animation-delay:-0.8s;\n  animation-delay:-0.8s; }\n@-webkit-keyframes wave{\n  0%, 40%, 100%{\n    -webkit-transform:scaleY(0.4); }\n  20%{\n    -webkit-transform:scaleY(1); } }\n@keyframes wave{\n  0%, 40%, 100%{\n    -webkit-transform:scaleY(0.4);\n            transform:scaleY(0.4); }\n  20%{\n    -webkit-transform:scaleY(1);\n            transform:scaleY(1); } }\n@media screen and (max-width: 480px){\n  .hide-xs{\n    display:none !important; } }\n@media screen and (min-width: 480px){\n  .show-xs{\n    display:none !important; } }\n.ht-btn{\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n  padding:5px 13px;\n  border:0;\n  background:white;\n  color:#52616A;\n  -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n          box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12); }\n  .ht-btn:focus{\n    background:#fcfcfc;\n    outline:0; }\n  .ht-btn-card:hover{\n    background:#5496F8;\n    color:rgba(255, 255, 255, 0.96);\n    -webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n            box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12); }\n.stopped-color{\n  color:#FFBB44; }\n.drive-color{\n  color:#5496F8; }\n.walk-color{\n  color:#5496F8; }\n.moving-color{\n  color:#5496F8; }\n.logged_off-color{\n  color:#A9BAC4; }\n.network_offline-color{\n  color:#d19191; }\n.location_disabled-color{\n  color:#d19191; }\n.location_low_accuracy-color{\n  color:#d19191; }\n.stopped-bg{\n  background:#FFBB44; }\n.drive-bg{\n  background:#5496F8; }\n.walk-bg{\n  background:#5496F8; }\n.moving-bg{\n  background:#5496F8; }\n.logged_off-bg{\n  background:#A9BAC4; }\n.network_offline-bg{\n  background:#d19191; }\n.location_disabled-bg{\n  background-color:#d19191; }\n.location_low_accuracy-bg{\n  background-color:#d19191; }\n.card-content.is-small{\n  padding:10px 20px; }\n.modal{\n  z-index:402; }\n.day{\n  width:40px;\n  text-align:center;\n  -webkit-user-select:none;\n     -moz-user-select:none;\n      -ms-user-select:none;\n          user-select:none;\n  cursor:pointer; }\n  .day:hover{\n    font-weight:700; }\n.is-hovered{\n  background:lightgray; }\n.is-start{\n  background:grey;\n  color:#fff;\n  border-bottom-left-radius:4px;\n  border-top-left-radius:4px; }\n.is-end{\n  background:grey;\n  color:#fff;\n  border-bottom-right-radius:4px;\n  border-top-right-radius:4px; }\n.is-invalid{\n  text-decoration:line-through;\n  cursor:not-allowed; }\n.month{\n  padding:4px 0;\n  background:#ececec;\n  border-radius:4px;\n  margin:12px 0; }\n.date-style{\n  -webkit-box-pack:center;\n      -ms-flex-pack:center;\n          justify-content:center;\n  font-size:1.1rem; }\n.row-right{\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:reverse;\n      -ms-flex-direction:row-reverse;\n          flex-direction:row-reverse; }\n  .row-right .options{\n    padding-left:15px; }\n.row-left{\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:row;\n          flex-direction:row; }\n  .row-left .options{\n    padding-right:15px; }\n"],changeDetection:e.ChangeDetectionStrategy.OnPush}]}],Pn.ctorParameters=function(){return[]},Pn.propDecorators={dateRange:[{type:e.Input}],date:[{type:e.Input}],options:[{type:e.Input}],onRangeChange:[{type:e.Output}],onDateChange:[{type:e.Output}]};var $n=function(){return function(){}}();$n.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule,H],declarations:[Pn],exports:[Pn]}]}],$n.ctorParameters=function(){return[]};var Mn=function(){return function(){}}();Mn.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule,H,$n],declarations:[An],exports:[An]}]}],Mn.ctorParameters=function(){return[]};var En=function(){return function(){}}();En.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule,Dn,H,Mn],declarations:[In],exports:[In]}]}],En.ctorParameters=function(){return[]};var zn=function(){return function(){}}();zn.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule,pn,kn,En],declarations:[Fn],exports:[Fn]}]}],zn.ctorParameters=function(){return[]};var Rn=function(){function n(n){this.groupService=n}return n.prototype.resolve=function(n){var e=n.paramMap.get("id"),t=this.groupService.api.get(e).pipe(p.map(function(n){return n?n.token:"test"}));return g.of(!0).pipe(p.switchMap(function(){return t.pipe(p.take(1))}))},n}();Rn.decorators=[{type:e.Injectable}],Rn.ctorParameters=function(){return[{type:gn}]};var jn=function(){function n(n){this.groupService=n}return n.prototype.resolve=function(n){var e=n.paramMap.get("id"),t=this.groupService.api.index({lookup_id:e}).pipe(p.map(function(n){return n.results.length?n.results[0].token:"test"}));return g.of(!0).pipe(p.switchMap(function(){return t.pipe(p.take(1))}))},n}();jn.decorators=[{type:e.Injectable}],jn.ctorParameters=function(){return[{type:gn}]};var Bn=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return w(e,n),e}(c.HtClient),On=function(){function n(){this.selectedUser=null}return n.prototype.ngOnInit=function(){},n.prototype.showUserDetail=function(n){this.selectedUser=n.data},n.prototype.closeModal=function(){this.selectedUser=null},n.prototype.ngOnDestroy=function(){},n}();On.decorators=[{type:e.Component,args:[{selector:"ht-users-analytics-list",template:'\x3c!--<div class="level">--\x3e\n  \x3c!--<div class="level-left has-text-weight-bold has-text-primary">--\x3e\n    \x3c!--{{listService.title}}--\x3e\n  \x3c!--</div>--\x3e\n  \x3c!--<div class="level-right" *ngIf="!listService.hideDatePicker">--\x3e\n    \x3c!--<ht-date-range [dateRangeService$]="listService.dateRangeService$"></ht-date-range>--\x3e\n  \x3c!--</div>--\x3e\n\x3c!--</div>--\x3e\n<table class="table is-fullwidth is-bordered is-hoverable">\n  <thead>\n  <tr>\n    <th *ngFor="let column of listService.columns">{{column}}</th>\n  </tr>\n  </thead>\n  <tbody>\n  \x3c!--<ht-data-table (select)="showUserDetail($event)" [clickable]="true" [tableData]="listService.dataTable$ | async"></ht-data-table>--\x3e\n  <tr class="clickable" (click)="showUserDetail(row)" *ngFor="let row of listService.dataTable$ | async">\n    <td *ngFor="let item of row.values">{{item}}</td>\n  </tr>\n  </tbody>\n</table>\n<div class="modal is-active" *ngIf="selectedUser">\n  <div class="modal-background" (click)="closeModal()"></div>\n  <div class="modal-card">\n    <section class="modal-card-body">\n      <ht-user-table [user]="selectedUser">\n        <span *ngIf="!listService.hideDatePicker">{{listService.dateRangeService$.display$ | async}}</span>\n      </ht-user-table>\n    </section>\n  </div>\n  <button class="modal-close is-large" aria-label="close" (click)="closeModal()"></button>\n</div>\n',styles:[".clickable:hover{\n  -webkit-box-shadow:0px 0px 6px 1px #808080;\n          box-shadow:0px 0px 6px 1px #808080;\n  z-index:2; }\n"],changeDetection:e.ChangeDetectionStrategy.OnPush}]}],On.ctorParameters=function(){return[]},On.propDecorators={listService:[{type:e.Input}]};var Tn=function(){function n(){this.excludedKey=["name","status","photo","created_at","modified_at","id","availability_status","location_status","vehicle_type"]}return n.prototype.ngOnInit=function(){},Object.defineProperty(n.prototype,"tableData",{get:function(){return o.tableFormat(this.user,{excludes:this.excludedKey,format:o.userTableFormat})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"actionData",{get:function(){return o.tableFormat(this.user,{excludes:this.excludedKey,format:o.userTableFormat})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentUser",{get:function(){return this.action?this.action.user:this.user},enumerable:!0,configurable:!0}),n.prototype.isKeyIncluded=function(n){return!this.excludedKey.includes(n)},n}();Tn.decorators=[{type:e.Component,args:[{selector:"ht-user-table",template:'<div class="level">\n  <div class="level-left">\n    <div class="level-item">\n      <ht-profile [url]="user.photo"></ht-profile>\n    </div>\n    <div class="level-item is-size-4 has-text-grey">\n      {{user.name | nameCase}}\n    </div>\n  </div>\n  <div class="level-right">\n    <ng-content></ng-content>\n  </div>\n</div>\n<ht-data-table [tableData]="tableData"></ht-data-table>\n\x3c!--<table class="table is-fullwidth is-bordered is-striped">--\x3e\n  \x3c!--<tbody>--\x3e\n  \x3c!--<tr *ngFor="let row of tableData">--\x3e\n    \x3c!--<td *ngFor="let item of row">{{item}}</td>--\x3e\n  \x3c!--</tr>--\x3e\n  \x3c!--</tbody>--\x3e\n\x3c!--</table>--\x3e\n',styles:[""],changeDetection:e.ChangeDetectionStrategy.OnPush}]}],Tn.ctorParameters=function(){return[]},Tn.propDecorators={user:[{type:e.Input}],action:[{type:e.Input}]};var Un=function(){function n(){this.clickable=!1,this.select=new e.EventEmitter}return n.prototype.ngOnInit=function(){},n.prototype.selectRow=function(n){this.clickable&&this.select.next(n)},n}();Un.decorators=[{type:e.Component,args:[{selector:"ht-data-table",template:'<table class="table is-fullwidth is-bordered is-striped">\n  <tbody>\n  <tr [class.clickable]="clickable" (click)="selectRow(row)" *ngFor="let row of tableData">\n    <td *ngFor="let item of row">{{item}}</td>\n  </tr>\n  </tbody>\n</table>\n',styles:[".clickable:hover{\n  -webkit-box-shadow:1px 1px grey;\n          box-shadow:1px 1px grey;\n  z-index:2; }\n"],changeDetection:e.ChangeDetectionStrategy.OnPush}]}],Un.ctorParameters=function(){return[]},Un.propDecorators={tableData:[{type:e.Input}],clickable:[{type:e.Input}],select:[{type:e.Output}]};var Yn=function(){return function(){}}();Yn.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule],declarations:[Un],exports:[Un]}]}],Yn.ctorParameters=function(){return[]};var Ln=function(){return function(){}}();Ln.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule,H,Yn],declarations:[Tn],exports:[Tn]}]}],Ln.ctorParameters=function(){return[]};var qn=function(){return function(){}}();qn.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule,Mn,Ln,Yn],declarations:[On],exports:[On]}]}],qn.ctorParameters=function(){return[]};var Nn=Symbol("destroy$"),Hn=function(n){return function(e){var t;return n[Nn]===undefined&&((t=n)[Nn]=new b.Observable(function(n){var e=t.ngOnDestroy;if(e===undefined)throw new Error("untilDestroy operator needs the component to have an ngOnDestroy method");return t.ngOnDestroy=function(){n.next(),n.complete(),e.call(t)},function(n){return t[Nn]=undefined}})),e.pipe(p.takeUntil(n[Nn]))}};var Gn=function(){function n(){this.noData=!1}return n.prototype.ngOnInit=function(){var n=this;this.service.data$.pipe(Hn(this)).subscribe(function(e){n.setChart(e)})},n.prototype.ngAfterViewInit=function(){},n.prototype.setChart=function(n){if(n.labels.length<=1)return this.noData=!0,!1;if(this.chart){this.noData=!1;var e=n.labels,t=n.datasets;this.chart.update_values(t,e);n.labels.length}else this.chart=new h({parent:this.charElem.nativeElement,data:n,type:"line",height:250,is_series:1,colors:["#60c1fd","red"],region_fill:1,format_tooltip_x:function(n){return n},format_tooltip_y:function(n){return n}})},n.prototype.ngOnDestroy=function(){},n}();Gn.decorators=[{type:e.Component,args:[{selector:"ht-actions-status-graph",template:'\x3c!--<div class="level">--\x3e\n  \x3c!--<div class="level-left">--\x3e\n    \x3c!--<div class="level-item has-text-weight-bold has-text-primary">--\x3e\n      \x3c!--{{service.title}}--\x3e\n    \x3c!--</div>--\x3e\n  \x3c!--</div>--\x3e\n  \x3c!--<div class="level-right">--\x3e\n    \x3c!--<div class="level-item">--\x3e\n      \x3c!--<ht-date-range [showSingleDay]="false" [dateRangeService$]="service.dateRangeService$"></ht-date-range>--\x3e\n    \x3c!--</div>--\x3e\n  \x3c!--</div>--\x3e\n\x3c!--</div>--\x3e\n<div #chart id="chart"></div>\n\x3c!--<div class="chart-container">--\x3e\n  \x3c!----\x3e\n  \x3c!--<div class="loading-page" *ngIf="service.client.loading$ | async">--\x3e\n    \x3c!--<div class="icon auto has-text-grey-light">--\x3e\n      \x3c!--<i class="fa fa-circle-o-notch fa-spin fa-3x fa-fw"></i>--\x3e\n    \x3c!--</div>--\x3e\n  \x3c!--</div>--\x3e\n  \x3c!----\x3e\n\x3c!--</div>--\x3e\n',styles:["#chart{\n  width:100%; }\n.loading-page{\n  background:#ffffff96;\n  position:absolute;\n  height:100%;\n  width:100%;\n  top:0;\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex; }\n.chart-container{\n  min-height:300px; }\n"],changeDetection:e.ChangeDetectionStrategy.OnPush}]}],Gn.ctorParameters=function(){return[]},Gn.propDecorators={service:[{type:e.Input}],charElem:[{type:e.ViewChild,args:["chart"]}]};var Qn=function(){return function(){}}();Qn.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule,Mn],declarations:[Gn],exports:[Gn]}]}],Qn.ctorParameters=function(){return[]};var Kn=function(){function n(n){this.component=On,this.className="is-6",this.tags=["users"],this.initState(n),this.initClient(n)}return n.prototype.initState=function(n){this.dateRangeService$=c.dateRangeFactory(n.initialDateRange||o.DateRangeMap.last_7_days),this.title=n.title,this.tableFormat=n.tableFormat,this.query=n.query,this.columns=this.tableFormat.map(function(n){return n.label}),this.hideDatePicker=n.hideDatePicker,n.tags&&n.tags.length&&(this.tags=S(this.tags,n.tags))},n.prototype.initClient=function(n){var e=this,t=c.usersClientFactory({dateRange$:this.dateRangeService$.data$});this.client=t.list,this.client.updateStrategy=n.updateStrategy||"once",this.client.setQuery(this.query),this.loading$=this.client.loading$;var i=this.client.dataArray$;this.dataTable$=i.pipe(p.filter(function(n){return!!n}),p.map(function(n){return e.noData=!n.length,n.map(function(n){var t=e.tableFormat.map(function(e){return e.selector(n)});return{data:n,values:t}})}))},n.prototype.setData=function(n){n.listService=this},n.prototype.setActive=function(n){void 0===n&&(n=!0),this.client.setActive(n)},n}();Kn.decorators=[{type:e.Injectable}],Kn.ctorParameters=function(){return[null]};var Vn=function(){function n(){this.noData=!1}return n.prototype.ngOnInit=function(){},n.prototype.setChart=function(n){if(n.labels.length<=1)return this.noData=!0,!1;this.chart?this.noData=!1:this.chart=new h({parent:this.charElem.nativeElement,data:n,type:"percentage",height:150,format_tooltip_x:function(n){return n},format_tooltip_y:function(n){return n}})},n.prototype.formatSummary=function(n){return{labels:n.chart.map(function(n){return n.label}),datasets:[{values:n.chart.map(function(n){return n.value})}]}},n}();Vn.decorators=[{type:e.Component,args:[{selector:"ht-users-summary-chart",template:'<div class="level">\n  <div class="level-left">\n    <div class="level-item is-size-5" *ngIf="service.summary$ | async as summary">\n      Total: {{summary.totalUsers}} {{\'users\'}}\n    </div>\n  </div>\n</div>\n<ng-container *ngIf="service.summary$ | async as summary">\n  <ht-users-summary [summary]="summary" [selectable]="false" [hideTotal]="true"></ht-users-summary>\n</ng-container>\n',styles:[""],changeDetection:e.ChangeDetectionStrategy.OnPush}]}],Vn.ctorParameters=function(){return[]},Vn.propDecorators={service:[{type:e.Input}],charElem:[{type:e.ViewChild,args:["chart"]}]};var Wn=function(){function n(n){this.component=Vn,this.className="is-6",this.tags=["users","live"],this.hideDatePicker=!0,this.noData=!1,this.minHeight=50,this.setState(n)}return n.prototype.setData=function(n){n.service=this},n.prototype.setState=function(n){this.dateRangeService$=c.dateRangeFactory(o.DateRangeMap.last_30_days),this.title=n.title;var e=n.client||c.usersClientFactory({dateRange$:this.dateRangeService$.data$});e.setShowAll(),this.client=e.summary,this.loading$=this.client.loading$,this.summary$=e.listStatusChart$(n.queryLabels)},n.prototype.destroy=function(){this.client.destroy()},n.prototype.setActive=function(n){void 0===n&&(n=!0),this.client.setActive(n)},n}();Wn.decorators=[{type:e.Injectable}],Wn.ctorParameters=function(){return[null]};var Xn=function(){function n(){this.mapOptions={scrollWheelZoom:!1}}return n.prototype.ngOnInit=function(){},n}();Xn.decorators=[{type:e.Component,args:[{selector:"ht-analytics-map-container",template:'<ht-map [options]="mapOptions" [loading]="service.mapLoading$ | async" [mapInstance]="service.mapInstance"></ht-map>\n',styles:[":host{\n  height:500px;\n  width:100%; }\nht-map{\n  height:400px;\n  width:100%; }\n"]}]}],Xn.ctorParameters=function(){return[]},Xn.propDecorators={service:[{type:e.Input}]};var Zn=function(){function n(n){this.component=Xn,this.className="is-6",this.tags=["users"],this.noData=!1,this.loading$=g.of(!1),this.mapInstance=new l.MapInstance,this.setMapType(l.mapTypeService.getInstance().mapType),this.initClient(n)}return n.prototype.setMapType=function(n){this.mapInstance.setMapType(n)},n.prototype.setData=function(n){n.service=this},n.prototype.setActive=function(n){void 0===n&&(n=!0),this.client.setActive(n)},n.prototype.initClient=function(n){var e=this;this.dateRangeService$=c.dateRangeFactory(n.initialDateRange||o.DateRangeMap.last_7_days),this.title=n.title;var t=c.usersClientFactory({dateRange$:this.dateRangeService$.data$});this.client=t.heatmap,this.mapLoading$=this.client.loading$,this.data$=this.client.data$.pipe(p.tap(function(n){e.noData=!(!n||0!=n.count)})),new l.StopsHeatmapTrace(this.mapInstance).setPageData$(this.data$)},n}();Zn.decorators=[{type:e.Injectable}],Zn.ctorParameters=function(){return[null]};var Jn={stops_heatmap:function(){return{service:Zn,initialConfig:{title:"Heatmap of stops by users",query:{page_size:500},tags:["user behaviour"],initialDateRange:o.DateRangeMap.last_7_days}}},max_location_disabled_duration:function(){return{service:Kn,initialConfig:{title:"Users with max location disabled duration",query:{ordering:"-location_disabled_duration"},tags:["user behaviour","device health"],tableFormat:[{label:"Name",selector:function(n){return n.name}},o.userTableFormat.location_disabled_duration,{label:"% of total duration",selector:function(n){return n.total_duration&&n.location_disabled_duration?(n.location_disabled_duration/n.total_duration*100).toFixed(1):"NA"}}]}}},current_location_disabled:function(){return{service:Kn,initialConfig:{title:"Recent users with location disabled",query:{status:"location_disabled",show_all:!0,ordering:"-last_heartbeat"},updateStrategy:"live",hideDatePicker:!0,tags:["user behaviour","device health","live"],tableFormat:[{label:"Name",selector:function(n){return n.name}},o.userTableFormat.last_heartbeat_at]}}},max_stop_duration:function(){return{service:Kn,initialConfig:{title:"Users with max stop duration",query:{ordering:"-stop_duration"},tags:["activity"],tableFormat:[{label:"Name",selector:function(n){return n.name}},o.userTableFormat.stop_duration,{label:"% of total duration",selector:function(n){return n.total_duration&&n.stop_duration?(n.stop_duration/n.total_duration*100).toFixed(1)+"%":"NA"}}]}}},max_network_offline:function(){return{service:Kn,initialConfig:{title:"Users with max network offline duration",query:{ordering:"-network_offline_duration"},tags:["device health"],tableFormat:[{label:"Name",selector:function(n){return n.name}},o.userTableFormat.network_offline_duration,{label:"% of total duration",selector:function(n){return n.total_duration&&n.network_offline_duration?(n.network_offline_duration/n.total_duration*100).toFixed(1)+"%":"NA"}}]}}},max_distance:function(){return{service:Kn,initialConfig:{title:"Users with max distance travelled",query:{ordering:"-total_distance"},tags:["distance"],tableFormat:[{label:"Name",selector:function(n){return n.name}},o.userTableFormat.total_distance]}}},users_summary:function(n,e,t){return{service:Wn,initialConfig:{title:e||"Users status summary",queryLabels:t,client:n}}},last_recorded:function(){return{service:Kn,initialConfig:{title:"Recent active users",query:{ordering:"-last_heartbeat_at"},tags:["live"],initialDateRange:o.DateRangeMap.last_30_days,hideDatePicker:!0,tableFormat:[{label:"Name",selector:function(n){return n.name}},o.userTableFormat.last_heartbeat_at]}}},users_actions:function(){return{service:Kn,initialConfig:{title:"Users with max actions",query:{ordering:"-num_actions"},tags:["actions"],initialDateRange:o.DateRangeMap.today,tableFormat:[{label:"Name",selector:function(n){return n.name}},o.userTableFormat.num_actions]}}}},ne=function(){function n(n){this.component=Gn,this.tags=["actions"],this.className="is-12",this.initState(n),this.initClient()}return n.prototype.initState=function(n){this.dateRangeService$=c.dateRangeFactory(n.initialDateRange||o.DateRangeMap.last_7_days),this.title=n.title||"Actions graph",this.chartFormat=n.chartFormat,n.tags&&n.tags.length&&(this.tags=S(this.tags,n.tags))},n.prototype.initClient=function(){var n=this,e=c.actionsClientFactory({dateRange$:this.dateRangeService$.data$});this.client=e.graph,this.loading$=this.client.loading$,this.data$=this.client.data$.pipe(p.filter(function(n){return!!n}),p.map(function(e){return n.noData=!e.length,n.getCompletedActionChart(e)}))},n.prototype.getCompletedActionChart=function(n){return{labels:n.map(function(n){return m.format(n.created_date,"ddd, MMM Do")}),datasets:this.chartFormat.map(function(e){return{title:e.title,values:n.map(e.selector)}})}},n.prototype.setData=function(n){n.service=this},n.prototype.setActive=function(n){void 0===n&&(n=!0)},n}();ne.decorators=[{type:e.Injectable}],ne.ctorParameters=function(){return[null]};var ee=function(){function n(){this.selectedAction=null}return n.prototype.ngOnInit=function(){},n.prototype.showActionDetail=function(n){this.selectedAction=n.data},n.prototype.closeModal=function(){this.selectedAction=null},n}();ee.decorators=[{type:e.Component,args:[{selector:"ht-actions-analytics-list",template:'<table class="table is-fullwidth is-bordered is-hoverable">\n  <thead>\n  <tr>\n    <th *ngFor="let column of listService.columns">{{column}}</th>\n  </tr>\n  </thead>\n  <tbody>\n  <tr class="clickable" (click)="showActionDetail(row)" *ngFor="let row of listService.dataTable$ | async">\n    <td *ngFor="let item of row.values">{{item}}</td>\n  </tr>\n  </tbody>\n</table>\n<div class="modal is-active" *ngIf="selectedAction">\n  <div class="modal-background" (click)="closeModal()"></div>\n  <div class="modal-card">\n    <section class="modal-card-body">\n      <ht-action-table [action]="selectedAction"></ht-action-table>\n      \x3c!--<ht-user-table [user]="selectedUser">--\x3e\n        \x3c!--{{listService.dateRangeService$.display$ | async}}--\x3e\n      \x3c!--</ht-user-table>--\x3e\n    </section>\n  </div>\n  <button class="modal-close is-large" aria-label="close" (click)="closeModal()"></button>\n</div>\n',styles:[".clickable:hover{\n  -webkit-box-shadow:0px 0px 6px 1px #9f9f9f;\n          box-shadow:0px 0px 6px 1px #9f9f9f;\n  z-index:2; }\n"],changeDetection:e.ChangeDetectionStrategy.OnPush}]}],ee.ctorParameters=function(){return[]},ee.propDecorators={listService:[{type:e.Input}]};var te=function(){function n(n){this.component=ee,this.className="is-6",this.tags=["actions"],this.noData=!1,this.initState(n),this.initClient(n)}return n.prototype.initState=function(n){this.dateRangeService$=c.dateRangeFactory(n.initialDateRange||o.DateRangeMap.last_7_days),this.title=n.title,this.tableFormat=n.tableFormat,this.query=n.query,this.columns=this.tableFormat.map(function(n){return n.label}),this.hideDatePicker=n.hideDatePicker,n.tags&&n.tags.length&&(this.tags=S(this.tags,n.tags))},n.prototype.initClient=function(n){var e=this,t=c.actionsClientFactory({dateRange$:this.dateRangeService$.data$});this.client=t.list,this.client.updateStrategy=n.updateStrategy||"once",this.client.setQuery(this.query),this.loading$=this.client.loading$;var i=this.client.dataArray$;this.dataTable$=i.pipe(p.filter(function(n){return!!n}),p.map(function(n){return e.noData=0===n.length,n.map(function(n){var t=e.tableFormat.map(function(e){return e.selector(n)});return{data:n,values:t}})}))},n.prototype.setData=function(n){n.listService=this},n.prototype.setActive=function(n){void 0===n&&(n=!0),this.client.setActive(n)},n}();te.decorators=[{type:e.Injectable}],te.ctorParameters=function(){return[null]};var ie=function(){function n(){}return n.prototype.ngOnInit=function(){},n}();ie.decorators=[{type:e.Component,args:[{selector:"ht-actions-summary-chart",template:'<div class="level">\n  <div class="level-left">\n    <div class="level-item is-size-5 has-text-grey" *ngIf="service.summary$ | async as summary">\n      Total: {{summary.totalUsers}} actions\n    </div>\n  </div>\n</div>\n<ng-container *ngIf="service.summary$ | async as summary">\n  <ht-users-summary [summary]="summary" [selectable]="false" [hideTotal]="true"></ht-users-summary>\n</ng-container>\n',styles:[""],changeDetection:e.ChangeDetectionStrategy.OnPush}]}],ie.ctorParameters=function(){return[]},ie.propDecorators={service:[{type:e.Input}]};var oe=function(){function n(n){this.component=ie,this.className="is-6",this.tags=["actions","live"],this.hideDatePicker=!1,this.noData=!1,this.minHeight=50,this.initState(n)}return n.prototype.setData=function(n){n.service=this},n.prototype.initState=function(n){this.dateRangeService$=c.dateRangeFactory(o.DateRangeMap.today),this.title=n.title;var e=n.client||c.actionsClientFactory({dateRange$:this.dateRangeService$.data$});n.dateRangeService&&(this.dateRangeService$=n.dateRangeService),this.client=e.summary,this.loading$=this.client.loading$,this.summary$=this.client.summaryChart$},n.prototype.setActive=function(n){void 0===n&&(n=!0),this.client.setActive(n)},n}();oe.decorators=[{type:e.Injectable}],oe.ctorParameters=function(){return[null]};var ae=function(){function n(n){this.component=Xn,this.className="is-6",this.tags=["actions"],this.noData=!1,this.loading$=g.of(!1),this.mapInstance=new l.MapInstance,this.setMapType(l.mapTypeService.getInstance().mapType),this.initClient(n)}return n.prototype.setMapType=function(n){this.mapInstance.setMapType(n)},n.prototype.setData=function(n){n.service=this},n.prototype.setActive=function(n){void 0===n&&(n=!0),this.client.setActive(n)},n.prototype.initClient=function(n){var e=this;this.dateRangeService$=c.dateRangeFactory(n.initialDateRange||o.DateRangeMap.last_7_days),this.title=n.title;var t=c.actionsClientFactory({dateRange$:this.dateRangeService$.data$});this.client=t.heatmap,this.mapLoading$=this.client.loading$,this.data$=this.client.data$.pipe(p.tap(function(n){e.noData=!(!n||0!=n.count)})),new l.ActionsHeatmapTrace(this.mapInstance).setPageData$(this.data$)},n}();ae.decorators=[{type:e.Injectable}],ae.ctorParameters=function(){return[null]};var re={heatmap:function(){return{service:ae,initialConfig:{title:"Heatmap of completed actions",initialDateRange:o.DateRangeMap.last_7_days,query:{page_size:500}}}},status:function(){return{service:ne,initialConfig:{title:"Actions status chart",initialDateRange:o.DateRangeMap.last_30_days,tags:[],chartFormat:[{title:"Assigned",selector:function(n){return n.assigned}},{title:"Completed",selector:function(n){return n.completed}}]}}},max_distance:function(){return{service:te,initialConfig:{title:"Actions with max distance",tags:["distance"],query:{ordering:"-distance"},tableFormat:[{label:"id",selector:function(n){return n.lookup_id||"NA"}},{label:"Type",selector:function(n){return n.type}},o.actionTableFormat.distance,o.actionTableFormat.duration]}}},recently_assigned:function(){return{service:te,initialConfig:{title:"Recent assigned actions",tags:["live"],query:{ordering:"-assigned_at",status:"assigned,started"},updateStrategy:"live",hideDatePicker:!0,initialDateRange:o.DateRangeMap.last_30_days,tableFormat:[{label:"User",selector:function(n){return n.user?i.NameCase(n.user.name):"NA"}},{label:"Type",selector:function(n){return n.type}},o.actionTableFormat.assigned_at,{label:"Expected at",selector:function(n){return n.expected_at?i.TimeString(n.expected_at)+" "+i.DateString(n.expected_at,"short"):n.eta?i.TimeString(n.eta)+" "+i.DateString(n.eta,"short"):"--"}},{label:"Distance remaining",selector:function(n){return n.display.distance_remaining?i.DistanceLocale(n.display.distance_remaining):"--"}}]}}},recently_completed:function(){return{service:te,initialConfig:{title:"Recent completed actions",tags:["live"],query:{ordering:"-completed_at",status:"completed"},updateStrategy:"live",hideDatePicker:!0,initialDateRange:o.DateRangeMap.last_30_days,tableFormat:[{label:"User",selector:function(n){return n.user?i.NameCase(n.user.name):"NA"}},{label:"Type",selector:function(n){return n.type}},o.actionTableFormat.completed_at,{label:"Ontime",selector:function(n){return n.display.is_late?"Late":"Ontime"}},o.actionTableFormat["distance&duration"]]}}},max_duration:function(){return{service:te,initialConfig:{title:"Actions with max duration",query:{ordering:"-duration"},tableFormat:[{label:"User",selector:function(n){return n.user?i.NameCase(n.user.name):"NA"}},{label:"Type",selector:function(n){return n.type}},o.actionTableFormat.duration,o.actionTableFormat.distance]}}},users_on_action:function(){return{service:te,initialConfig:{title:"Recent user on action",query:{ordering:"-assigned_at"},tags:["users","live"],updateStrategy:"live",hideDatePicker:!0,tableFormat:[{label:"Name",selector:function(n){return n.user?n.user.name:"NA"}},o.actionTableFormat.assigned_at,{label:"Last updated at",selector:function(n){return n.user?i.TimeString(n.user.last_heartbeat_at):"--"}},{label:"Action type",selector:function(n){return n.type}},{label:"Expected At",selector:function(n){return n.expected_at?i.TimeString(n.expected_at)+" "+i.DateString(n.expected_at,"short"):n.eta?i.TimeString(n.eta)+" "+i.DateString(n.eta,"short"):"--"}}]}}},summary:function(n,e,t,i){return{service:oe,initialConfig:{title:t||"Actions status summary",updateStrategy:"live",tags:["live"],query:{},queryLabels:i,dateRangeService:e,client:n}}}},se=function(){function n(){this.chosenItemCreater=[],this.selectedTags$=new d.BehaviorSubject([]);var n=c.usersClientFactory({dateRange$:c.dateRangeFactory(o.DateRangeMap.today).data$}),e=n.filterClass,t=e.activityQueryArray,i=e.showAllQueryArray,a=c.dateRangeFactory(o.DateRangeMap.today),r=c.actionsClientFactory({dateRange$:a.data$});this.presets=[re.summary(r,a),Jn.users_summary(n,"Users activity summary",S(t,i)),re.status(),re.heatmap(),Jn.stops_heatmap(),re.recently_assigned(),re.recently_completed(),Jn.last_recorded(),Jn.users_actions(),Jn.max_location_disabled_duration(),Jn.current_location_disabled(),Jn.max_stop_duration(),Jn.max_distance()],this.chosenItemCreater=this.presets}return n.prototype.initPresets=function(){var n=this;this.items$||(this.items$=new d.BehaviorSubject(this.getItems(this.presets)),this.allTags$=this.items$.pipe(p.map(function(e){return n.totalTags=e.length,e.reduce(function(n,e){return e.tags.reduce(function(n,e){return n.includes(e)?n:S(n,[e])},n)},["users","actions"])})),this.filteredItems$=u.combineLatest(this.items$,this.selectedTags$,function(n,e){return e.length?n.filter(function(n){return e.reduce(function(e,t){return e&&n.tags.includes(t)},!0)}):n}),this.tags$=u.combineLatest(this.allTags$,this.selectedTags$,function(n,e){return n.map(function(n){return{key:n,isActive:e.includes(n)}})}))},n.prototype.isItemCreatorActive=function(n){return this.chosenItemCreater.includes(n)},n.prototype.toggleTag=function(n){var e=this;this.selectedTags$.pipe(p.take(1)).subscribe(function(t){t.includes(n)?t.splice(t.indexOf(n),1):t.push(n),e.selectedTags$.next(S(t))})},n.prototype.selectTag=function(n){var e=this;this.selectedTags$.pipe(p.take(1)).subscribe(function(t){t.includes(n)?t.splice(t.indexOf(n),1):t=[n],e.selectedTags$.next(S(t))})},n.prototype.setPreset=function(n){this.items$.next(this.getItems(n)),this.initServices()},n.prototype.getItems=function(n){return n.map(function(n){return new n.service(n.initialConfig)})},n.prototype.initServices=function(){this.setServicesActive(!0)},n.prototype.setServicesActive=function(n){void 0===n&&(n=!0),this.items$.pipe(p.take(1)).subscribe(function(e){e.forEach(function(e){e.setActive(n)})})},n.prototype.destroy=function(){this.setServicesActive(!1)},n}();se.decorators=[{type:e.Injectable}],se.ctorParameters=function(){return[]};var le=function(){function n(n){this.analyticsItemsService=n,this.configure=!1}return n.prototype.ngOnInit=function(){this.analyticsItemsService.initPresets(),this.analyticsItemsService.initServices()},n.prototype.openConfig=function(){this.configure=!0},n.prototype.trackByFn=function(n,e){return e.title},n.prototype.ngOnDestroy=function(){this.analyticsItemsService.destroy()},n}();le.decorators=[{type:e.Component,args:[{selector:"ht-analytics-container",template:'<div class="toolbar">\n  <div class="level">\n    <div class="level-left">\n      \x3c!--<div class="level-item">--\x3e\n        \x3c!--<div class="icon">--\x3e\n          \x3c!--<i class="fa fa-tags has-text-grey"></i>--\x3e\n        \x3c!--</div>--\x3e\n        \x3c!--Filter by Tags:--\x3e\n      \x3c!--</div>--\x3e\n      <div class="level-item">\n        <div class="dropdown is-hoverable">\n          <div class="dropdown-trigger">\n            <button class="button" aria-haspopup="true" aria-controls="dropdown-menu">\n              <span class="icon">\n                <i class="fa fa-tags has-text-grey"></i>\n              </span>\n              <span>Filter by Tags:</span>\n              <span class="icon is-small">\n        <i class="fa fa-angle-down" aria-hidden="true"></i>\n      </span>\n            </button>\n          </div>\n          <div class="dropdown-menu" id="dropdown-menu" role="menu">\n            <div class="dropdown-content">\n              <a (click)="analyticsItemsService.toggleTag(tag.key)" class="dropdown-item" *ngFor="let tag of analyticsItemsService.tags$ | async">\n                <label class="checkbox">\n                  <input type="checkbox" [checked]="tag.isActive">\n                  {{tag.key}}\n                </label>\n              </a>\n              \x3c!--<a class="dropdown-item">--\x3e\n                \x3c!--Other dropdown item--\x3e\n              \x3c!--</a>--\x3e\n              \x3c!--<a href="#" class="dropdown-item is-active">--\x3e\n                \x3c!--Active dropdown item--\x3e\n              \x3c!--</a>--\x3e\n              \x3c!--<a href="#" class="dropdown-item">--\x3e\n                \x3c!--Other dropdown item--\x3e\n              \x3c!--</a>--\x3e\n              \x3c!--<hr class="dropdown-divider">--\x3e\n              \x3c!--<a href="#" class="dropdown-item">--\x3e\n                \x3c!--With a divider--\x3e\n              \x3c!--</a>--\x3e\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="level-item" *ngFor="let tag of analyticsItemsService.tags$ | async">\n        <button\n          class="button"\n          [class.is-primary]="tag.isActive"\n          (click)="analyticsItemsService.selectTag(tag.key)">\n          <span>{{tag.key}}</span>\n          <span *ngIf="tag.isActive" class="icon is-small">\n              <i class="fa fa-times"></i>\n            </span>\n        </button>\n        \x3c!--<span class="tag clickable is-medium"--\x3e\n              \x3c!--(click)="analyticsItemsService.selectTag(tag.key)"--\x3e\n              \x3c!--[class.is-primary]="tag.isActive">--\x3e\n          \x3c!--{{tag.key}} <span *ngIf="tag.isActive" class="delete"></span>--\x3e\n        \x3c!--</span>--\x3e\n      </div>\n    </div>\n    <div class="level-right">\n      <div class="level-item">\n        <button class="button" (click)="openConfig()">\n        <span class="icon">\n          <i class="fa fa-edit"></i>\n        </span>\n          <span>Edit</span>\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="container">\n  <div class="columns is-multiline is-centered" *ngIf="analyticsItemsService.filteredItems$ | async as items">\n    <div class="column" [@card-appear] [ngClass]="item.className" *ngFor="let item of items">\n      <div class="card card-content">\n        <ht-analytics-tags\n          (selectTag)="analyticsItemsService.toggleTag($event)"\n          [tags]="item.tags"\n          [selectedTags]="analyticsItemsService.selectedTags$ | async"></ht-analytics-tags>\n        <ht-analytics-title\n          [title]="item.title"\n          [hideDatePicker]="item.hideDatePicker"\n          [dateRangeService$]="item.dateRangeService$"></ht-analytics-title>\n        <ht-analytics-item-load [minHeight]="item.minHeight" [loading$]="item.loading$" [noData]="item.noData">\n          <ht-analytics-item [item]="item"></ht-analytics-item>\n        </ht-analytics-item-load>\n      </div>\n    </div>\n    <div class="column is-6 auto setup" *ngIf="items.length == 0">\n      <div class="is-size-1 has-text-centered has-text-grey-light">No view is selected</div>\n    </div>\n    <div class="modal is-active" *ngIf="configure">\n      <div class="modal-background" (click)="configure = false"></div>\n      <div class="modal-card">\n        <header class="modal-card-head">\n          <p class="modal-card-title">Choose preset views</p>\n        </header>\n        <section class="modal-card-body">\n          <ht-analytics-selector (selected)="configure = false"></ht-analytics-selector>\n        </section>\n      </div>\n    </div>\n  </div>\n</div>\n',styles:[".setup{\n  margin-top:70px; }\n.toolbar{\n  width:100%;\n  padding:16px 40px;\n  margin-bottom:20px;\n  background:white;\n  border-bottom:1px solid #d6d6d6; }\n.grid{\n  display:grid;\n  grid-template-columns:1fr 1fr; }\n  .grid .is-6{\n    width:100%; }\n  .grid .is-12{\n    grid-column:1/3; }\n"],animations:[s.trigger("card-appear",[s.transition(":enter",[s.style({width:0,height:0,opacity:0}),s.animate("200ms ease-in-out",s.style({width:"*",height:"*",opacity:1}))]),s.transition(":leave",[s.style({width:"*",height:"*",opacity:0}),s.animate("200ms ease-in-out",s.style({width:0,height:0,opacity:0}))])])]}]}],le.ctorParameters=function(){return[{type:se}]};var ce=function(){return function(n){this.viewContainerRef=n}}();ce.decorators=[{type:e.Directive,args:[{selector:"[htAnalyticsSlot]"}]}],ce.ctorParameters=function(){return[{type:e.ViewContainerRef}]};var pe=function(){function n(n){this.componentFactoryResolver=n}return n.prototype.ngOnInit=function(){this.addComponent()},n.prototype.addComponent=function(){var n=this.componentFactoryResolver.resolveComponentFactory(this.item.component),e=this.slot.viewContainerRef;e.clear();var t=e.createComponent(n);this.item.setData(t.instance)},n}();pe.decorators=[{type:e.Component,args:[{selector:"ht-analytics-item",template:"<div htAnalyticsSlot></div>\n",styles:[""]}]}],pe.ctorParameters=function(){return[{type:e.ComponentFactoryResolver}]},pe.propDecorators={slot:[{type:e.ViewChild,args:[ce]}],item:[{type:e.Input}]};var de=function(){function n(n){this.analyticsItemsService=n,this.selected=new e.EventEmitter,this.choosenPreset=[]}return n.prototype.ngOnInit=function(){var n;(n=this.choosenPreset).push.apply(n,S(this.analyticsItemsService.presets))},n.prototype.isActive=function(n){return this.choosenPreset.includes(n)},n.prototype.togglePreset=function(n){if(this.isActive(n)){var e=this.choosenPreset.indexOf(n);this.choosenPreset.splice(e,1)}else this.choosenPreset.push(n)},n.prototype.setPreset=function(){this.analyticsItemsService.setPreset(this.choosenPreset),this.selected.next(!0)},n}();de.decorators=[{type:e.Component,args:[{selector:"ht-analytics-selector",template:'\x3c!--<div class="card">--\x3e\n  \x3c!--<div class="card-header">--\x3e\n    \x3c!--<div class="card-header-title">--\x3e\n      \x3c!--Choose preset views--\x3e\n    \x3c!--</div>--\x3e\n  \x3c!--</div>--\x3e\n  \x3c!--<div class="card-content">--\x3e\n    \x3c!----\x3e\n  \x3c!--</div>--\x3e\n\x3c!--</div>--\x3e\n<div class="field" *ngFor="let preset of analyticsItemsService.presets">\n  <div class="control">\n    <label class="checkbox">\n      <input type="checkbox" (click)="togglePreset(preset)" [checked]="isActive(preset)">\n      {{preset.initialConfig.title}}\n    </label>\n  </div>\n</div>\n<div class="field">\n  <div class="control">\n    <button class="button" (click)="setPreset()">Create views</button>\n  </div>\n</div>\n',styles:[""],changeDetection:e.ChangeDetectionStrategy.OnPush}]}],de.ctorParameters=function(){return[{type:se}]},de.propDecorators={selected:[{type:e.Output}]};var ue=function(){return function(){}}();ue.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule,rn],declarations:[Vn],exports:[Vn]}]}],ue.ctorParameters=function(){return[]};var ge=function(){function n(){this.remove=new e.EventEmitter,this.selectTag=new e.EventEmitter,this.edit=new e.EventEmitter}return n.prototype.ngOnInit=function(){},n.prototype.isTagActive=function(n){return this.selectedTags.includes(n)},n}();ge.decorators=[{type:e.Component,args:[{selector:"ht-analytics-tags",template:'<div class="level">\n  <div class="level-left">\n    <div class="level-item">\n      <div class="icon">\n        <i class="fa fa-tag has-text-grey"></i>\n      </div>\n    </div>\n    <div class="level-item">\n      <div class="tags">\n        <span class="tag clickable" (click)="selectTag.next(tag)" [class.is-primary]="isTagActive(tag)" *ngFor="let tag of tags">\n          {{tag}}\n          <span class="icon" *ngIf="tag === \'live\'">\n            &nbsp;\n            <i class="fa fa-circle" style="color: #99d8ac;"></i>\n          </span>\n        </span>\n      </div>\n    </div>\n  </div>\n  \x3c!--<div class="level-right">--\x3e\n    \x3c!--<div class="level-item">--\x3e\n      \x3c!--<div class="dropdown is-hoverable is-right">--\x3e\n        \x3c!--<div class="dropdown-trigger">--\x3e\n          \x3c!--<button class="button is-white has-text-grey" aria-haspopup="true" aria-controls="dropdown-menu4">--\x3e\n        \x3c!--<span class="icon">--\x3e\n          \x3c!--<i class="fa fa-ellipsis-v"></i>--\x3e\n        \x3c!--</span>--\x3e\n          \x3c!--</button>--\x3e\n        \x3c!--</div>--\x3e\n        \x3c!--<div class="dropdown-menu" id="dropdown-menu4" role="menu">--\x3e\n          \x3c!--<div class="dropdown-content">--\x3e\n            \x3c!--<a class="dropdown-item flex-row align-center">--\x3e\n              \x3c!--<span class="icon"><i class="fa fa-edit"></i></span>--\x3e\n              \x3c!--<span class="flex">Edit</span>--\x3e\n            \x3c!--</a>--\x3e\n            \x3c!--<a class="dropdown-item flex-row align-center has-text-danger">--\x3e\n              \x3c!--<span class="icon"><i class="fa fa-remove"></i></span>--\x3e\n              \x3c!--<span class="flex">Remove</span>--\x3e\n            \x3c!--</a>--\x3e\n          \x3c!--</div>--\x3e\n        \x3c!--</div>--\x3e\n      \x3c!--</div>--\x3e\n    \x3c!--</div>--\x3e\n  \x3c!--</div>--\x3e\n</div>\n',styles:[".level{\n  margin-bottom:10px; }\n"],changeDetection:e.ChangeDetectionStrategy.OnPush}]}],ge.ctorParameters=function(){return[]},ge.propDecorators={tags:[{type:e.Input}],selectedTags:[{type:e.Input}],remove:[{type:e.Output}],selectTag:[{type:e.Output}],edit:[{type:e.Output}]};var xe=function(){return function(){}}();xe.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule],declarations:[ge],exports:[ge]}]}],xe.ctorParameters=function(){return[]};var fe=function(){function n(){this.excludedKey=["type","lookup_id","id","short_code","vehicle_type","status","created_at","modified_at","sub_status","started_at","tracking_url"]}return n.prototype.ngOnInit=function(){},Object.defineProperty(n.prototype,"tableData",{get:function(){return o.tableFormat(this.action,{excludes:this.excludedKey,format:o.actionTableFormat})},enumerable:!0,configurable:!0}),n}();fe.decorators=[{type:e.Component,args:[{selector:"ht-action-table",template:'<div class="level">\n  <div class="level-right has-text-grey">\n    <div class="level-item">\n      <div class="icon-box">\n        <i class="fa fa-briefcase"></i>\n      </div>\n      \x3c!--<span class="fa-stack fa-lg">--\x3e\n          \x3c!--<i class="fa fa-square-o fa-stack-2x"></i>--\x3e\n          \x3c!--<i class="fa fa-briefcase fa-stack-1x"></i>--\x3e\n        \x3c!--</span>--\x3e\n    </div>\n    <div class="level-item is-size-4 is-capitalized">\n      {{action.type}}\n      \x3c!--<span *ngIf="action.display.duration_remaining && action.display.show_summary">--\x3e\n        \x3c!--{{action.display.duration_remaining | HMString}}--\x3e\n      \x3c!--</span>--\x3e\n    </div>\n    <div class="level-item is-size-4">\n      {{action.display.status_text}}\n    </div>\n    <div class="level-item is-size-4">\n      {{action.display.sub_status_text}}\n    </div>\n  </div>\n  <div class="level-left">\n    # {{action.lookup_id}}\n  </div>\n</div>\n<ht-data-table [tableData]="tableData"></ht-data-table>\n<ht-user-table [user]="action.user"></ht-user-table>\n',styles:[".icon-box{\n  width:30px;\n  height:30px;\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  border:1px solid grey;\n  border-radius:50%; }\n  .icon-box .fa{\n    margin:auto; }\n"],changeDetection:e.ChangeDetectionStrategy.OnPush}]}],fe.ctorParameters=function(){return[]},fe.propDecorators={action:[{type:e.Input}]};var me=function(){return function(){}}();me.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule,Ln,Yn,H],declarations:[fe],exports:[fe]}]}],me.ctorParameters=function(){return[]};var be=function(){return function(){}}();be.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule,Mn,me],declarations:[ee],exports:[ee]}]}],be.ctorParameters=function(){return[]};var he=function(){return function(){}}();he.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule,rn],declarations:[ie],exports:[ie]}]}],he.ctorParameters=function(){return[]};var ye=function(){function n(){}return n.prototype.ngOnInit=function(){},n}();ye.decorators=[{type:e.Component,args:[{selector:"ht-analytics-title",template:'<div class="level">\n  <div class="level-left">\n    <div class="level-item has-text-weight-bold has-text-primary is-size-4">\n      {{title}}\n    </div>\n  </div>\n  <div class="level-right">\n    <ng-content></ng-content>\n    <div class="level-item" *ngIf="!hideDatePicker">\n      <ht-date-range [isRight]="true" [dateRangeService$]="dateRangeService$"></ht-date-range>\n    </div>\n  </div>\n</div>\n',styles:[".level{\n  margin-bottom:10px; }\n"]}]}],ye.ctorParameters=function(){return[]},ye.propDecorators={title:[{type:e.Input}],dateRangeService$:[{type:e.Input}],hideDatePicker:[{type:e.Input}]};var ve=function(){function n(){this.noData=!1}return Object.defineProperty(n.prototype,"_minHeight",{get:function(){return this.minHeight||300},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){},n}();ve.decorators=[{type:e.Component,args:[{selector:"ht-analytics-item-load",template:'<div class="loading-container" [style.min-height.px]="_minHeight">\n  <ng-content></ng-content>\n  <div class="loading-page" *ngIf="loading$ | async">\n    <div class="icon auto has-text-grey-light">\n      <i class="fa fa-circle-o-notch fa-spin fa-3x fa-fw"></i>\n    </div>\n  </div>\n  <div class="loading-page" *ngIf="noData">\n    <div class="auto has-text-grey-light is-size-1">\n      No Data\n    </div>\n  </div>\n</div>\n',styles:[".loading-page{\n  background:#ffffff96;\n  position:absolute;\n  height:100%;\n  width:100%;\n  top:0;\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  z-index:600; }\n.loading-container{\n  position:relative; }\n"],changeDetection:e.ChangeDetectionStrategy.OnPush}]}],ve.ctorParameters=function(){return[]},ve.propDecorators={loading$:[{type:e.Input}],minHeight:[{type:e.Input}],noData:[{type:e.Input}]};var we=function(){return function(){}}();we.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule],declarations:[ve],exports:[ve]}]}],we.ctorParameters=function(){return[]};var ke=function(){return function(){}}();ke.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule,vn],declarations:[Xn],exports:[Xn]}]}],ke.ctorParameters=function(){return[]};var Se=function(){return function(){}}();Se.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule,Qn,qn,ue,xe,be,he,we,Mn,ke],declarations:[le,ce,pe,de,ye],exports:[le,ce,pe,de],entryComponents:[On,Gn,Vn,ee,ie,Xn],providers:[se]}]}],Se.ctorParameters=function(){return[]};var Ce=function(n){function e(e){var t=n.call(this)||this;return t.http=e,t}return w(e,n),e.prototype.getObservable=function(e,t){void 0===t&&(t={});var i=n.prototype.headerObj.call(this);return this.http.get(e,Object.assign({headers:i},t))},e.prototype.postObservable=function(e,t,i){void 0===i&&(i={});var o=n.prototype.headerObj.call(this);return this.http.post(e,t,Object.assign({headers:o},i))},e}(c.HtRequest),Fe=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return w(e,n),e}(c.AccountsClient),Ie=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return w(e,n),e}(c.HtActionsClient),_e=new e.InjectionToken("app.token");function De(n,e){var t=new Ce(e);return c.htRequestService.setInstance(t),c.htClientService.getInstance(n)}function Ae(n){return void 0===n&&(n="google"),new V(n)}function Pe(){return c.usersClientFactory()}function $e(){return c.actionsClientFactory()}function Me(){return c.groupsClientFactory()}function Ee(){return new c.AccountsClient}var ze=function(){function n(){}return n.forRoot=function(e){return{ngModule:n,providers:[y.HttpClient,{provide:W,useValue:e.mapType},{provide:V,useFactory:Ae,deps:[W]},{provide:_e,useValue:e.token},{provide:Bn,useFactory:De,deps:[_e,y.HttpClient]},{provide:X,useFactory:Pe},{provide:Ie,useFactory:$e},{provide:gn,useFactory:Me},{provide:Fe,useFactory:Ee}]}},n}();ze.decorators=[{type:e.NgModule,args:[{imports:[y.HttpClientModule]}]}],ze.ctorParameters=function(){return[]},n.UserCardModule=G,n.UserCardComponent=C,n.UsersComponent=Q,n.UsersModule=K,n.UsersContainerModule=pn,n.UsersContainerComponent=Z,n.GroupsModule=un,n.GroupsComponent=dn,n.GroupsContainerModule=fn,n.GroupsContainerComponent=xn,n.GroupsChartContainerModule=hn,n.GroupsChartContainerComponent=bn,n.MapModule=vn,n.MapContainerModule=kn,n.MapContainerComponent=wn,n.SharedModule=H,n.PaginationModule=cn,n.PaginationComponent=ln,n.PlacelineContainerModule=tn,n.PlacelineContainerComponent=en,n.PlacelineModule=nn,n.PlacelineComponent=J,n.PlacelineMapContainerModule=Cn,n.PlacelineMapContainerComponent=Sn,n.UsersMapContainerModule=zn,n.UsersMapContainerComponent=Fn,n.GroupKeyResolver=Rn,n.GroupLookupKeyResolver=jn,n.HtClientService=Bn,n.HtUsersService=X,n.HtMapService=V,n.HtGroupsService=gn,n.UsersAnalyticsListModule=qn,n.UsersAnalyticsListComponent=On,n.ActionsStatusGraphModule=Qn,n.ActionsStatusGraphComponent=Gn,n.UserTableModule=Ln,n.UserTableComponent=Tn,n.AnalyticsContainerModule=Se,n.AnalyticsContainerComponent=le,n.UsersSummaryChartComponent=Vn,n.UsersSummaryChartModule=ue,n.DateRangeModule=Mn,n.DateRangePickerModule=$n,n.DateRangePickerComponent=Pn,n.DateRangeComponent=An,n.TOKEN=_e,n.clientServiceFactory=De,n.mapServiceFactory=Ae,n.userClientServiceFactory=Pe,n.actionClientServiceFactory=$e,n.groupClientServiceFactory=Me,n.accountUsersClientServiceFactory=Ee,n.HtModule=ze,n.bl=fe,n.bk=me,n.bm=ee,n.bj=be,n.bo=ie,n.bn=he,n.bq=ve,n.bp=we,n.bv=pe,n.bu=ce,n.bt=se,n.bw=de,n.bi=ge,n.bh=xe,n.bx=ye,n.bs=Xn,n.br=ke,n.bg=Un,n.bf=Yn,n.bd=_n,n.bc=Dn,n.be=In,n.bb=En,n.z=mn,n.bz=Fe,n.by=Ie,n.a=W,n.ba=yn,n.q=T,n.n=B,n.j=E,n.d=D,n.k=z,n.f=P,n.l=R,n.g=A,n.r=Y,n.o=U,n.e=_,n.p=O,n.m=j,n.c=I,n.s=L,n.u=N,n.t=q,n.i=M,n.h=$,n.b=F,n.y=on,n.v=sn,n.x=an,n.w=rn,Object.defineProperty(n,"__esModule",{value:!0})});
//# sourceMappingURL=ht-angular.umd.min.js.map
